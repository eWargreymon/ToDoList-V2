(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,u=this.normalizeInstanceIdentifier(void 0===i?o:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=Object(r.e)(h.value,2),f=d[1];u===this.normalizeInstanceIdentifier(d[0])&&f.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return c},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.4.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return en}),n.d(e,"b",function(){return gu}),n.d(e,"c",function(){return hu}),n.d(e,"d",function(){return cu}),n.d(e,"e",function(){return lu}),n.d(e,"f",function(){return cc}),n.d(e,"g",function(){return Ju}),n.d(e,"h",function(){return ca}),n.d(e,"i",function(){return Iu}),n.d(e,"j",function(){return No}),n.d(e,"k",function(){return vu}),n.d(e,"l",function(){return Fo}),n.d(e,"m",function(){return gr}),n.d(e,"n",function(){return Ha}),n.d(e,"o",function(){return es}),n.d(e,"p",function(){return Sn}),n.d(e,"q",function(){return A}),n.d(e,"r",function(){return tn}),n.d(e,"s",function(){return ys}),n.d(e,"t",function(){return na}),n.d(e,"u",function(){return ia}),n.d(e,"v",function(){return bu}),n.d(e,"w",function(){return _a}),n.d(e,"x",function(){return ec}),n.d(e,"y",function(){return va}),n.d(e,"z",function(){return Wu}),n.d(e,"A",function(){return ku}),n.d(e,"B",function(){return Tn}),n.d(e,"C",function(){return mu}),n.d(e,"D",function(){return pu}),n.d(e,"E",function(){return Ka}),n.d(e,"F",function(){return Uo}),n.d(e,"G",function(){return Vo}),n.d(e,"H",function(){return _r}),n.d(e,"I",function(){return Bo}),n.d(e,"J",function(){return hr}),n.d(e,"K",function(){return On}),n.d(e,"L",function(){return ic}),n.d(e,"M",function(){return ma}),n.d(e,"N",function(){return Fu}),n.d(e,"O",function(){return nn}),n.d(e,"P",function(){return zo}),n.d(e,"Q",function(){return Ho}),n.d(e,"R",function(){return Ea}),n.d(e,"S",function(){return P}),n.d(e,"T",function(){return Qu}),n.d(e,"U",function(){return Gu}),n.d(e,"V",function(){return f}),n.d(e,"W",function(){return _n}),n.d(e,"X",function(){return Ku}),n.d(e,"Y",function(){return ac}),n.d(e,"Z",function(){return Uu}),n.d(e,"ab",function(){return yu}),n.d(e,"bb",function(){return rs}),n.d(e,"cb",function(){return vo}),n.d(e,"db",function(){return cr}),n.d(e,"eb",function(){return Gn}),n.d(e,"fb",function(){return Pn}),n.d(e,"gb",function(){return Fn}),n.d(e,"hb",function(){return qn}),n.d(e,"ib",function(){return Vn}),n.d(e,"jb",function(){return Ln}),n.d(e,"kb",function(){return Un}),n.d(e,"lb",function(){return mo}),n.d(e,"mb",function(){return oc}),n.d(e,"nb",function(){return go}),n.d(e,"ob",function(){return yo}),n.d(e,"pb",function(){return Mn}),n.d(e,"qb",function(){return U}),n.d(e,"rb",function(){return Is}),n.d(e,"sb",function(){return Hs}),n.d(e,"tb",function(){return qs}),n.d(e,"ub",function(){return Bs}),n.d(e,"vb",function(){return po}),n.d(e,"wb",function(){return Ot}),n.d(e,"xb",function(){return l}),n.d(e,"yb",function(){return Rn}),n.d(e,"zb",function(){return vs}),n.d(e,"Ab",function(){return vt}),n.d(e,"Bb",function(){return ko}),n.d(e,"Cb",function(){return ai}),n.d(e,"Db",function(){return Ds}),n.d(e,"Eb",function(){return eo}),n.d(e,"Fb",function(){return ru}),n.d(e,"Gb",function(){return X}),n.d(e,"Hb",function(){return st}),n.d(e,"Ib",function(){return _}),n.d(e,"Jb",function(){return w}),n.d(e,"Kb",function(){return nt}),n.d(e,"Lb",function(){return ot}),n.d(e,"Mb",function(){return Rs}),n.d(e,"Nb",function(){return Vs}),n.d(e,"Ob",function(){return Ls}),n.d(e,"Pb",function(){return Fs}),n.d(e,"Qb",function(){return Us}),n.d(e,"Rb",function(){return Qe}),n.d(e,"Sb",function(){return co}),n.d(e,"Tb",function(){return vn}),n.d(e,"Ub",function(){return Ze}),n.d(e,"Vb",function(){return uu}),n.d(e,"Wb",function(){return zs}),n.d(e,"Xb",function(){return iu}),n.d(e,"Yb",function(){return $s}),n.d(e,"Zb",function(){return Ua}),n.d(e,"ac",function(){return qa}),n.d(e,"bc",function(){return Ys}),n.d(e,"cc",function(){return Qs}),n.d(e,"dc",function(){return Ps}),n.d(e,"ec",function(){return Zs}),n.d(e,"fc",function(){return Fa}),n.d(e,"gc",function(){return La}),n.d(e,"hc",function(){return eu}),n.d(e,"ic",function(){return Ht}),n.d(e,"jc",function(){return dr}),n.d(e,"kc",function(){return rt}),n.d(e,"lc",function(){return Ns}),n.d(e,"mc",function(){return oo}),n.d(e,"nc",function(){return ao}),n.d(e,"oc",function(){return uo}),n.d(e,"pc",function(){return nu});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=u({__forward_ref__:u});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function v(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${b(t)} found${n}`)}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return{providers:t.providers||[],imports:t.imports||[]}}function E(t){return S(t,O)||S(t,I)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(x))?t[C]:null}const O=u({"\u0275prov":u}),C=u({"\u0275inj":u}),I=u({ngInjectableDef:u}),x=u({ngInjectorDef:u});var A=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let k;function D(t){const e=k;return k=t,e}function j(t,e,n){const r=E(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&A.Optional?null:void 0!==e?e:void v(l(t),"Injector")}function N(t){return{toString:t}.toString()}var R=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),P=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,L="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,U=M||V||F||L,q={},B=[],H=[],z=u({"\u0275cmp":u}),K=u({"\u0275dir":u}),G=u({"\u0275pipe":u}),$=u({"\u0275mod":u}),W=u({"\u0275loc":u}),Q=u({"\u0275fac":u}),Y=u({__NG_ELEMENT_ID__:u});let Z=0;function X(t){return N(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===R.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||H,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||P.Emulated,id:"c",styles:t.styles||H,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Z++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(J):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(tt):null,n})}function J(t){return at(t)||function(t){return t[K]||null}(t)}function tt(t){return function(t){return t[G]||null}(t)}const et={};function nt(t){const e={type:t.type,bootstrap:t.bootstrap||H,declarations:t.declarations||H,imports:t.imports||H,exports:t.exports||H,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&N(()=>{et[t.id]=t.type}),e}function rt(t,e){return N(()=>{const n=ut(t,!0);n.declarations=e.declarations||H,n.imports=e.imports||H,n.exports=e.exports||H})}function it(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const st=X;function ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[z]||null}function ut(t,e){const n=t[$]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ct=20,lt=10;function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function dt(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=Et),wt}function wt(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Et(t,e,n,r){const i=St(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new bt(u&&u.currentValue,e,o===q),t[r]=e}function St(t){return t.__ngSimpleChanges__||null}let Tt;function Ot(t){Tt=t}function Ct(t){return!!t.listen}vt.ngInherit=!0;const It={createRenderer:(t,e)=>void 0!==Tt?Tt:"undefined"!=typeof document?document:void 0};function xt(t){for(;Array.isArray(t);)t=t[0];return t}function At(t,e){return xt(e[t])}function kt(t,e){return xt(e[t.index])}function Dt(t,e){return t.data[e]}function jt(t,e){const n=e[t];return ht(n)?n:n[0]}function Nt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Rt(t){return 4==(4&t[2])}function Pt(t){return 128==(128&t[2])}function Mt(t,e){return null==e?null:t[e]}function Ft(t){t[18]=0}function Lt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Vt={lFrame:ae(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ut(){return Vt.bindingsEnabled}function qt(){return Vt.lFrame.lView}function Bt(){return Vt.lFrame.tView}function Ht(t){Vt.lFrame.contextLView=t}function zt(){let t=Kt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Kt(){return Vt.lFrame.currentTNode}function Gt(t,e){const n=Vt.lFrame;n.currentTNode=t,n.isParent=e}function $t(){return Vt.lFrame.isParent}function Wt(){Vt.lFrame.isParent=!1}function Qt(){return Vt.isInCheckNoChangesMode}function Yt(t){Vt.isInCheckNoChangesMode=t}function Zt(){const t=Vt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Xt(){return Vt.lFrame.bindingIndex++}function Jt(t,e){const n=Vt.lFrame;n.bindingIndex=n.bindingRootIndex=t,te(e)}function te(t){Vt.lFrame.currentDirectiveIndex=t}function ee(){return Vt.lFrame.currentQueryIndex}function ne(t){Vt.lFrame.currentQueryIndex=t}function re(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ie(t,e,n){if(n&A.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&A.Host||(r=re(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Vt.lFrame=oe();return r.currentTNode=e,r.lView=t,!0}function se(t){const e=oe(),n=t[1];Vt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function oe(){const t=Vt.lFrame,e=null===t?null:t.child;return null===e?ae(t):e}function ae(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ue(){const t=Vt.lFrame;return Vt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ce=ue;function le(){const t=ue();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function he(){return Vt.lFrame.selectedIndex}function de(t){Vt.lFrame.selectedIndex=t}function fe(){const t=Vt.lFrame;return Dt(t.tView,t.selectedIndex)}function pe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function me(t,e,n){be(t,e,3,n)}function ge(t,e,n,r){(3&t[2])===n&&be(t,e,n,r)}function ye(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function be(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(ve(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ve(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const _e=-1;class we{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ee(t,e,n){const r=Ct(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Te(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Se(t){return 3===t||4===t||6===t}function Te(t){return 64===t.charCodeAt(0)}function Oe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ce(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ce(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ie(t){return t!==_e}function xe(t){return 32767&t}function Ae(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let ke=!0;function De(t){const e=ke;return ke=t,e}let je=0;function Ne(t,e){const n=Pe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Re(r.data,t),Re(e,null),Re(r.blueprint,null));const i=Me(t,e),s=t.injectorIndex;if(Ie(i)){const t=xe(i),n=Ae(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Re(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Pe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Me(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return _e;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return _e}function Fe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=je++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Le(t,e,n){if(n&A.Optional)return t;v(e,"NodeInjector")}function Ve(t,e,n,r){if(n&A.Optional&&void 0===r&&(r=null),0==(n&(A.Self|A.Host))){const i=t[9],s=D(void 0);try{return i?i.get(e,r,n&A.Optional):j(e,r,n&A.Optional)}finally{D(s)}}return Le(r,e,n)}function Ue(t,e,n,r=A.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:Be:e}(n);if("function"==typeof s){if(!ie(e,t,r))return r&A.Host?Le(i,n,r):Ve(e,n,r,i);try{const t=s();if(null!=t||r&A.Optional)return t;v(n)}finally{ce()}}else if("number"==typeof s){let i=null,o=Pe(t,e),a=_e,u=r&A.Host?e[16][6]:null;for((-1===o||r&A.SkipSelf)&&(a=-1===o?Me(t,e):e[o+8],a!==_e&&$e(r,!1)?(i=e[1],o=xe(a),e=Ae(a,e)):o=-1);-1!==o;){const t=e[1];if(Ge(s,o,t.data)){const t=He(o,e,n,i,r,u);if(t!==qe)return t}a=e[o+8],a!==_e&&$e(r,e[1].data[o+8]===u)&&Ge(s,o,e)?(i=t,o=xe(a),e=Ae(a,e)):o=-1}}}return Ve(e,n,r,i)}const qe={};function Be(){return new We(zt(),qt())}function He(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=ze(a,o,n,null==r?pt(a)&&ke:r!=o&&0!=(3&a.type),i&A.Host&&s===a);return null!==u?Ke(e,o,u,a):qe}function ze(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&gt(t)&&t.type===n)return u}return null}function Ke(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof we){const o=i;o.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(b(s[n]));const a=De(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?D(o.injectImpl):null;ie(t,r,A.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&D(u),De(a),o.resolving=!1,ce()}}return i}function Ge(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function $e(t,e){return!(t&A.Self||t&A.Host&&e)}class We{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ue(this._tNode,this._lView,t,void 0,e)}}function Qe(t){return N(()=>{const e=t.prototype.constructor,n=e[Q]||Ye(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Q]||Ye(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Ye(t){return m(t)?()=>{const e=Ye(p(t));return e&&e()}:yt(t)}function Ze(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Se(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(zt(),t)}const Xe="__parameters__";function Je(t,e,n){return N(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Xe)?t[Xe]:Object.defineProperty(t,Xe,{value:[]})[Xe];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class tn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const en=new tn("AnalyzeForEntryComponents"),nn=Function;function rn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),rn(r,e)):e!==t&&e.push(r)}return e}function sn(t,e){t.forEach(t=>Array.isArray(t)?sn(t,e):e(t))}function on(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function an(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function un(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function cn(t,e,n){let r=hn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ln(t,e){const n=hn(t,e);if(n>=0)return t[1|n]}function hn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const dn={},fn=/\n/gm,pn="__source",mn=u({provide:String,useValue:u});let gn;function yn(t){const e=gn;return gn=t,e}function bn(t,e=A.Default){if(void 0===gn)throw new Error("inject() must be called from an injection context");return null===gn?j(t,void 0,e):gn.get(t,e&A.Optional?null:void 0,e)}function vn(t,e=A.Default){return(k||bn)(p(t),e)}const _n=vn;function wn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=A.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(vn(t,n))}else e.push(vn(r))}return e}function En(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Sn=En(Je("Inject",t=>({token:t})),-1),Tn=En(Je("Optional"),8),On=En(Je("SkipSelf"),4);let Cn;function In(t){var e;return(null===(e=function(){if(void 0===Cn&&(Cn=null,U.trustedTypes))try{Cn=U.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Cn}())||void 0===e?void 0:e.createHTML(t))||t}class xn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class An extends xn{getTypeName(){return"HTML"}}class kn extends xn{getTypeName(){return"Style"}}class Dn extends xn{getTypeName(){return"Script"}}class jn extends xn{getTypeName(){return"URL"}}class Nn extends xn{getTypeName(){return"ResourceURL"}}function Rn(t){return t instanceof xn?t.changingThisBreaksApplicationSecurity:t}function Pn(t,e){const n=Mn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Mn(t){return t instanceof xn&&t.getTypeName()||null}function Fn(t){return new An(t)}function Ln(t){return new kn(t)}function Vn(t){return new Dn(t)}function Un(t){return new jn(t)}function qn(t){return new Nn(t)}class Bn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(In(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Hn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=In(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=In(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const zn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gn(t){return(t=String(t)).match(zn)||t.match(Kn)?t:"unsafe:"+t}function $n(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Wn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Qn=$n("area,br,col,hr,img,wbr"),Yn=$n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zn=$n("rp,rt"),Xn=Wn(Zn,Yn),Jn=Wn(Qn,Wn(Yn,$n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wn(Zn,$n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xn),tr=$n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),er=$n("srcset"),nr=Wn(tr,er,$n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rr=$n("script,style,template");class ir{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Jn.hasOwnProperty(e))return this.sanitizedSomething=!0,!rr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!nr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;tr[s]&&(o=Gn(o)),er[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Gn(t.trim())).join(", ")),this.buf.push(" ",e,'="',ar(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Jn.hasOwnProperty(e)&&!Qn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ar(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const sr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,or=/([^\#-~ |!])/g;function ar(t){return t.replace(/&/g,"&amp;").replace(sr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(or,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ur;function cr(t,e){let n=null;try{ur=ur||function(t){const e=new Hn(t);return function(){try{return!!(new window.DOMParser).parseFromString(In(""),"text/html")}catch(t){return!1}}()?new Bn(e):e}(t);let r=e?String(e):"";n=ur.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=ur.getInertBodyElement(r)}while(r!==s);return In((new ir).sanitizeChildren(lr(n)||n))}finally{if(n){const t=lr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function lr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var hr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function dr(t){const e=function(){const t=qt();return t&&t[12]}();return e?e.sanitize(hr.URL,t)||"":Pn(t,"URL")?Rn(t):Gn(y(t))}function fr(t){return t.ngDebugContext}function pr(t){return t.ngOriginalError}function mr(t,...e){t.error(...e)}class gr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||mr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?fr(t)?fr(t):this._findContext(pr(t)):null}_findOriginalError(t){let e=pr(t);for(;e&&pr(e);)e=pr(e);return e}}function yr(t,e){t.__ngContext__=e}const br=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(U))();function vr(t){return t instanceof Function?t():t}var _r=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function wr(t,e){return(void 0)(t,e)}function Er(t){const e=t[3];return dt(e)?e[3]:e}function Sr(t){return Or(t[13])}function Tr(t){return Or(t[4])}function Or(t){for(;null!==t&&!dt(t);)t=t[4];return t}function Cr(t,e,n,r,i){if(null!=r){let s,o=!1;dt(r)?s=r:ht(r)&&(o=!0,r=r[0]);const a=xt(r);0===t&&null!==n?null==i?Rr(e,n,a):Nr(e,n,a,i||null,!0):1===t&&null!==n?Nr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Mr(t,e);r&&function(t,e,n,r){Ct(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==xt(n)&&Cr(e,t,r,s,i);for(let o=lt;o<n.length;o++){const i=n[o];zr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Ir(t,e,n){return Ct(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function xr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Lt(i,-1)),n.splice(r,1)}function Ar(t,e){if(t.length<=lt)return;const n=lt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&xr(s,r),e>0&&(t[n-1][4]=r[4]);const o=an(t,lt+e);zr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function kr(t,e){if(!(256&e[2])){const n=e[11];Ct(n)&&n.destroyNode&&zr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Dr(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&Dr(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&Dr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Dr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof we)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):xt(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Ct(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dt(e[3])){n!==e[3]&&xr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function jr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===P.None||e===P.Emulated)return null}return kt(r,n)}(t,e.parent,n)}function Nr(t,e,n,r,i){Ct(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Rr(t,e,n){Ct(t)?t.appendChild(e,n):e.appendChild(n)}function Pr(t,e,n,r,i){null!==r?Nr(t,e,n,r,i):Rr(t,e,n)}function Mr(t,e){return Ct(t)?t.parentNode(e):e.parentNode}function Fr(t,e,n){return Lr(t,e,n)}let Lr=function(t,e,n){return 40&t.type?kt(t,n):null};function Vr(t,e,n,r){const i=jr(t,r,e),s=e[11],o=Fr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Pr(s,i,n[a],o,!1);else Pr(s,i,n,o,!1)}function Ur(t,e){if(null!==e){const n=e.type;if(3&n)return kt(e,t);if(4&n)return Br(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Ur(t,n);{const n=t[e.index];return dt(n)?Br(-1,n):xt(n)}}if(32&n)return wr(e,t)()||xt(t[e.index]);{const n=qr(t,e);return null!==n?Array.isArray(n)?n[0]:Ur(Er(t[16]),n):Ur(t,e.next)}}return null}function qr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Br(t,e){const n=lt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Ur(t,r)}return e[7]}function Hr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&yr(xt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Hr(t,e,n.child,r,i,s,!1),Cr(e,t,i,a,s);else if(32&u){const o=wr(n,r);let u;for(;u=o();)Cr(e,t,i,u,s);Cr(e,t,i,a,s)}else 16&u?Kr(t,e,r,n,i,s):Cr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function zr(t,e,n,r,i,s){Hr(n,r,t.firstChild,e,i,s,!1)}function Kr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Cr(e,t,i,a[u],s);else Hr(t,e,a,o[3],i,s,!0)}function Gr(t,e,n){Ct(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function $r(t,e,n){Ct(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Wr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Qr="ng-template";function Yr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Wr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Zr(t){return 4===t.type&&t.value!==Qr}function Xr(t,e,n){return e===(4!==t.type||n?t.value:Qr)}function Jr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Se(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Xr(t,u,n)||""===u&&1===e.length){if(ti(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Yr(t.attrs,c,n)){if(ti(r))return!1;o=!0}continue}const l=ei(8&r?"class":u,i,Zr(t),n);if(-1===l){if(ti(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Wr(e,c,0)||2&r&&c!==t){if(ti(r))return!1;o=!0}}}}else{if(!o&&!ti(r)&&!ti(u))return!1;if(o&&ti(u))continue;o=!1,r=u|1&r}}return ti(r)||o}function ti(t){return 0==(1&t)}function ei(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ni(t,e,n=!1){for(let r=0;r<e.length;r++)if(Jr(t,e[r],n))return!0;return!1}function ri(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ii(t,e){return t?":not("+e.trim()+")":e}function si(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ti(o)||(e+=ii(s,i),i=""),r=o,s=s||!ti(r);n++}return""!==i&&(e+=ii(s,i)),e}const oi={};function ai(t){ui(Bt(),qt(),he()+t,Qt())}function ui(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&me(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ge(e,r,0,n)}de(n)}function ci(t,e){return t<<17|e<<2}function li(t){return t>>17&32767}function hi(t){return 2|t}function di(t){return(131068&t)>>2}function fi(t,e){return-131069&t|e<<2}function pi(t){return 1|t}function mi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ne(i),n.contentQueries(2,e[s],s)}}}function gi(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ft(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function yi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Kt(),o=$t(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Vt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Vt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Gt(s,!0),s}function bi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function vi(t,e,n){se(e);try{const r=t.viewQuery;null!==r&&Wi(1,r,n);const i=t.template;null!==i&&Ei(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&mi(t,e),t.staticViewQueries&&Wi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Hi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,le()}}function _i(t,e,n,r){const i=e[2];if(256==(256&i))return;se(e);const s=Qt();try{Ft(e),Vt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ei(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&me(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ge(e,n,0,null),ye(e,0)}if(function(t){for(let e=Sr(t);null!==e;e=Tr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Lt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Sr(t);null!==e;e=Tr(e))for(let t=lt;t<e.length;t++){const n=e[t],r=n[1];Pt(n)&&_i(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&mi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&me(e,n)}else{const n=t.contentHooks;null!==n&&ge(e,n,1),ye(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)de(~r);else{const i=r,s=n[++t],o=n[++t];Jt(s,i),o(2,e[i])}}}finally{de(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)qi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Wi(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&me(e,n)}else{const n=t.viewHooks;null!==n&&ge(e,n,2),ye(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Lt(e[3],-1))}finally{le()}}function wi(t,e,n,r){const i=e[10],s=!Qt(),o=Rt(e);try{s&&!o&&i.begin&&i.begin(),o&&vi(t,e,r),_i(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ei(t,e,n,r,i){const s=he(),o=2&r;try{de(-1),o&&e.length>ct&&ui(t,e,ct,Qt()),n(r,i)}finally{de(s)}}function Si(t,e,n){Ut()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ne(n,e),yr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=gt(r);s&&Fi(e,n,r);const u=Ke(e,t,a,n);yr(u,e),null!==o&&Li(0,a-i,u,r,0,o),s&&(jt(n.index,e)[8]=u)}}(t,e,n,kt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Vt.lFrame.currentDirectiveIndex;try{de(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];te(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||ji(r,i)}}finally{de(-1),te(o)}}(t,e,n))}function Ti(t,e,n=kt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Oi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ci(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ci(t,e,n,r,i,s,o,a,u,c){const l=ct+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oi);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Ii(t,e,n,r){const i=Yi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Zi(t).push(r,i.length-1))}function xi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ai(t,e,n,r,i,s,o,a){const u=kt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Ji(t,n,c,r,i),pt(e)&&function(t,e){const n=jt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,Ct(s)?s.setProperty(u,r,i):Te(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ki(t,e,n,r){let i=!1;if(Ut()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ni(n,o.selectors,!1)&&(i||(i=[]),Fe(Ne(n,e),t,o.type),gt(o)?(Ni(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Pi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=bi(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Oe(n.mergedAttrs,c.hostAttrs),Mi(t,n,e,u,c),Ri(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Zr(e)?null:Vi(n,i);s.push(c),o=xi(n,u,o),a=xi(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new g("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Oe(n.mergedAttrs,n.attrs),i}function Di(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function ji(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ni(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ri(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function Pi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Mi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=yt(i.type)),o=new we(s,gt(i),null);t.blueprint[r]=o,n[r]=o,Di(t,e,0,r,bi(t,n,i.hostVars,oi),i)}function Fi(t,e,n){const r=kt(e,t),i=Oi(n),s=t[10],o=zi(t,gi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Li(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Vi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ui(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function qi(t,e){const n=jt(e,t);if(Pt(n)){const t=n[1];80&n[2]?_i(t,n,t.template,n[8]):n[5]>0&&Bi(n)}}function Bi(t){for(let n=Sr(t);null!==n;n=Tr(n))for(let t=lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];_i(t,e,t.template,e[8])}else e[5]>0&&Bi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=jt(e[n],t);Pt(r)&&r[5]>0&&Bi(r)}}function Hi(t,e){const n=jt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),vi(r,n,n[8])}function zi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ki(t){for(;t;){t[2]|=64;const e=Er(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Gi(t,e,n){const r=e[10];r.begin&&r.begin();try{_i(t,e,t.template,n)}catch(i){throw Xi(e,i),i}finally{r.end&&r.end()}}function $i(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Nt(n),i=r[1];wi(i,r,i.template,n)}}(t[8])}function Wi(t,e,n){ne(0),e(t,n)}const Qi=(()=>Promise.resolve(null))();function Yi(t){return t[7]||(t[7]=[])}function Zi(t){return t.cleanup||(t.cleanup=[])}function Xi(t,e){const n=t[9],r=n?n.get(gr,null):null;r&&r.handleError(e)}function Ji(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ts(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const es=new tn("INJECTOR",-1);class ns{get(t,e=dn){if(e===dn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const rs=new tn("Set Injector scope."),is={},ss={},os=[];let as;function us(){return void 0===as&&(as=new ns),as}function cs(t,e=null,n=null,r){return new ls(t,n,e||us(),r)}class ls{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&sn(e,n=>this.processProvider(n,t,e)),sn([t],t=>this.processInjectorType(t,[],i)),this.records.set(es,fs(void 0,this));const s=this.records.get(rs);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=dn,n=A.Default){this.assertNotDestroyed();const r=yn(this);try{if(!(n&A.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof tn)&&E(t);e=n&&this.injectableDefInScope(n)?fs(hs(t),is):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&A.Self?us():this.parent).get(t,e=n&A.Optional&&e===dn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[pn]&&i.unshift(e[pn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(fn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{yn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{sn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];sn(r,t=>this.processProvider(t,n,r||os))}}this.injectorDefTypes.add(s);const a=yt(s)||(()=>new s);this.records.set(s,fs(a,is));const u=r.providers;if(null!=u&&!o){const e=t;sn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ms(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return ps(t)?fs(void 0,t.useValue):fs(ds(t),is)}(t);if(ms(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=fs(void 0,is,!0),e.factory=()=>wn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===is&&(e.value=ss,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function hs(t){const e=E(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;if(t instanceof tn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=un(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[I]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ds(t,e,n){let r;if(ms(t)){const e=p(t);return yt(e)||hs(e)}if(ps(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...wn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>vn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||hs(e);r=()=>new e(...wn(t.deps))}var i;return r}function fs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ps(t){return null!==t&&"object"==typeof t&&mn in t}function ms(t){return"function"==typeof t}const gs=function(t,e,n){return function(t,e=null,n=null,r){const i=cs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ys=(()=>{class t{static create(t,e){return Array.isArray(t)?gs(t,e,""):gs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=dn,t.NULL=new ns,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>vn(es)}),t.__NG_ELEMENT_ID__=-1,t})();function bs(t,e){pe(Nt(t)[1],zt())}function vs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(gt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=_s(t.inputs),e.declaredInputs=_s(t.declaredInputs),e.outputs=_s(t.outputs);const n=i.hostBindings;n&&Ss(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&ws(t,s),o&&Es(t,o),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),gt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===vs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Oe(i.hostAttrs,n=Oe(n,i.hostAttrs))}}(r)}function _s(t){return t===q?{}:t===H?[]:t}function ws(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Es(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ss(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ts=null;function Os(){if(!Ts){const t=U.Symbol;if(t&&t.iterator)Ts=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ts=n)}}}return Ts}class Cs{constructor(t){this.wrapped=t}static wrap(t){return new Cs(t)}static unwrap(t){return Cs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Cs}}function Is(t){return!!xs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Os()in t)}function xs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function As(t,e,n){return t[e]=n}function ks(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ds(t,e,n,r){const i=qt();return ks(i,Xt(),e)&&(Bt(),function(t,e,n,r,i,s){const o=kt(t,e);!function(t,e,n,r,i,s,o){if(null==s)Ct(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);Ct(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(fe(),i,t,e,n,r)),Ds}function js(t,e,n,r){return ks(t,Xt(),n)?e+y(n)+r:oi}function Ns(t,e,n,r,i,s,o,a){const u=qt(),c=Bt(),l=t+ct,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=yi(e,t,4,o||null,Mt(c,a));ki(e,n,l,Mt(c,u)),pe(e,l);const h=l.tViews=Ci(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Gt(h,!1);const d=u[11].createComment("");Vr(c,u,d,h),yr(d,u),zi(u,u[l]=Ui(d,u,d,h)),mt(h)&&Si(c,u,h),null!=o&&Ti(u,h,a)}function Rs(t,e=A.Default){const n=qt();return null===n?vn(t,e):Ue(zt(),n,p(t),e)}function Ps(t,e,n){const r=qt();return ks(r,Xt(),e)&&Ai(Bt(),fe(),r,t,e,r[11],n,!1),Ps}function Ms(t,e,n,r,i){const s=i?"class":"style";Ji(t,n,e.inputs[s],s,r)}function Fs(t,e,n,r){const i=qt(),s=Bt(),o=ct+t,a=i[11],u=i[o]=Ir(a,e,Vt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=yi(e,t,2,i,Mt(a,s));return ki(e,n,u,Mt(a,o)),null!==u.attrs&&ts(u,u.attrs,!1),null!==u.mergedAttrs&&ts(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Gt(c,!0);const l=c.mergedAttrs;null!==l&&Ee(a,u,l);const h=c.classes;null!==h&&$r(a,u,h);const d=c.styles;null!==d&&Gr(a,u,d),64!=(64&c.flags)&&Vr(s,i,u,c),0===Vt.lFrame.elementDepthCount&&yr(u,i),Vt.lFrame.elementDepthCount++,mt(c)&&(Si(s,i,c),function(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(s,c,i)),null!==r&&Ti(i,c)}function Ls(){let t=zt();$t()?Wt():(t=t.parent,Gt(t,!1));const e=t;Vt.lFrame.elementDepthCount--;const n=Bt();n.firstCreatePass&&(pe(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ms(n,e,qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ms(n,e,qt(),e.stylesWithoutHost,!1)}function Vs(t,e,n,r){Fs(t,e,n,r),Ls()}function Us(){return qt()}function qs(t){return!!t&&"function"==typeof t.then}function Bs(t){return!!t&&"function"==typeof t.subscribe}const Hs=Bs;function zs(t,e,n=!1,r){const i=qt(),s=Bt(),o=zt();return function(t,e,n,r,i,s,o=!1,a){const u=mt(r),c=t.firstCreatePass&&Zi(t),l=Yi(e);let h=!0;if(3&r.type){const d=kt(r,e),f=a?a(d):q,p=f.target||d,m=l.length,g=a?t=>a(xt(t[r.index])).target:r.index;if(Ct(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Gs(r,e,0,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),c&&c.push(i,g,m,m+1)}}else s=Gs(r,e,0,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,m,o)}else s=Gs(r,e,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),zs}function Ks(t,e,n,r){try{return!1!==n(r)}catch(i){return Xi(t,i),!1}}function Gs(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?jt(t.index,e):e;0==(32&e[2])&&Ki(o);let a=Ks(e,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=Ks(e,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function $s(t=1){return function(t){return(Vt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Vt.lFrame.contextLView))[8]}(t)}function Ws(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?ni(t,s,!0):ri(r,s))return i}else n=i}return n}function Qs(t){const e=qt()[16][6];if(!e.projection){const n=e.projection=un(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Ws(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Ys(t,e=0,n){const r=qt(),i=Bt(),s=yi(i,ct+t,16,null,n||null);null===s.projection&&(s.projection=e),Wt(),64!=(64&s.flags)&&function(t,e,n){Kr(e[11],0,e,n,jr(t,n,e),Fr(n.parent||e[6],n,e))}(i,r,s)}function Zs(t,e,n){return Xs(t,"",e,"",n),Zs}function Xs(t,e,n,r,i){const s=qt(),o=js(s,e,n,r);return o!==oi&&Ai(Bt(),fe(),s,t,o,s[11],i,!1),Xs}function Js(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?li(s):di(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];to(t[a],e)&&(u=!0,t[a+1]=r?pi(n):hi(n)),a=r?li(n):di(n)}u&&(t[n+1]=r?hi(s):pi(s))}function to(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&hn(t,e)>=0}function eo(t,e){return function(t,e,n,r){const i=qt(),s=Bt(),o=function(t){const e=Vt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[he()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(s)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Vt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=e.residualClasses;if(null===i)0===e.classBindings&&(n=ro(n=no(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=no(i,t,e,n,r),null===s){let n=function(t,e,n){const r=e.classBindings;if(0!==di(r))return t[li(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=no(null,t,e,n[1],r),n=ro(n,e.attrs,r),function(t,e,n,r){t[li(e.classBindings)]=r}(t,e,0,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ro(r,t[s].hostAttrs,true);return ro(r,e.attrs,true)}(t,e)}return void 0!==s&&(e.residualClasses=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=e.classBindings,a=li(o),u=di(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||hn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=li(t[a+1]);t[r+1]=ci(e,a),0!==e&&(t[e+1]=fi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ci(a,0),0!==a&&(t[a+1]=fi(t[a+1],r)),a=r;else t[r+1]=ci(u,0),0===a?a=r:t[u+1]=fi(t[u+1],r),u=r;l&&(t[r+1]=hi(t[r+1])),Js(t,c,r,!0),Js(t,c,r,!1),function(t,e,n,r,i){const s=t.residualClasses;null!=s&&"string"==typeof e&&hn(s,e)>=0&&(n[r+1]=pi(n[r+1]))}(e,c,t,r),o=ci(a,u),e.classBindings=o}(i,s,e,n,o)}}(s,t,o,true),e!==oi&&ks(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];so(1==(1&c)?io(u,e,n,i,di(c),o):void 0)||(so(s)||function(t){return 2==(2&t)}(c)&&(s=io(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Ct(t);i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r)}(r,0,At(he(),n),i,s))}(s,s.data[he()],i,i[11],t,i[o+1]=function(t,e){return null==t||"object"==typeof t&&(t=l(Rn(t))),t}(e),true,o)}(t,e),eo}function no(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=ro(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ro(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),cn(t,o,!!n||e[++s]))}return void 0===t?null:t}function io(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===oi&&(l=c?B:void 0);let h=c?ln(l,r):u===r?l:void 0;if(s&&!so(h)&&(h=ln(e,r)),so(h)&&(a=h,o))return a;const d=t[i+1];i=o?li(d):di(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=ln(t,r))}return a}function so(t){return void 0!==t}function oo(t,e=""){const n=qt(),r=Bt(),i=t+ct,s=r.firstCreatePass?yi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Ct(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Vr(r,n,o,s),Gt(s,!1)}function ao(t){return uo("",t,""),ao}function uo(t,e,n){const r=qt(),i=js(r,t,e,n);return i!==oi&&function(t,e,n){const r=At(e,t);!function(t,e,n){Ct(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,he(),i),uo}function co(t,e,n){const r=qt();return ks(r,Xt(),e)&&Ai(Bt(),fe(),r,t,e,r[11],n,!0),co}const lo=void 0;var ho=["en",[["a","p"],["AM","PM"],lo],[["AM","PM"],lo,lo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lo,"{1} 'at' {0}",lo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let fo={};function po(t,e,n){"string"!=typeof e&&(n=e,e=t[vo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),fo[e]=t,n&&(fo[e][vo.ExtraData]=n)}function mo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=bo(e);if(n)return n;const r=e.split("-")[0];if(n=bo(r),n)return n;if("en"===r)return ho;throw new Error(`Missing locale data for the locale "${t}".`)}function go(t){return mo(t)[vo.CurrencyCode]||null}function yo(t){return mo(t)[vo.PluralCase]}function bo(t){return t in fo||(fo[t]=U.ng&&U.ng.common&&U.ng.common.locales&&U.ng.common.locales[t]),fo[t]}var vo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const _o="en-US";let wo=_o;function Eo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(wo=t.toLowerCase().replace(/_/g,"-"))}function So(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)So(t[s],e,n,r,i);else{const s=Bt(),o=qt();let a=ms(t)?t:p(t.provide),u=ds(t);const c=zt(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(ms(t)||!t.multi){const r=new we(u,i,Rs),f=Co(a,e,i?l:l+d,h);-1===f?(Fe(Ne(c,o),s,a),To(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Co(a,e,l+d,h),p=Co(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Fe(Ne(c,o),s,a);const l=function(t,e,n,r,i){const s=new we(t,n,Rs);return s.multi=[],s.index=e,s.componentProviders=0,Oo(s,i,r&&!n),s}(i?xo:Io,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),To(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else To(s,t,f>-1?f:p,Oo(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function To(t,e,n,r){const i=ms(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Oo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Co(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Io(t,e,n,r){return Ao(this.multi,[])}function xo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ke(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Ao(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Ao(i,s);return s}function Ao(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ko(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Bt();if(r.firstCreatePass){const i=gt(t);So(n,r.data,r.blueprint,i,!0),So(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Do{}class jo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let No=(()=>{class t{}return t.NULL=new jo,t})();function Ro(...t){}function Po(t,e){return new Fo(kt(t,e))}const Mo=function(){return Po(zt(),qt())};let Fo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Mo,t})();function Lo(t){return t instanceof Fo?t.nativeElement:t}class Vo{}let Uo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>qo(),t})();const qo=function(){const t=qt(),e=jt(zt().index,t);return function(t){return t[11]}(ht(e)?e:t)};let Bo=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class Ho{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const zo=new Ho("11.2.11");class Ko{constructor(){}supports(t){return Is(t)}create(t){return new $o(t)}}const Go=(t,e)=>e;class $o{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Go}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Zo(n,r,i)?e:n,o=Zo(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Is(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Os()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Wo(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Yo),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Wo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Yo{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Qo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zo(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Xo{constructor(){}supports(t){return t instanceof Map||xs(t)}create(){return new Jo}}class Jo{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||xs(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ta(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ta{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ea(){return new na([new Ko])}let na=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ea()),deps:[[t,new On,new Tn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:ea}),t})();function ra(){return new ia([new Xo])}let ia=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ra()),deps:[[t,new On,new Tn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:ra}),t})();function sa(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(xt(s)),dt(s))for(let t=lt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&sa(e[1],e,n,r)}const o=n.type;if(8&o)sa(t,e,n.child,r);else if(32&o){const t=wr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=qr(e,n);if(Array.isArray(t))r.push(...t);else{const n=Er(e[16]);sa(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class oa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return sa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Ar(t,n),an(e,n))}this._attachedToViewContainer=!1}kr(this._lView[1],this._lView)}onDestroy(t){Ii(this._lView[1],this._lView,null,t)}markForCheck(){Ki(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Gi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Yt(!0);try{Gi(t,e,n)}finally{Yt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,zr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class aa extends oa{constructor(t){super(t),this._view=t}detectChanges(){$i(this._view)}checkNoChanges(){!function(t){Yt(!0);try{$i(t)}finally{Yt(!1)}}(this._view)}get context(){return null}}const ua=la;let ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=ua,t.__ChangeDetectorRef__=!0,t})();function la(t=!1){return function(t,e,n){if(!n&&pt(t)){const n=jt(t.index,e);return new oa(n,n)}return 47&t.type?new oa(e[16],e):null}(zt(),qt(),t)}const ha=[new Xo],da=new na([new Ko]),fa=new ia(ha),pa=function(){return ba(zt(),qt())};let ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=pa,t})();const ga=ma,ya=class extends ga{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=gi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),vi(e,n,t),new oa(n)}};function ba(t,e){return 4&t.type?new ya(e,t,Po(t,e)):null}class va{}class _a{}const wa=function(){return Ia(zt(),qt())};let Ea=(()=>{class t{}return t.__NG_ELEMENT_ID__=wa,t})();const Sa=Ea,Ta=class extends Sa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Po(this._hostTNode,this._hostLView)}get injector(){return new We(this._hostTNode,this._hostLView)}get parentInjector(){const t=Me(this._hostTNode,this._hostLView);if(Ie(t)){const e=Ae(t,this._hostLView),n=xe(t);return new We(e[1].data[n+8],e)}return new We(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Oa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(va,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ta(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=lt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-lt?(e[4]=n[i],on(n,lt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Br(i,s),a=n[11],u=Mr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,zr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),on(Ca(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Oa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Ar(this._lContainer,e);n&&(an(Ca(this._lContainer),e),kr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Ar(this._lContainer,e);return n&&null!=an(Ca(this._lContainer),e)?new oa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Oa(t){return t[8]}function Ca(t){return t[8]||(t[8]=[])}function Ia(t,e){let n;const r=e[t.index];if(dt(r))n=r;else{let i;if(8&t.type)i=xt(r);else{const n=e[11];i=n.createComment("");const r=kt(t,e);Nr(n,Mr(n,r),i,function(t,e){return Ct(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ui(r,e,i,t),zi(e,n)}return new Ta(n,t,e)}const xa={};class Aa extends No{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new ja(e,this.ngModule)}}function ka(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Da=new tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>br});class ja extends Do{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(si).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ka(this.componentDef.inputs)}get outputs(){return ka(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,xa,i);return s!==xa||r===xa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Vo,It),o=i.get(Bo,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Ct(t))return t.selectRootElement(e,n===P.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ir(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:br,clean:Qi,playerHandler:null,flags:0},d=Ci(0,null,null,1,0,null,null,null,null,null),f=gi(null,d,h,l,null,null,s,a,o,i);let p,m;se(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=yi(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ts(a,u,!0),null!==t&&(Ee(i,t,u),null!==a.classes&&$r(i,t,a.classes),null!==a.styles&&Gr(i,t,a.styles)));const c=r.createRenderer(t,e),l=gi(n,Oi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Fe(Ne(a,n),o,e.type),Ni(o,a),Pi(a,n.length,1)),zi(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)Ee(a,c,["ng-version",zo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ti(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ee(a,c,t),e&&e.length>0&&$r(a,c,e.join(" "))}if(m=Dt(d,ct),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Mi(t,r,e,bi(t,e,1,null),n));const i=Ke(e,t,r.directiveStart,r);yr(i,e);const s=kt(r,e);return s&&yr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=zt();e.contentQueries(1,o,t.directiveStart)}const a=zt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(de(a.index),Di(n[1],a,0,a.directiveStart,a.directiveEnd,e),ji(e,o)),o}(t,this.componentDef,f,h,[bs]),vi(d,f,null)}finally{le()}return new Na(this.componentType,p,Po(m,f),f,m)}}class Na extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new aa(r),this.componentType=t}get injector(){return new We(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ra=new Map;class Pa extends va{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Aa(this);const n=ut(t),r=t[W]||null;r&&Eo(r),this._bootstrapComponents=vr(n.bootstrap),this._r3Injector=cs(t,e,[{provide:va,useValue:this},{provide:No,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ys.THROW_IF_NOT_FOUND,n=A.Default){return t===ys||t===va||t===es?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ma extends _a{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,Ra.get(i),n),Ra.set(i,n));const s=vr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Pa(this.moduleType,t)}}function Fa(t,e,n){const r=Zt()+t,i=qt();return i[r]===oi?As(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function La(t,e,n,r,i){return Va(qt(),Zt(),t,e,n,r,i)}function Va(t,e,n,r,i,s,o){const a=e+n;return function(t,e,n,r){const i=ks(t,e,n);return ks(t,e+1,r)||i}(t,a,i,s)?As(t,a+2,o?r.call(o,i,s):r(i,s)):function(t,e){const n=t[e];return n===oi?void 0:n}(t,a+2)}function Ua(t,e){const n=Bt();let r;const i=t+ct;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=yt(r.type)),o=D(Rs);try{const t=De(!1),e=s();return De(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,qt(),i,e),e}finally{D(o)}}function qa(t,e,n,r){const i=t+ct,s=qt(),o=function(t,e){return t[e]}(s,i);return function(t,e){return Cs.isWrapped(e)&&(e=Cs.unwrap(e),t[Vt.lFrame.bindingIndex]=oi),e}(s,function(t,e){return t[1].data[e].pure}(s,i)?Va(s,Zt(),e,o.transform,n,r,o):o.transform(n,r))}function Ba(t){return e=>{setTimeout(t,void 0,e)}}const Ha=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(u=Ba(u),a&&(a=Ba(a)),c&&(c=Ba(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function za(){return this._results[Os()]()}class Ka{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Os(),n=Ka.prototype;n[e]||(n[e]=za)}get changes(){return this._changes||(this._changes=new Ha)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=rn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ga{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ga(this.queryList)}setDirty(){this.queryList.setDirty()}}class $a{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new $a(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==au(t,e).matches&&this.queries[e].setDirty()}}class Wa{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Qa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Qa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ya{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ya(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Za(e,i)),this.matchTNodeWithReadOption(t,e,ze(e,t,i,!1,!1))}else n===ma?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ze(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Fo||r===Ea||r===ma&&4&e.type)this.addMatch(e.index,-2);else{const n=ze(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Za(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Xa(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Po(t,e):4&t.type?ba(t,e):null}(e,t):-2===n?function(t,e,n){return n===Fo?Po(e,t):n===ma?ba(e,t):n===Ea?Ia(e,t):void 0}(t,e,r):Ke(t,t[1],n,e)}function Ja(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Xa(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function tu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Ja(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=lt;t<o.length;t++){const e=o[t];e[17]===e[3]&&tu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];tu(n[1],n,i,r)}}}}}return r}function eu(t){const e=qt(),n=Bt(),r=ee();ne(r+1);const i=au(n,r);if(t.dirty&&Rt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?tu(n,e,r,[]):Ja(n,e,i,r);t.reset(s,Lo),t.notifyOnChanges()}return!0}return!1}function nu(t,e,n){const r=Bt();r.firstCreatePass&&(ou(r,new Wa(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),su(r,qt(),e)}function ru(t,e,n,r){const i=Bt();if(i.firstCreatePass){const s=zt();ou(i,new Wa(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}su(i,qt(),n)}function iu(){return t=qt(),e=ee(),t[19].queries[e].queryList;var t,e}function su(t,e,n){const r=new Ka(4==(4&n));Ii(t,e,r,r.destroy),null===e[19]&&(e[19]=new $a),e[19].queries.push(new Ga(r))}function ou(t,e,n){null===t.queries&&(t.queries=new Qa),t.queries.track(new Ya(e,n))}function au(t,e){return t.queries.getByIndex(e)}function uu(t=A.Default){const e=la(!0);if(null!=e||t&A.Optional)return e;v("ChangeDetectorRef")}const cu=new tn("Application Initializer");let lu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ro,this.reject=Ro,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();qs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(vn(cu,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const hu=new tn("AppId"),du={provide:hu,useFactory:function(){return`${fu()}${fu()}${fu()}`},deps:[]};function fu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pu=new tn("Platform Initializer"),mu=new tn("Platform ID"),gu=new tn("appBootstrapListener");let yu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const bu=new tn("LocaleId"),vu=new tn("DefaultCurrencyCode");class _u{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const wu=function(t){return new Ma(t)},Eu=wu,Su=function(t){return Promise.resolve(wu(t))},Tu=function(t){const e=wu(t),n=vr(ut(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new ja(n)),t},[]);return new _u(e,n)},Ou=Tu,Cu=function(t){return Promise.resolve(Tu(t))};let Iu=(()=>{class t{constructor(){this.compileModuleSync=Eu,this.compileModuleAsync=Su,this.compileModuleAndAllComponentsSync=Ou,this.compileModuleAndAllComponentsAsync=Cu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const xu=(()=>Promise.resolve(0))();function Au(t){"undefined"==typeof Zone?xu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ku{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ha(!1),this.onMicrotaskEmpty=new Ha(!1),this.onStable=new Ha(!1),this.onError=new Ha(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=U.requestAnimationFrame,e=U.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(U,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Nu(t),ju(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Nu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Ru(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Pu(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Ru(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Pu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Nu(t),ju(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ku.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ku.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Du,Ro,Ro);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Du={};function ju(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Nu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ru(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Pu(t){t._nesting--,ju(t)}class Mu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ha,this.onMicrotaskEmpty=new Ha,this.onStable=new Ha,this.onError=new Ha}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Fu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ku.assertNotInAngularZone(),Au(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Au(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(vn(ku))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),Lu=(()=>{class t{constructor(){this._applications=new Map,Bu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Bu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class Vu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Uu(t){Bu=t}let qu,Bu=new Vu,Hu=!0,zu=!1;function Ku(){return zu=!0,Hu}function Gu(){if(zu)throw new Error("Cannot enable prod mode after platform setup.");Hu=!1}const $u=new tn("AllowMultipleToken");class Wu{constructor(t,e){this.name=t,this.token=e}}function Qu(t,e,n=[]){const r=`Platform: ${e}`,i=new tn(r);return(e=[])=>{let s=Yu();if(!s||s.injector.get($u,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:rs,useValue:"platform"});!function(t){if(qu&&!qu.destroyed&&!qu.injector.get($u,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");qu=t.get(Zu);const e=t.get(pu,null);e&&e.forEach(t=>t())}(ys.create({providers:t,name:r}))}return function(t){const e=Yu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Yu(){return qu&&!qu.destroyed?qu:null}let Zu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Mu:("zone.js"===t?void 0:t)||new ku({enableLongStackTrace:Ku(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:ku,useValue:n}];return n.run(()=>{const e=ys.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(gr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{tc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return qs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(lu);return t.runInitializers(),t.donePromise.then(()=>(Eo(i.injector.get(bu,_o)||_o),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Xu({},e);return function(t,e,n){const r=new Ma(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ju);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(vn(ys))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Xu(t,e){return Array.isArray(e)?e.reduce(Xu,t):Object.assign(Object.assign({},t),e)}let Ju=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ku.assertNotInAngularZone(),Au(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ku.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,c.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Do?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(va),i=n.create(ys.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Fu,null),a=o&&i.injector.get(Lu);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),tc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;tc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(gu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(vn(ku),vn(ys),vn(gr),vn(No),vn(lu))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function tc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ec{}class nc{}const rc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ic=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||rc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>sc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>sc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(vn(Iu),vn(nc,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function sc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const oc=function(t){return null},ac=Qu(null,"core",[{provide:mu,useValue:"unknown"},{provide:Zu,deps:[ys]},{provide:Lu,deps:[]},{provide:yu,deps:[]}]),uc=[{provide:Ju,useClass:Ju,deps:[ku,ys,gr,No,lu]},{provide:Da,deps:[ku],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:lu,useClass:lu,deps:[[new Tn,cu]]},{provide:Iu,useClass:Iu,deps:[]},du,{provide:na,useFactory:function(){return da},deps:[]},{provide:ia,useFactory:function(){return fa},deps:[]},{provide:bu,useFactory:function(t){return Eo(t=t||"undefined"!=typeof $localize&&$localize.locale||_o),t},deps:[[new Sn(bu),new Tn,new On]]},{provide:vu,useValue:"USD"}];let cc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(vn(Ju))},t.\u0275mod=nt({type:t}),t.\u0275inj=w({providers:uc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return T}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return d}),n.d(e,"p",function(){return m});var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?b(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new g(i,a,r);return u},t}();function b(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function T(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return T}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.r("angularfire2.app.options"),v=new u.r("angularfire2.app.nameOrConfig"),_=new u.Q("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.X)()&&"undefined"!=typeof console&&console[t](...e)};function T(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:w,deps:[b,u.A,[new u.B,v]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.P.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(u.C))},t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("DH7j");class m extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new m(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(m.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function g(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>{return Object(i.a)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.f)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.20",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Tb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o))},t.\u0275prov=Object(r.Ib)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.Tb)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Tb)(o).location;return new v(Object(r.Tb)(a),e&&e.origin||"")}const b=new r.r("appBaseHref");let v=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a),r.Tb(b,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a),r.Tb(b,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(g),r.Tb(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Ib)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new w(Object(r.Tb)(g),Object(r.Tb)(a))}function S(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),O=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),C=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),I=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),x=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function A(t,e){return P(Object(r.lb)(t)[r.cb.DateFormat],e)}function k(t,e){return P(Object(r.lb)(t)[r.cb.TimeFormat],e)}function D(t,e){return P(Object(r.lb)(t)[r.cb.DateTimeFormat],e)}function j(t,e){const n=Object(r.lb)(t),i=n[r.cb.NumberSymbols][e];if(void 0===i){if(e===x.CurrencyDecimal)return n[r.cb.NumberSymbols][x.Decimal];if(e===x.CurrencyGroup)return n[r.cb.NumberSymbols][x.Group]}return i}const N=r.ob;function R(t){if(!t[r.cb.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.cb.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function P(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function M(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const F=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,L={},V=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var U=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),q=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),B=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function H(t,e,n,r){let i=function(t){if(nt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,r=1]=t.split("-").map(t=>+t);return z(e,n-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(F))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(n)}const e=new Date(t);if(!nt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=K(n,e)||e;let s,o=[];for(;e;){if(s=V.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=et(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(et(e,r)-r))}(i,r));let u="";return o.forEach(t=>{const e=function(t){if(tt[t])return tt[t];let e;switch(t){case"G":case"GG":case"GGG":e=Q(B.Eras,C.Abbreviated);break;case"GGGG":e=Q(B.Eras,C.Wide);break;case"GGGGG":e=Q(B.Eras,C.Narrow);break;case"y":e=W(q.FullYear,1,0,!1,!0);break;case"yy":e=W(q.FullYear,2,0,!0,!0);break;case"yyy":e=W(q.FullYear,3,0,!1,!0);break;case"yyyy":e=W(q.FullYear,4,0,!1,!0);break;case"Y":e=J(1);break;case"YY":e=J(2,!0);break;case"YYY":e=J(3);break;case"YYYY":e=J(4);break;case"M":case"L":e=W(q.Month,1,1);break;case"MM":case"LL":e=W(q.Month,2,1);break;case"MMM":e=Q(B.Months,C.Abbreviated);break;case"MMMM":e=Q(B.Months,C.Wide);break;case"MMMMM":e=Q(B.Months,C.Narrow);break;case"LLL":e=Q(B.Months,C.Abbreviated,O.Standalone);break;case"LLLL":e=Q(B.Months,C.Wide,O.Standalone);break;case"LLLLL":e=Q(B.Months,C.Narrow,O.Standalone);break;case"w":e=X(1);break;case"ww":e=X(2);break;case"W":e=X(1,!0);break;case"d":e=W(q.Date,1);break;case"dd":e=W(q.Date,2);break;case"E":case"EE":case"EEE":e=Q(B.Days,C.Abbreviated);break;case"EEEE":e=Q(B.Days,C.Wide);break;case"EEEEE":e=Q(B.Days,C.Narrow);break;case"EEEEEE":e=Q(B.Days,C.Short);break;case"a":case"aa":case"aaa":e=Q(B.DayPeriods,C.Abbreviated);break;case"aaaa":e=Q(B.DayPeriods,C.Wide);break;case"aaaaa":e=Q(B.DayPeriods,C.Narrow);break;case"b":case"bb":case"bbb":e=Q(B.DayPeriods,C.Abbreviated,O.Standalone,!0);break;case"bbbb":e=Q(B.DayPeriods,C.Wide,O.Standalone,!0);break;case"bbbbb":e=Q(B.DayPeriods,C.Narrow,O.Standalone,!0);break;case"B":case"BB":case"BBB":e=Q(B.DayPeriods,C.Abbreviated,O.Format,!0);break;case"BBBB":e=Q(B.DayPeriods,C.Wide,O.Format,!0);break;case"BBBBB":e=Q(B.DayPeriods,C.Narrow,O.Format,!0);break;case"h":e=W(q.Hours,1,-12);break;case"hh":e=W(q.Hours,2,-12);break;case"H":e=W(q.Hours,1);break;case"HH":e=W(q.Hours,2);break;case"m":e=W(q.Minutes,1);break;case"mm":e=W(q.Minutes,2);break;case"s":e=W(q.Seconds,1);break;case"ss":e=W(q.Seconds,2);break;case"S":e=W(q.FractionalSeconds,1);break;case"SS":e=W(q.FractionalSeconds,2);break;case"SSS":e=W(q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Y(U.Short);break;case"ZZZZZ":e=Y(U.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Y(U.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Y(U.Long);break;default:return null}return tt[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function z(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function K(t,e){const n=function(t){return Object(r.lb)(t)[r.cb.LocaleId]}(t);if(L[n]=L[n]||{},L[n][e])return L[n][e];let i="";switch(e){case"shortDate":i=A(t,I.Short);break;case"mediumDate":i=A(t,I.Medium);break;case"longDate":i=A(t,I.Long);break;case"fullDate":i=A(t,I.Full);break;case"shortTime":i=k(t,I.Short);break;case"mediumTime":i=k(t,I.Medium);break;case"longTime":i=k(t,I.Long);break;case"fullTime":i=k(t,I.Full);break;case"short":const e=K(t,"shortTime"),n=K(t,"shortDate");i=G(D(t,I.Short),[e,n]);break;case"medium":const r=K(t,"mediumTime"),s=K(t,"mediumDate");i=G(D(t,I.Medium),[r,s]);break;case"long":const o=K(t,"longTime"),a=K(t,"longDate");i=G(D(t,I.Long),[o,a]);break;case"full":const u=K(t,"fullTime"),c=K(t,"fullDate");i=G(D(t,I.Full),[u,c])}return i&&(L[n][e]=i),i}function G(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function $(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function W(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case q.FullYear:return e.getFullYear();case q.Month:return e.getMonth();case q.Date:return e.getDate();case q.Hours:return e.getHours();case q.Minutes:return e.getMinutes();case q.Seconds:return e.getSeconds();case q.FractionalSeconds:return e.getMilliseconds();case q.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===q.Hours)0===a&&-12===n&&(a=12);else if(t===q.FractionalSeconds)return u=e,$(a,3).substr(0,u);var u;const c=j(o,x.MinusSign);return $(a,e,c,r,i)}}function Q(t,e,n=O.Format,i=!1){return function(s,o){return function(t,e,n,i,s,o){switch(n){case B.Months:return function(t,e,n){const i=Object(r.lb)(t),s=P([i[r.cb.MonthsFormat],i[r.cb.MonthsStandalone]],e);return P(s,n)}(e,s,i)[t.getMonth()];case B.Days:return function(t,e,n){const i=Object(r.lb)(t),s=P([i[r.cb.DaysFormat],i[r.cb.DaysStandalone]],e);return P(s,n)}(e,s,i)[t.getDay()];case B.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(o){const t=function(t){const e=Object(r.lb)(t);return R(e),(e[r.cb.ExtraData][2]||[]).map(t=>"string"==typeof t?M(t):[M(t[0]),M(t[1])])}(e),n=function(t,e,n){const i=Object(r.lb)(t);R(i);const s=P([i[r.cb.ExtraData][0],i[r.cb.ExtraData][1]],e)||[];return P(s,n)||[]}(e,s,i),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const i=Object(r.lb)(t),s=P([i[r.cb.DayPeriodsFormat],i[r.cb.DayPeriodsStandalone]],e);return P(s,n)}(e,s,i)[a<12?0:1];case B.Eras:return function(t,e){return P(Object(r.lb)(t)[r.cb.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,o,t,e,n,i)}}function Y(t){return function(e,n,r){const i=-1*r,s=j(n,x.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case U.Short:return(i>=0?"+":"")+$(o,2,s)+$(Math.abs(i%60),2,s);case U.ShortGMT:return"GMT"+(i>=0?"+":"")+$(o,1,s);case U.Long:return"GMT"+(i>=0?"+":"")+$(o,2,s)+":"+$(Math.abs(i%60),2,s);case U.Extended:return 0===r?"Z":(i>=0?"+":"")+$(o,2,s)+":"+$(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Z(t){return z(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function X(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=Z(n),e=function(t){const e=z(t,0,1).getDay();return z(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return $(i,t,j(r,x.MinusSign))}}function J(t,e=!1){return function(n,r){return $(Z(n).getFullYear(),t,j(r,x.MinusSign),e)}}const tt={};function et(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function nt(t){return t instanceof Date&&!isNaN(t.valueOf())}class rt{}let it=(()=>{class t extends rt{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(N(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.v))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),st=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.xb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.t),r.Mb(r.u),r.Mb(r.l),r.Mb(r.F))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class ot{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let at=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ot(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new ut(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new ut(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.M),r.Mb(r.t))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class ut{constructor(t,e){this.record=t,this.view=e}}let ct=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new lt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ht("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ht("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.M))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class lt{constructor(){this.$implicit=null,this.ngIf=null}}function ht(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.xb)(e)}'.`)}let dt=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,s){if(null==e||""===e||e!=e)return null;try{return H(e,n,s||this.locale,i)}catch(o){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.xb)(t)}'`)}(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.v))},t.\u0275pipe=r.Lb({name:"date",type:t,pure:!0}),t})(),ft=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[{provide:rt,useClass:it}]}),t})();function pt(t){return"server"===t}let mt=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new gt(Object(r.Tb)(o),window)}),t})();class gt{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=yt(this.window.history)||yt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function yt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class bt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new bt,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=_t||(_t=document.querySelector("base"),_t)?_t.getAttribute("href"):null;return null==e?null:(n=e,vt||(vt=document.createElement("a")),vt.setAttribute("href",n),"/"===vt.pathname.charAt(0)?vt.pathname:"/"+vt.pathname);var n}resetBaseElement(){_t=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let vt,_t=null;const wt=new r.r("TRANSITION_ID"),Et=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[wt,o,r.s],multi:!0}];class St{static init(){Object(r.Z)(new St)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Tt=new r.r("EventManagerPlugins");let Ot=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Tt),r.Tb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Ct{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let It=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),xt=(()=>{class t extends It{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const At={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},kt=/%COMP%/g;function Dt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Dt(t,i,n):(i=i.replace(kt,t),n.push(i))}return n}function jt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Nt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Rt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Pt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.S.ShadowDom:return new Mt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Dt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Ot),r.Tb(xt),r.Tb(r.c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Rt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(At[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=At[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=At[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.H.DashCase|r.H.Important)?t.style.setProperty(e,n,i&r.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,jt(n)):this.eventManager.addEventListener(t,e,jt(n))}}class Pt extends Rt{constructor(t,e,n,r){super(t),this.component=n;const i=Dt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(kt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(kt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Mt extends Rt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Dt(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ft=(()=>{class t extends Ct{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Lt=["alt","control","meta","shift"],Vt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ut={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Bt=(()=>{class t extends Ct{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(Lt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ut.hasOwnProperty(e)&&(e=Ut[e]))}return Vt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Lt.forEach(r=>{r!=n&&(0,qt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Ht=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){bt.makeCurrent(),St.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],zt=Object(r.T)(r.Y,"browser",Ht),Kt=[[],{provide:r.bb,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Tt,useClass:Ft,multi:!0,deps:[o,r.A,r.C]},{provide:Tt,useClass:Bt,multi:!0,deps:[o]},[],{provide:Nt,useClass:Nt,deps:[Ot,xt,r.c]},{provide:r.G,useExisting:Nt},{provide:It,useExisting:xt},{provide:xt,useClass:xt,deps:[o]},{provide:r.N,useClass:r.N,deps:[r.A]},{provide:Ot,useClass:Ot,deps:[Tt,r.A]},[]];let Gt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:wt,useExisting:r.c},Et]}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(t,12))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:Kt,imports:[ft,r.f]}),t})();"undefined"!=typeof window&&window;var $t=n("spgP"),Wt=n("D0XW"),Qt=n("HDdC"),Yt=n("Cfvw"),Zt=n("LRne"),Xt=n("bHdf");function Jt(...t){return Object(Xt.a)(1)(Object(Zt.a)(...t))}var te=n("z+Ro");function ee(...t){const e=t[t.length-1];return Object(te.a)(e)?(t.pop(),n=>Jt(t,n,e)):e=>Jt(t,e)}var ne=n("7o/Q");function re(){return t=>t.lift(new ie)}class ie{call(t,e){return e.subscribe(new se(t))}}class se extends ne.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var oe=n("lJxs");function ae(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ue(t,e,n))}}class ue{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ce(t,this.accumulator,this.seed,this.hasSeed))}}class ce extends ne.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class le{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new he(t,this.compare,this.keySelector))}}class he extends ne.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function de(t,e){return function(n){return n.lift(new fe(t,e))}}class fe{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new pe(t,this.predicate,this.thisArg))}}class pe extends ne.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var me=n("pxpQ"),ge=n("Jgta"),ye=n("zIRd"),be=n("qOnz"),ve=n("q/0M"),_e=function(t,e){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function we(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ee,Se="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Te=Te||{},Oe=Se||self;function Ce(){}function Ie(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function xe(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ae="closure_uid_"+(1e9*Math.random()>>>0),ke=0;function De(t,e,n){return t.call.apply(t.bind,arguments)}function je(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ne(t,e,n){return(Ne=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?De:je).apply(null,arguments)}function Re(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Pe(){return Date.now()}function Me(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Fe(){this.j=this.j,this.i=this.i}Fe.prototype.j=!1,Fe.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ae)&&t[Ae]||(t[Ae]=++ke)}(this)},Fe.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Le=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ve=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Ue(t){return Array.prototype.concat.apply([],arguments)}function qe(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Be(t){return/^[\s\xa0]*$/.test(t)}var He,ze=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ke(t,e){return-1!=t.indexOf(e)}function Ge(t,e){return t<e?-1:t>e?1:0}t:{var $e=Oe.navigator;if($e){var We=$e.userAgent;if(We){He=We;break t}}He=""}function Qe(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ye(t){var e={};for(var n in t)e[n]=t[n];return e}var Ze="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xe(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Ze.length;s++)n=Ze[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Je(t){return Je[" "](t),t}Je[" "]=Ce;var tn,en,nn=Ke(He,"Opera"),rn=Ke(He,"Trident")||Ke(He,"MSIE"),sn=Ke(He,"Edge"),on=sn||rn,an=Ke(He,"Gecko")&&!(Ke(He.toLowerCase(),"webkit")&&!Ke(He,"Edge"))&&!(Ke(He,"Trident")||Ke(He,"MSIE"))&&!Ke(He,"Edge"),un=Ke(He.toLowerCase(),"webkit")&&!Ke(He,"Edge");function cn(){var t=Oe.document;return t?t.documentMode:void 0}t:{var ln="",hn=(en=He,an?/rv:([^\);]+)(\)|;)/.exec(en):sn?/Edge\/([\d\.]+)/.exec(en):rn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(en):un?/WebKit\/(\S+)/.exec(en):nn?/(?:Version)[ \/]?(\S+)/.exec(en):void 0);if(hn&&(ln=hn?hn[1]:""),rn){var dn=cn();if(null!=dn&&dn>parseFloat(ln)){tn=String(dn);break t}}tn=ln}var fn={};function pn(t){return function(t,e){var n=fn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=ze(String(tn)).split("."),r=ze(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Ge(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Ge(0==o[2].length,0==a[2].length)||Ge(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var mn=Oe.document&&rn&&(cn()||parseInt(tn,10))||void 0,gn=!rn||9<=Number(mn),yn=rn&&!pn("9"),bn=function(){if(!Oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Oe.addEventListener("test",Ce,e),Oe.removeEventListener("test",Ce,e)}catch(n){}return t}();function vn(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function _n(t,e){if(vn.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(an){t:{try{Je(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:wn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}vn.prototype.b=function(){this.defaultPrevented=!0},Me(_n,vn);var wn={2:"touch",3:"pen",4:"mouse"};_n.prototype.b=function(){_n.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,yn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var En="closure_listenable_"+(1e6*Math.random()|0),Sn=0;function Tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Sn,this.Y=this.Z=!1}function On(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Cn(t){this.src=t,this.a={},this.b=0}function In(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Le(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(On(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function xn(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Cn.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=xn(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Tn(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var An="closure_lm_"+(1e6*Math.random()|0),kn={};function Dn(t,e,n,r,i){if(r&&r.once)return Nn(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Dn(t,e[s],n,r,i);return null}return n=qn(n),t&&t[En]?t.va(e,n,xe(r)?!!r.capture:!!r,i):jn(t,e,n,!1,r,i)}function jn(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=xe(i)?!!i.capture:!!i;if(o&&!gn)return null;var a=Vn(t);if(a||(t[An]=a=new Cn(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Ln,e=gn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)bn||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Mn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Nn(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Nn(t,e[s],n,r,i);return null}return n=qn(n),t&&t[En]?t.wa(e,n,xe(r)?!!r.capture:!!r,i):jn(t,e,n,!0,r,i)}function Rn(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Rn(t,e[s],n,r,i);else r=xe(r)?!!r.capture:!!r,n=qn(n),t&&t[En]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=xn(s=t.a[e],n,r,i))&&(On(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=xn(e,n,r,i)),(n=-1<t?e[t]:null)&&Pn(n))}function Pn(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[En])In(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Mn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Vn(e))?(In(n,t),0==n.b&&(n.src=null,e[An]=null)):On(t)}}}function Mn(t){return t in kn?kn[t]:kn[t]="on"+t}function Fn(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Pn(t),n.call(r,e)}function Ln(t,e){if(t.Y)return!0;if(!gn){if(!e)t:{e=["window","event"];for(var n=Oe,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Fn(t,e=new _n(e,this))}return Fn(t,new _n(e,this))}function Vn(t){return(t=t[An])instanceof Cn?t:null}var Un="__closure_events_fn_"+(1e9*Math.random()>>>0);function qn(t){return"function"==typeof t?t:(t[Un]||(t[Un]=function(e){return t.handleEvent(e)}),t[Un])}function Bn(){Fe.call(this),this.c=new Cn(this),this.J=this,this.C=null}function Hn(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new vn(e,t);else if(e instanceof vn)e.target=e.target||t;else{var i=e;Xe(e=new vn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=zn(o,r,!0,e)&&i}if(i=zn(o=e.a=t,r,!0,e)&&i,i=zn(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=zn(o=e.a=n[s],r,!1,e)&&i}function zn(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&In(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Me(Bn,Fe),Bn.prototype[En]=!0,(Ee=Bn.prototype).addEventListener=function(t,e,n,r){Dn(this,t,e,n,r)},Ee.removeEventListener=function(t,e,n,r){Rn(this,t,e,n,r)},Ee.G=function(){if(Bn.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)On(n[r]);delete e.a[t],e.b--}}this.C=null},Ee.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ee.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Kn=Oe.JSON.stringify;function Gn(){this.b=this.a=null}var $n,Wn=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Yn},function(t){t.reset()});function Qn(){var t=tr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Yn(){this.next=this.b=this.a=null}function Zn(t){Oe.setTimeout(function(){throw t},0)}function Xn(t,e){$n||function(){var t=Oe.Promise.resolve(void 0);$n=function(){t.then(er)}}(),Jn||($n(),Jn=!0),tr.add(t,e)}Gn.prototype.add=function(t,e){var n=Wn.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Yn.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Yn.prototype.reset=function(){this.next=this.b=this.a=null};var Jn=!1,tr=new Gn;function er(){for(var t;t=Qn();){try{t.a.call(t.b)}catch(n){Zn(n)}var e=Wn;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Jn=!1}function nr(t,e){Bn.call(this),this.b=t||1,this.a=e||Oe,this.f=Ne(this.Za,this),this.g=Pe()}function rr(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ir(t,e,n){if("function"==typeof t)n&&(t=Ne(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ne(t.handleEvent,t)}return 2147483647<Number(e)?-1:Oe.setTimeout(t,e||0)}function sr(t){t.a=ir(function(){t.a=null,t.c&&(t.c=!1,sr(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Me(nr,Bn),(Ee=nr.prototype).aa=!1,Ee.M=null,Ee.Za=function(){if(this.aa){var t=Pe()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Hn(this,"tick"),this.aa&&(rr(this),this.start()))}},Ee.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Pe())},Ee.G=function(){nr.X.G.call(this),rr(this),delete this.a};var or=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}_e(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:sr(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Oe.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Fe);function ar(t){Fe.call(this),this.b=t,this.a={}}Me(ar,Fe);var ur=[];function cr(t,e,n,r){Array.isArray(n)||(n&&(ur[0]=n.toString()),n=ur);for(var i=0;i<n.length;i++){var s=Dn(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function lr(t){Qe(t.a,function(t,e){this.a.hasOwnProperty(e)&&Pn(t)},t),t.a={}}function hr(){this.a=!0}function dr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Kn(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ar.prototype.G=function(){ar.X.G.call(this),lr(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hr.prototype.info=function(){};var fr={},pr=null;function mr(){return pr=pr||new Bn}function gr(t){vn.call(this,fr.Fa,t)}function yr(t){var e=mr();Hn(e,new gr(e,t))}function br(t,e){vn.call(this,fr.STAT_EVENT,t),this.stat=e}function vr(t){var e=mr();Hn(e,new br(e,t))}function _r(t){vn.call(this,fr.Ga,t)}function wr(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Oe.setTimeout(function(){t()},e)}fr.Fa="serverreachability",Me(gr,vn),fr.STAT_EVENT="statevent",Me(br,vn),fr.Ga="timingevent",Me(_r,vn);var Er={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Sr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Tr(){}function Or(){}Tr.prototype.a=null;var Cr,Ir={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function xr(){vn.call(this,"d")}function Ar(){vn.call(this,"c")}function kr(){}function Dr(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ar(this),this.P=jr,this.R=new nr(t=on?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Me(xr,vn),Me(Ar,vn),Me(kr,Tr),Cr=new kr;var jr=45e3,Nr={},Rr={};function Pr(t,e,n){t.H=1,t.i=ri(Zr(e)),t.j=n,t.I=!0,Mr(t,null)}function Mr(t,e){t.u=Pe(),Vr(t),t.l=Zr(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),gi(n.b,"t",r),t.D=0,t.a=ls(t.g,t.g.C?e:null),0<t.O&&(t.F=new or(Ne(t.Ca,t,t.a),t.O)),cr(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ye(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),yr(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Fr(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Lr(t,n);if(i==Rr){4==e&&(t.h=4,vr(14),r=!1),dr(t.c,t.f,null,"[Incomplete Response]");break}if(i==Nr){t.h=4,vr(15),dr(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}dr(t.c,t.f,i,null),zr(t,i)}4==e&&0==n.length&&(t.h=1,vr(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ns(e),e.F=!0,vr(11))):(dr(t.c,t.f,n,"[Invalid Chunked Response]"),Hr(t),Br(t))}function Lr(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Rr:(n=Number(e.substring(n,r)),isNaN(n)?Nr:(r+=1)+n>e.length?Rr:(e=e.substr(r,n),t.D=r+n,e))}function Vr(t){t.T=Pe()+t.P,Ur(t,t.P)}function Ur(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=wr(Ne(t.Va,t),e)}function qr(t){t.o&&(Oe.clearTimeout(t.o),t.o=null)}function Br(t){0==t.g.v||t.A||ss(t.g,t)}function Hr(t){qr(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,rr(t.R),lr(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function zr(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Si(n.b,t)))if(n.I=t.N,!t.C&&Si(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Wp){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;is(n),$i(n)}es(n),vr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=wr(Ne(n.Sa,n),6e3));if(1>=Ei(n.b)&&n.ea){try{n.ea()}catch(Wp){}n.ea=void 0}}else as(n,11)}else if((t.C||n.a==t)&&is(n),!Be(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Ke(l,"spdy")||Ke(l,"quic")||Ke(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ti(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,ni(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Pe()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=cs(u,u.C?u.ga:null,u.fa),f.C){Oi(u.b,f);var p=f,m=u.D;m&&p.setTimeout(m),p.o&&(qr(p),Vr(p)),u.a=f}else ts(u);0<n.g.length&&Yi(n)}else"stop"!=i[0]&&"close"!=i[0]||as(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?as(n,7):Gi(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);yr(4)}catch(Wp){}}function Kr(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ie(t)||"string"==typeof t)Ve(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ie(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ie(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Gr(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Gr)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function $r(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Wr(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Wr(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Wr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ee=Dr.prototype).setTimeout=function(t){this.P=t},Ee.Xa=function(t){t=t.target;var e=this.F;e&&3==Bi(t)?e.f():this.Ca(t)},Ee.Ca=function(t){try{if(t==this.a)t:{var e=Bi(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!on&&!this.a.$())){this.A||4!=e||7==n||yr(8==n||0>=r?3:2),qr(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Be(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,vr(12),Hr(this),Br(this);break t}dr(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,zr(this,u)}this.I?(Fr(this,e,s),on&&this.b&&3==e&&(cr(this.J,this.R,"tick",this.Wa),this.R.start())):(dr(this.c,this.f,s,null),zr(this,s)),4==e&&Hr(this),this.b&&!this.A&&(4==e?ss(this.g,this):(this.b=!1,Vr(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,vr(12)):(this.h=0,vr(13)),Hr(this),Br(this)}}}catch(c){}},Ee.Wa=function(){if(this.a){var t=Bi(this.a),e=this.a.$();this.D<e.length&&(qr(this),Fr(this,t,e),this.b&&4!=t&&Vr(this))}},Ee.cancel=function(){this.A=!0,Hr(this)},Ee.Va=function(){this.o=null;var t=Pe();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(yr(3),vr(17)),Hr(this),this.h=2,Br(this)):Ur(this,this.T-t)},(Ee=Gr.prototype).K=function(){$r(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ee.L=function(){return $r(this),this.a.concat()},Ee.get=function(t,e){return Wr(this.b,t)?this.b[t]:e},Ee.set=function(t,e){Wr(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ee.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Qr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yr(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Yr){this.a=void 0!==e?e:t.a,Xr(this,t.f),this.j=t.j,Jr(this,t.c),ti(this,t.h),this.g=t.g,e=t.b;var n=new di;n.c=e.c,e.a&&(n.a=new Gr(e.a),n.b=e.b),ei(this,n),this.i=t.i}else t&&(n=String(t).match(Qr))?(this.a=!!e,Xr(this,n[1]||"",!0),this.j=ii(n[2]||""),Jr(this,n[3]||"",!0),ti(this,n[4]),this.g=ii(n[5]||"",!0),ei(this,n[6]||"",!0),this.i=ii(n[7]||"")):(this.a=!!e,this.b=new di(null,this.a))}function Zr(t){return new Yr(t)}function Xr(t,e,n){t.f=n?ii(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Jr(t,e,n){t.c=n?ii(e,!0):e}function ti(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ei(t,e,n){e instanceof di?(t.b=e,function(t,e){e&&!t.f&&(fi(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(pi(this,e),gi(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=si(e,li)),t.b=new di(e,t.a))}function ni(t,e,n){t.b.set(e,n)}function ri(t){return ni(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Pe()).toString(36)),t}function ii(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function si(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,oi),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function oi(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Yr.prototype.toString=function(){var t=[],e=this.f;e&&t.push(si(e,ai,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(si(e,ai,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(si(n,"/"==n.charAt(0)?ci:ui,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",si(n,hi)),t.join("")};var ai=/[#\/\?@]/g,ui=/[#\?:]/g,ci=/[#\?]/g,li=/[#\?@]/g,hi=/#/g;function di(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function fi(t){t.a||(t.a=new Gr,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function pi(t,e){fi(t),e=yi(t,e),Wr(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Wr((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&$r(t)))}function mi(t,e){return fi(t),e=yi(t,e),Wr(t.a.b,e)}function gi(t,e,n){pi(t,e),0<n.length&&(t.c=null,t.a.set(yi(t,e),qe(n)),t.b+=n.length)}function yi(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ee=di.prototype).add=function(t,e){fi(this),this.c=null,t=yi(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ee.forEach=function(t,e){fi(this),this.a.forEach(function(n,r){Ve(n,function(n){t.call(e,n,r,this)},this)},this)},Ee.L=function(){fi(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Ee.K=function(t){fi(this);var e=[];if("string"==typeof t)mi(this,t)&&(e=Ue(e,this.a.get(yi(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ue(e,t[n])}return e},Ee.set=function(t,e){return fi(this),this.c=null,mi(this,t=yi(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ee.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ee.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var bi=function(){return function(t,e){this.b=t,this.a=e}}();function vi(t){this.g=t||_i,t=Oe.PerformanceNavigationTiming?0<(t=Oe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Oe.ia&&Oe.ia.ya&&Oe.ia.ya()&&Oe.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var _i=10;function wi(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ei(t){return t.b?1:t.a?t.a.size:0}function Si(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ti(t,e){t.a?t.a.add(e):t.b=e}function Oi(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ci(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=we(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return qe(t.c)}function Ii(){}function xi(){this.a=new Ii}function Ai(t,e,n){var r=n||"";try{Kr(t,function(t,n){var i=t;xe(t)&&(i=Kn(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Am){throw e.push(r+"type="+encodeURIComponent("_badmap")),Am}}function ki(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}vi.prototype.cancel=function(){var t,e;if(this.c=Ci(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=we(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ii.prototype.stringify=function(t){return Oe.JSON.stringify(t,void 0)},Ii.prototype.parse=function(t){return Oe.JSON.parse(t,void 0)};var Di=Oe.JSON.parse;function ji(t){Bn.call(this),this.headers=new Gr,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ni,this.D=this.F=!1}Me(ji,Bn);var Ni="",Ri=/^https?$/i,Pi=["POST","PUT"];function Mi(t){return"content-type"==t.toLowerCase()}function Fi(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Li(t),Ui(t)}function Li(t){t.u||(t.u=!0,Hn(t,"complete"),Hn(t,"error"))}function Vi(t){if(t.b&&void 0!==Te&&(!t.s[1]||4!=Bi(t)||2!=t.W()))if(t.l&&4==Bi(t))ir(t.za,0,t);else if(Hn(t,"readystatechange"),4==Bi(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Qr)[1]||null;if(!s&&Oe.self&&Oe.self.location){var o=Oe.self.location.protocol;s=o.substr(0,o.length-1)}i=!Ri.test(s?s.toLowerCase():"")}e=i}if(e)Hn(t,"complete"),Hn(t,"success");else{t.h=6;try{var a=2<Bi(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Li(t)}}finally{Ui(t)}}}function Ui(t,e){if(t.a){qi(t);var n=t.a,r=t.s[0]?Ce:null;t.a=null,t.s=null,e||Hn(t,"ready");try{n.onreadystatechange=r}catch(Am){}}}function qi(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Oe.clearTimeout(t.m),t.m=null)}function Bi(t){return t.a?t.a.readyState:0}function Hi(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Qe(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ni(t,e,n))}function zi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ki(t){this.pa=0,this.g=[],this.c=new hr,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=zi("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=zi("baseRetryDelayMs",5e3,t),this.Ra=zi("retryDelaySeedMs",1e4,t),this.Ma=zi("forwardChannelMaxRetries",2,t),this.ma=zi("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new vi(t&&t.concurrentRequestLimit),this.ka=new xi,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Gi(t){if(Wi(t),3==t.v){var e=t.R++,n=Zr(t.B);ni(n,"SID",t.J),ni(n,"RID",e),ni(n,"TYPE","terminate"),Xi(t,n),(e=new Dr(t,t.c,e,void 0)).H=2,e.i=ri(Zr(n)),n=!1,Oe.navigator&&Oe.navigator.sendBeacon&&(n=Oe.navigator.sendBeacon(e.i.toString(),"")),!n&&Oe.Image&&((new Image).src=e.i,n=!0),n||(e.a=ls(e.g,null),e.a.ba(e.i)),e.u=Pe(),Vr(e)}us(t)}function $i(t){t.a&&(ns(t),t.a.cancel(),t.a=null)}function Wi(t){$i(t),t.j&&(Oe.clearTimeout(t.j),t.j=null),is(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Oe.clearTimeout(t.h),t.h=null)}function Qi(t,e){t.g.push(new bi(t.Oa++,e)),3==t.v&&Yi(t)}function Yi(t){wi(t.b)||t.h||(t.h=!0,Xn(t.Ba,t),t.u=0)}function Zi(t,e){var n;n=e?e.f:t.R++;var r=Zr(t.B);ni(r,"SID",t.J),ni(r,"RID",n),ni(r,"AID",t.P),Xi(t,r),t.i&&t.l&&Hi(r,t.i,t.l),n=new Dr(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ji(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ti(t.b,n),Pr(n,r,e)}function Xi(t,e){t.f&&Kr({},function(t,n){ni(e,n,t)})}function Ji(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ne(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{Ai(l,o,"req"+c+"_")}catch(Bs){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function ts(t){t.a||t.j||(t.T=1,Xn(t.Aa,t),t.o=0)}function es(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=wr(Ne(t.Aa,t),os(t,t.o)),t.o++,0))}function ns(t){null!=t.s&&(Oe.clearTimeout(t.s),t.s=null)}function rs(t){t.a=new Dr(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Zr(t.la);ni(e,"RID","rpc"),ni(e,"SID",t.J),ni(e,"CI",t.H?"0":"1"),ni(e,"AID",t.P),Xi(t,e),ni(e,"TYPE","xmlhttp"),t.i&&t.l&&Hi(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ri(Zr(e)),n.j=null,n.I=!0,Mr(n,t)}function is(t){null!=t.m&&(Oe.clearTimeout(t.m),t.m=null)}function ss(t,e){var n=null;if(t.a==e){is(t),ns(t),t.a=null;var r=2}else{if(!Si(t.b,e))return;n=e.s,Oi(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Pe()-e.u;var i=t.u;Hn(r=mr(),new _r(r,n,e,i)),Yi(t)}else ts(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ei(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=wr(Ne(t.Ba,t,e),os(t,t.u)),t.u++,0)))}(t,e)||2==r&&es(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:as(t,5);break;case 4:as(t,10);break;case 3:as(t,6);break;default:as(t,2)}}function os(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function as(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ne(t.Ya,t);n||(n=new Yr("//www.google.com/images/cleardot.gif"),Oe.location&&"http"==Oe.location.protocol||Xr(n,"https"),ri(n)),function(t,e){var n=new hr;if(Oe.Image){var r=new Image;r.onload=Re(ki,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Re(ki,n,r,"TestLoadImage: error",!1,e),r.onabort=Re(ki,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Re(ki,n,r,"TestLoadImage: timeout",!1,e),Oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else vr(2);t.v=0,t.f&&t.f.ra(e),us(t),Wi(t)}function us(t){t.v=0,t.I=-1,t.f&&(0==Ci(t.b).length&&0==t.g.length||(t.b.c.length=0,qe(t.g),t.g.length=0),t.f.qa())}function cs(t,e,n){var r=function(t){return t instanceof Yr?Zr(t):new Yr(t,void 0)}(n);if(""!=r.c)e&&Jr(r,e+"."+r.c),ti(r,r.h);else{var i=Oe.location;r=function(t,e,n,r){var i=new Yr(null,void 0);return t&&Xr(i,t),e&&Jr(i,e),n&&ti(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Qe(t.V,function(t,e){ni(r,e,t)}),n=t.na,(e=t.A)&&n&&ni(r,e,n),ni(r,"VER",t.ha),Xi(t,r),r}function ls(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ji(t.Na)).F=t.C,e}function hs(){}function ds(){if(rn&&!(10<=Number(mn)))throw Error("Environmental error: no available transport.")}function fs(t,e){Bn.call(this),this.a=new Ki(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Be(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Be(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new gs(this)}function ps(t){xr.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ms(){Ar.call(this),this.status=1}function gs(t){this.a=t}(Ee=ji.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Cr),this.a.onreadystatechange=Ne(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Fi(this,s)}t=n||"";var i=new Gr(this.headers);r&&Kr(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Mi,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Oe.FormData&&t instanceof Oe.FormData,!(0<=Le(Pi,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{qi(this),0<this.o&&((this.D=function(t){return rn&&pn(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ne(this.xa,this)):this.m=ir(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Fi(this,s)}},Ee.xa=function(){void 0!==Te&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Hn(this,"timeout"),this.abort(8))},Ee.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Hn(this,"complete"),Hn(this,"abort"),Ui(this))},Ee.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ui(this,!0)),ji.X.G.call(this)},Ee.za=function(){this.j||(this.A||this.l||this.g?Vi(this):this.Ua())},Ee.Ua=function(){Vi(this)},Ee.W=function(){try{return 2<Bi(this)?this.a.status:-1}catch(en){return-1}},Ee.$=function(){try{return this.a?this.a.responseText:""}catch(en){return""}},Ee.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Di(e)}},Ee.ua=function(){return this.h},Ee.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ee=Ki.prototype).ha=8,Ee.v=1,Ee.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Dr(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Xe(r=Ye(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ji(this,n,e),ni(i=Zr(this.B),"RID",t),ni(i,"CVER",22),this.A&&ni(i,"X-HTTP-Session-Id",this.A),Xi(this,i),this.i&&r&&Hi(i,this.i,r),Ti(this.b,n),this.Ia&&ni(i,"TYPE","init"),this.da?(ni(i,"$req",e),ni(i,"SID","null"),n.U=!0,Pr(n,i,null)):Pr(n,i,e),this.v=2}}else 3==this.v&&(t?Zi(this,t):0==this.g.length||wi(this.b)||Zi(this))},Ee.Aa=function(){if(this.j=null,rs(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=wr(Ne(this.Ta,this),t)}},Ee.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,vr(10),$i(this),rs(this))},Ee.Sa=function(){null!=this.m&&(this.m=null,$i(this),es(this),vr(19))},Ee.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),vr(2)):(this.c.info("Failed to ping google.com"),vr(1))},(Ee=hs.prototype).ta=function(){},Ee.sa=function(){},Ee.ra=function(){},Ee.qa=function(){},Ee.Ja=function(){},ds.prototype.a=function(t,e){return new fs(t,e)},Me(fs,Bn),fs.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;vr(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=cs(t,null,t.fa),Yi(t)},fs.prototype.close=function(){Gi(this.a)},fs.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Qi(this.a,e)}else this.l?((e={}).__data__=Kn(t),Qi(this.a,e)):Qi(this.a,t)},fs.prototype.G=function(){this.a.f=null,delete this.f,Gi(this.a),delete this.a,fs.X.G.call(this)},Me(ps,xr),Me(ms,Ar),Me(gs,hs),gs.prototype.ta=function(){Hn(this.a,"a")},gs.prototype.sa=function(t){Hn(this.a,new ps(t))},gs.prototype.ra=function(t){Hn(this.a,new ms(t))},gs.prototype.qa=function(){Hn(this.a,"b")},ds.prototype.createWebChannel=ds.prototype.a,fs.prototype.send=fs.prototype.h,fs.prototype.open=fs.prototype.g,fs.prototype.close=fs.prototype.close,Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,Sr.COMPLETE="complete",Or.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",Bn.prototype.listen=Bn.prototype.va,ji.prototype.listenOnce=ji.prototype.wa,ji.prototype.getLastError=ji.prototype.Qa,ji.prototype.getLastErrorCode=ji.prototype.ua,ji.prototype.getStatus=ji.prototype.W,ji.prototype.getResponseJson=ji.prototype.Pa,ji.prototype.getResponseText=ji.prototype.$,ji.prototype.send=ji.prototype.ba;var ys=Er,bs=Sr,vs=fr,_s=Or,ws=ji,Es=n("mrSG"),Ss=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ss.o=-1;var Ts={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Os=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Es.c)(e,t),e}(Error),Cs=new ve.b("@firebase/firestore");function Is(){return Cs.logLevel}function xs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Cs.logLevel<=ve.a.DEBUG){var r=e.map(Ds);Cs.debug.apply(Cs,Object(Es.f)(["Firestore (8.4.2): "+t],r))}}function As(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Cs.logLevel<=ve.a.ERROR){var r=e.map(Ds);Cs.error.apply(Cs,Object(Es.f)(["Firestore (8.4.2): "+t],r))}}function ks(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Cs.logLevel<=ve.a.WARN){var r=e.map(Ds);Cs.warn.apply(Cs,Object(Es.f)(["Firestore (8.4.2): "+t],r))}}function Ds(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Am){return t}}function js(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.2) INTERNAL ASSERTION FAILED: "+t;throw As(e),new Error(e)}function Ns(t,e){t||js()}function Rs(t,e){return t}function Ps(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ms=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ps(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Fs(t,e){return t<e?-1:t>e?1:0}function Ls(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Vs(t){return t+"\0"}var Us=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Os(Ts.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Os(Ts.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Os(Ts.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Os(Ts.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Fs(this.nanoseconds,t.nanoseconds):Fs(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),qs=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Us(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Bs(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zs(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ks=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&js(),void 0===n?n=t.length-e:n>t.length-e&&js(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Es.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Os(Ts.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Ks),$s=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ws=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Es.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return $s.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Os(Ts.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Os(Ts.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Os(Ts.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Os(Ts.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Ks),Qs=function(){function t(t){this.fields=t,t.sort(Ws.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Ls(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Ys=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Fs(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Ys.EMPTY_BYTE_STRING=new Ys("");var Zs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(t){if(Ns(!!t),"string"==typeof t){var e=0,n=Zs.exec(t);if(Ns(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Js(t.seconds),nanos:Js(t.nanos)}}function Js(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function to(t){return"string"==typeof t?Ys.fromBase64String(t):Ys.fromUint8Array(t)}function eo(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function no(t){var e=t.mapValue.fields.__previous_value__;return eo(e)?no(e):e}function ro(t){var e=Xs(t.mapValue.fields.__local_write_time__.timestampValue);return new Us(e.seconds,e.nanos)}function io(t){return null==t}function so(t){return 0===t&&1/t==-1/0}function oo(t){return"number"==typeof t&&Number.isInteger(t)&&!so(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ao=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Gs.fromString(e))},t.fromName=function(e){return new t(Gs.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Gs.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Gs.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Gs(e.slice()))},t}();function uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eo(t)?4:10:js()}function co(t,e){var n=uo(t);if(n!==uo(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ro(t).isEqual(ro(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Xs(t.timestampValue),r=Xs(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return to(t.bytesValue).isEqual(to(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Js(t.geoPointValue.latitude)===Js(e.geoPointValue.latitude)&&Js(t.geoPointValue.longitude)===Js(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Js(t.integerValue)===Js(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Js(t.doubleValue),r=Js(e.doubleValue);return n===r?so(n)===so(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ls(t.arrayValue.values||[],e.arrayValue.values||[],co);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Bs(n)!==Bs(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!co(n[i],r[i])))return!1;return!0}(t,e);default:return js()}}function lo(t,e){return void 0!==(t.values||[]).find(function(t){return co(t,e)})}function ho(t,e){var n=uo(t),r=uo(e);if(n!==r)return Fs(n,r);switch(n){case 0:return 0;case 1:return Fs(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Js(t.integerValue||t.doubleValue),r=Js(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return fo(t.timestampValue,e.timestampValue);case 4:return fo(ro(t),ro(e));case 5:return Fs(t.stringValue,e.stringValue);case 6:return function(t,e){var n=to(t),r=to(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Fs(n[i],r[i]);if(0!==s)return s}return Fs(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Fs(Js(t.latitude),Js(e.latitude));return 0!==n?n:Fs(Js(t.longitude),Js(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=ho(n[i],r[i]);if(s)return s}return Fs(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Fs(r[o],s[o]);if(0!==a)return a;var u=ho(n[r[o]],i[s[o]]);if(0!==u)return u}return Fs(r.length,s.length)}(t.mapValue,e.mapValue);default:throw js()}}function fo(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Fs(t,e);var n=Xs(t),r=Xs(e),i=Fs(n.seconds,r.seconds);return 0!==i?i:Fs(n.nanos,r.nanos)}function po(t){return mo(t)}function mo(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Xs(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?to(t.bytesValue).toBase64():"referenceValue"in t?ao.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=mo(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+mo(t.fields[s])}return e+"}"}(t.mapValue):js();var e}function go(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function yo(t){return!!t&&"integerValue"in t}function bo(t){return!!t&&"arrayValue"in t}function vo(t){return!!t&&"nullValue"in t}function _o(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wo(t){return!!t&&"mapValue"in t}var Eo=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Ws.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return co(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===uo(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,s=t.extractNestedValue(this.partialValue,e),o=wo(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var s=r.applyOverlay(e.child(n),t);null!=s&&(o[n]=s,i=!0)}else null!==t?(o[n]=t,i=!0):o.hasOwnProperty(n)&&(delete o[n],i=!0)}),i?{mapValue:{fields:o}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Ws.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!wo(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function So(t){var e=[];return Hs(t.fields||{},function(t,n){var r=new Ws([t]);if(wo(n)){var i=So(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new Qs(e)}var To=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,qs.min(),Eo.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Eo.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Eo.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Eo.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Eo.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Oo=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function Co(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Oo(t,e,n,r,i,s,o)}function Io(t){var e=Rs(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+po(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),io(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Uo(e.startAt)),e.endAt&&(n+="|ub:",n+=Uo(e.endAt)),e.h=n}return e.h}function xo(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Bo(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!co(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zo(t.startAt,e.startAt)&&zo(t.endAt,e.endAt)}function Ao(t){return ao.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ko=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Es.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Do(t,n,r):"array-contains"===n?new Po(t,r):"in"===n?new Mo(t,r):"not-in"===n?new Fo(t,r):"array-contains-any"===n?new Lo(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new jo(t,n):new No(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(ho(e,this.value)):null!==e&&uo(this.value)===uo(e)&&this.m(ho(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return js()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Do=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ao.fromName(r.referenceValue),i}return Object(Es.c)(e,t),e.prototype.matches=function(t){var e=ao.comparator(t.key,this.key);return this.m(e)},e}(ko),jo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ro(0,n),r}return Object(Es.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(ko),No=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ro(0,n),r}return Object(Es.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(ko);function Ro(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ao.fromName(t.referenceValue)})}var Po=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Es.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return bo(e)&&lo(e.arrayValue,this.value)},e}(ko),Mo=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Es.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&lo(this.value.arrayValue,e)},e}(ko),Fo=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Es.c)(e,t),e.prototype.matches=function(t){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!lo(this.value.arrayValue,e)},e}(ko),Lo=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Es.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!bo(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return lo(e.value.arrayValue,t)})},e}(ko),Vo=function(t,e){this.position=t,this.before=e};function Uo(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return po(t)}).join(",")}var qo=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Bo(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Ho(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?ao.comparator(ao.fromName(o.referenceValue),n.key):ho(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function zo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!co(t.position[n],e.position[n]))return!1;return!0}var Ko=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function Go(t,e,n,r,i,s,o,a){return new Ko(t,e,n,r,i,s,o,a)}function $o(t){return new Ko(t)}function Wo(t){return!io(t.limit)&&"F"===t.limitType}function Qo(t){return!io(t.limit)&&"L"===t.limitType}function Yo(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Zo(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Xo(t){return null!==t.collectionGroup}function Jo(t){var e=Rs(t);if(null===e.p){e.p=[];var n=Zo(e),r=Yo(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new qo(n)),e.p.push(new qo(Ws.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new qo(Ws.keyField(),u))}}}return e.p}function ta(t){var e=Rs(t);if(!e.T)if("F"===e.limitType)e.T=Co(e.path,e.collectionGroup,Jo(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Jo(e);r<i.length;r++){var s=i[r];n.push(new qo(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Vo(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Vo(e.startAt.position,!e.startAt.before):null;e.T=Co(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function ea(t,e,n){return new Ko(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function na(t,e){return xo(ta(t),ta(e))&&t.limitType===e.limitType}function ra(t){return Io(ta(t))+"|lt:"+t.limitType}function ia(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+po(e.value);var e}).join(", ")+"]"),io(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Uo(t.startAt)),t.endAt&&(e+=", endAt: "+Uo(t.endAt)),"Target("+e+")"}(ta(t))+"; limitType="+t.limitType+")"}function sa(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ao.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Ho(t.startAt,Jo(t),e)||t.endAt&&Ho(t.endAt,Jo(t),e))}(t,e)}function oa(t){return function(e,n){for(var r=!1,i=0,s=Jo(t);i<s.length;i++){var o=s[i],a=aa(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function aa(t,e,n){var r=t.field.isKeyField()?ao.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ho(r,i):js()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return js()}}function ua(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:so(e)?"-0":e}}function ca(t){return{integerValue:""+t}}function la(t,e){return oo(e)?ca(e):ua(t,e)}var ha=function(){this._=void 0};function da(t,e,n){return t instanceof ma?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ga?ya(t,e):t instanceof ba?va(t,e):function(t,e){var n=pa(t,e),r=wa(n)+wa(t.A);return yo(n)&&yo(t.A)?ca(r):ua(t.R,r)}(t,e)}function fa(t,e,n){return t instanceof ga?ya(t,e):t instanceof ba?va(t,e):n}function pa(t,e){return t instanceof _a?yo(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ma=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Es.c)(e,t),e}(ha),ga=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Es.c)(e,t),e}(ha);function ya(t,e){for(var n=Ea(e),r=function(t){n.some(function(e){return co(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var ba=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Es.c)(e,t),e}(ha);function va(t,e){for(var n=Ea(e),r=function(t){n=n.filter(function(e){return!co(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var _a=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Es.c)(e,t),e}(ha);function wa(t){return Js(t.integerValue||t.doubleValue)}function Ea(t){return bo(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Sa=function(t,e){this.field=t,this.transform=e},Ta=function(t,e){this.version=t,this.transformResults=e},Oa=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ca(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Ia=function(){};function xa(t,e,n){t instanceof Na?function(t,e,n){var r=t.value.clone(),i=Ma(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Ra?function(t,e,n){if(Ca(t.precondition,e)){var r=Ma(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Pa(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Aa(t,e,n){t instanceof Na?function(t,e,n){if(Ca(t.precondition,e)){var r=t.value.clone(),i=Fa(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(ja(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Ra?function(t,e,n){if(Ca(t.precondition,e)){var r=Fa(t.fieldTransforms,n,e),i=e.data;i.setAll(Pa(t)),i.setAll(r),e.convertToFoundDocument(ja(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Ca(t.precondition,e)&&e.convertToNoDocument(qs.min())}(t,e)}function ka(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=pa(s.transform,o||null);null!=a&&(null==n&&(n=Eo.empty()),n.set(s.field,a))}return n||null}function Da(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ls(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ga&&e instanceof ga||t instanceof ba&&e instanceof ba?Ls(t.elements,e.elements,co):t instanceof _a&&e instanceof _a?co(t.A,e.A):t instanceof ma&&e instanceof ma}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function ja(t){return t.isFoundDocument()?t.version:qs.min()}var Na=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(Es.c)(e,t),e}(Ia),Ra=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(Es.c)(e,t),e}(Ia);function Pa(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Ma(t,e,n){var r=new Map;Ns(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,fa(o,a,n[i]))}return r}function Fa(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,da(a,u,e))}return r}var La,Va,Ua=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Es.c)(e,t),e}(Ia),qa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Es.c)(e,t),e}(Ia),Ba=function(t){this.count=t};function Ha(t){switch(t){case Ts.OK:return js();case Ts.CANCELLED:case Ts.UNKNOWN:case Ts.DEADLINE_EXCEEDED:case Ts.RESOURCE_EXHAUSTED:case Ts.INTERNAL:case Ts.UNAVAILABLE:case Ts.UNAUTHENTICATED:return!1;case Ts.INVALID_ARGUMENT:case Ts.NOT_FOUND:case Ts.ALREADY_EXISTS:case Ts.PERMISSION_DENIED:case Ts.FAILED_PRECONDITION:case Ts.ABORTED:case Ts.OUT_OF_RANGE:case Ts.UNIMPLEMENTED:case Ts.DATA_LOSS:return!0;default:return js()}}function za(t){if(void 0===t)return As("GRPC error has no .code"),Ts.UNKNOWN;switch(t){case La.OK:return Ts.OK;case La.CANCELLED:return Ts.CANCELLED;case La.UNKNOWN:return Ts.UNKNOWN;case La.DEADLINE_EXCEEDED:return Ts.DEADLINE_EXCEEDED;case La.RESOURCE_EXHAUSTED:return Ts.RESOURCE_EXHAUSTED;case La.INTERNAL:return Ts.INTERNAL;case La.UNAVAILABLE:return Ts.UNAVAILABLE;case La.UNAUTHENTICATED:return Ts.UNAUTHENTICATED;case La.INVALID_ARGUMENT:return Ts.INVALID_ARGUMENT;case La.NOT_FOUND:return Ts.NOT_FOUND;case La.ALREADY_EXISTS:return Ts.ALREADY_EXISTS;case La.PERMISSION_DENIED:return Ts.PERMISSION_DENIED;case La.FAILED_PRECONDITION:return Ts.FAILED_PRECONDITION;case La.ABORTED:return Ts.ABORTED;case La.OUT_OF_RANGE:return Ts.OUT_OF_RANGE;case La.UNIMPLEMENTED:return Ts.UNIMPLEMENTED;case La.DATA_LOSS:return Ts.DATA_LOSS;default:return js()}}(Va=La||(La={}))[Va.OK=0]="OK",Va[Va.CANCELLED=1]="CANCELLED",Va[Va.UNKNOWN=2]="UNKNOWN",Va[Va.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Va[Va.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Va[Va.NOT_FOUND=5]="NOT_FOUND",Va[Va.ALREADY_EXISTS=6]="ALREADY_EXISTS",Va[Va.PERMISSION_DENIED=7]="PERMISSION_DENIED",Va[Va.UNAUTHENTICATED=16]="UNAUTHENTICATED",Va[Va.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Va[Va.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Va[Va.ABORTED=10]="ABORTED",Va[Va.OUT_OF_RANGE=11]="OUT_OF_RANGE",Va[Va.UNIMPLEMENTED=12]="UNIMPLEMENTED",Va[Va.INTERNAL=13]="INTERNAL",Va[Va.UNAVAILABLE=14]="UNAVAILABLE",Va[Va.DATA_LOSS=15]="DATA_LOSS";var Ka=function(){function t(t,e){this.comparator=t,this.root=e||$a.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$a.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$a.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Ga(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Ga(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Ga(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Ga(this.root,t,this.comparator,!0)},t}(),Ga=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),$a=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw js();if(this.right.isRed())throw js();var t=this.left.check();if(t!==this.right.check())throw js();return t+(this.isRed()?0:1)},t}();$a.EMPTY=null,$a.RED=!0,$a.BLACK=!1,$a.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw js()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw js()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw js()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw js()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw js()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new $a(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Wa=function(){function t(t){this.comparator=t,this.data=new Ka(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Qa(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Qa(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Qa=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Ya=new Ka(ao.comparator);function Za(){return Ya}var Xa=new Ka(ao.comparator);function Ja(){return Xa}var tu=new Ka(ao.comparator);function eu(){return tu}var nu=new Wa(ao.comparator);function ru(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=nu,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var iu=new Wa(Fs);function su(){return iu}var ou=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(qs.min(),r,su(),Za(),ru())},t}(),au=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Ys.EMPTY_BYTE_STRING,n,ru(),ru(),ru())},t}(),uu=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},cu=function(t,e){this.targetId=t,this.V=e},lu=function(t,e,n,r){void 0===n&&(n=Ys.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},hu=function(){function t(){this.S=0,this.D=pu(),this.C=Ys.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=ru(),e=ru(),n=ru();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:js()}}),new au(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=pu()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),du=function(){function t(t){this.W=t,this.G=new Map,this.H=Za(),this.J=fu(),this.Y=new Wa(Fs)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:js()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Ao(i))if(0===n){var s=new ao(i.path);this.tt(e,s,To.newNoDocument(s,qs.min()))}else Ns(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&Ao(s.target)){var o=new ao(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,To.newNoDocument(o,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=ru();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new ou(t,n,this.Y,this.H,r);return this.H=Za(),this.J=fu(),this.Y=new Wa(Fs),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new hu,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Wa(Fs),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||xs("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new hu),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function fu(){return new Ka(ao.comparator)}function pu(){return new Ka(ao.comparator)}var mu={asc:"ASCENDING",desc:"DESCENDING"},gu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yu=function(t,e){this.databaseId=t,this.I=e};function bu(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function vu(t,e){return t.I?e.toBase64():e.toUint8Array()}function _u(t,e){return bu(t,e.toTimestamp())}function wu(t){return Ns(!!t),qs.fromTimestamp(function(t){var e=Xs(t);return new Us(e.seconds,e.nanos)}(t))}function Eu(t,e){return function(t){return new Gs(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Su(t){var e=Gs.fromString(t);return Ns($u(e)),e}function Tu(t,e){return Eu(t.databaseId,e.path)}function Ou(t,e){var n=Su(e);if(n.get(1)!==t.databaseId.projectId)throw new Os(Ts.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Os(Ts.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ao(Au(n))}function Cu(t,e){return Eu(t.databaseId,e)}function Iu(t){var e=Su(t);return 4===e.length?Gs.emptyPath():Au(e)}function xu(t){return new Gs(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Au(t){return Ns(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ku(t,e,n){return{name:Tu(t,e),fields:n.toProto().mapValue.fields}}function Du(t,e,n){var r=Ou(t,e.name),i=wu(e.updateTime),s=new Eo({mapValue:{fields:e.fields}}),o=To.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function ju(t,e){var n;if(e instanceof Na)n={update:ku(t,e.key,e.value)};else if(e instanceof Ua)n={delete:Tu(t,e.key)};else if(e instanceof Ra)n={update:ku(t,e.key,e.data),updateMask:Gu(e.fieldMask)};else{if(!(e instanceof qa))return js();n={verify:Tu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof ma)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ga)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ba)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _a)return{fieldPath:e.field.canonicalString(),increment:n.A};throw js()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:_u(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:js()}(t,e.precondition)),n}function Nu(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Oa.updateTime(wu(t.updateTime)):void 0!==t.exists?Oa.exists(t.exists):Oa.none()}(e.currentDocument):Oa.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Ns("REQUEST_TIME"===e.setToServerValue),n=new ma):"appendMissingElements"in e?n=new ga(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new ba(e.removeAllFromArray.values||[]):"increment"in e?n=new _a(t,e.increment):js();var r=Ws.fromServerFormat(e.fieldPath);return new Sa(r,n)}(t,e)}):[];if(e.update){var i=Ou(t,e.update.name),s=new Eo({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Qs((t.fieldPaths||[]).map(function(t){return Ws.fromServerFormat(t)}))}(e.updateMask);return new Ra(i,s,o,n,r)}return new Na(i,s,n,r)}if(e.delete){var a=Ou(t,e.delete);return new Ua(a,n)}if(e.verify){var u=Ou(t,e.verify);return new qa(u,n)}return js()}function Ru(t,e){return{documents:[Cu(t,e.path)]}}function Pu(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Cu(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Cu(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(_o(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NAN"}};if(vo(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(_o(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NOT_NAN"}};if(vo(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bu(t.field),op:qu(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Bu(t.field),direction:Uu(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||io(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Lu(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Lu(e.endAt)),n}function Mu(t){var e=Iu(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ns(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Fu(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new qo(Hu(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return io(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Vu(n.startAt));var l=null;return n.endAt&&(l=Vu(n.endAt)),Go(e,i,a,o,u,"F",c,l)}function Fu(t){return t?void 0!==t.unaryFilter?[Ku(t)]:void 0!==t.fieldFilter?[zu(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Fu(t)}).reduce(function(t,e){return t.concat(e)}):js():[]}function Lu(t){return{before:t.before,values:t.position}}function Vu(t){return new Vo(t.values||[],!!t.before)}function Uu(t){return mu[t]}function qu(t){return gu[t]}function Bu(t){return{fieldPath:t.canonicalString()}}function Hu(t){return Ws.fromServerFormat(t.fieldPath)}function zu(t){return ko.create(Hu(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return js()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ku(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Hu(t.unaryFilter.field);return ko.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Hu(t.unaryFilter.field);return ko.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Hu(t.unaryFilter.field);return ko.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Hu(t.unaryFilter.field);return ko.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return js()}}function Gu(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function $u(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Wu(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Yu(e)),e=Qu(t.get(n),e);return Yu(e)}function Qu(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Yu(t){return t+"\x01\x01"}function Zu(t){var e=t.length;if(Ns(e>=2),2===e)return Ns("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Gs.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&js(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:js()}s=o+2}return new Gs(r)}var Xu=function(t,e){this.seconds=t,this.nanoseconds=e},Ju=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ju.store="owner",Ju.key="owner";var tc=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};tc.store="mutationQueues",tc.keyPath="userId";var ec=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ec.store="mutations",ec.keyPath="batchId",ec.userMutationsIndex="userMutationsIndex",ec.userMutationsKeyPath=["userId","batchId"];var nc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Wu(e)]},t.key=function(t,e,n){return[t,Wu(e),n]},t}();nc.store="documentMutations",nc.PLACEHOLDER=new nc;var rc=function(t,e){this.path=t,this.readTime=e},ic=function(t,e){this.path=t,this.version=e},sc=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};sc.store="remoteDocuments",sc.readTimeIndex="readTimeIndex",sc.readTimeIndexPath="readTime",sc.collectionReadTimeIndex="collectionReadTimeIndex",sc.collectionReadTimeIndexPath=["parentPath","readTime"];var oc=function(t){this.byteSize=t};oc.store="remoteDocumentGlobal",oc.key="remoteDocumentGlobalKey";var ac=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};ac.store="targets",ac.keyPath="targetId",ac.queryTargetsIndexName="queryTargetsIndex",ac.queryTargetsKeyPath=["canonicalId","targetId"];var uc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};uc.store="targetDocuments",uc.keyPath=["targetId","path"],uc.documentTargetsIndex="documentTargetsIndex",uc.documentTargetsKeyPath=["path","targetId"];var cc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};cc.key="targetGlobalKey",cc.store="targetGlobal";var lc=function(t,e){this.collectionId=t,this.parent=e};lc.store="collectionParents",lc.keyPath=["collectionId","parent"];var hc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};hc.store="clientMetadata",hc.keyPath="clientId";var dc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};dc.store="bundles",dc.keyPath="bundleId";var fc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};fc.store="namedQueries",fc.keyPath="name";var pc=Object(Es.f)(Object(Es.f)([],Object(Es.f)(Object(Es.f)([],Object(Es.f)(Object(Es.f)([],Object(Es.f)(Object(Es.f)([],[tc.store,ec.store,nc.store,sc.store,ac.store,Ju.store,cc.store,uc.store]),[hc.store])),[oc.store])),[lc.store])),[dc.store,fc.store]),mc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gc=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),yc=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},bc=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&js(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),vc=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new yc,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Ec(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Ic(e.target.error);n.ft.reject(new Ec(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ec(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(xs("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Tc(e)},t}(),_c=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(be.h)())&&As("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return xs("SimpleDb","Removing database:",t),Oc(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(be.h)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Es.b)(this,void 0,void 0,function(){var e,n=this;return Object(Es.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(xs("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Ec(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Os(Ts.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ec(t,n))},i.onupgradeneeded=function(t){xs("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){xs("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Es.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(Es.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(Es.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=vc.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),bc.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return xs("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),wc=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Oc(this.Pt.delete())},t}(),Ec=function(t){function e(e,n){var r=this;return(r=t.call(this,Ts.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Es.c)(e,t),e}(Os);function Sc(t){return"IndexedDbTransactionError"===t.name}var Tc=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(xs("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(xs("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Oc(n)},t.prototype.add=function(t){return xs("SimpleDb","ADD",this.store.name,t,t),Oc(this.store.add(t))},t.prototype.get=function(t){var e=this;return Oc(this.store.get(t)).next(function(n){return void 0===n&&(n=null),xs("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return xs("SimpleDb","DELETE",this.store.name,t),Oc(this.store.delete(t))},t.prototype.count=function(){return xs("SimpleDb","COUNT",this.store.name),Oc(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){xs("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new bc(function(n,r){e.onerror=function(t){var e=Ic(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new bc(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new wc(i),o=e(i.primaryKey,i.value,s);if(o instanceof bc){var a=o.catch(function(t){return s.done(),bc.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return bc.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Oc(t){return new bc(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ic(t.target.error);n(e)}})}var Cc=!1;function Ic(t){var e=_c._t(Object(be.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Os("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Cc||(Cc=!0,setTimeout(function(){throw r},0)),r}}return t}var xc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Es.c)(e,t),e}(gc);function Ac(t,e){var n=Rs(t);return _c.It(n.Mt,e)}var kc=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&xa(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&Aa(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&Aa(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(qs.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},ru())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ls(this.mutations,t.mutations,function(t,e){return Da(t,e)})&&Ls(this.baseMutations,t.baseMutations,function(t,e){return Da(t,e)})},t}(),Dc=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Ns(e.mutations.length===r.length);for(var i=eu(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),jc=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=qs.min()),void 0===s&&(s=qs.min()),void 0===o&&(o=Ys.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Nc=function(t){this.Lt=t};function Rc(t,e){if(e.document)return Du(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ao.fromSegments(e.noDocument.path),r=Vc(e.noDocument.readTime),i=To.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=ao.fromSegments(e.unknownDocument.path);return r=Vc(e.unknownDocument.version),To.newUnknownDocument(s,r)}return js()}function Pc(t,e,n){var r=Mc(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:Tu(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:bu(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new sc(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Lc(e.version);return o=e.hasCommittedMutations,new sc(null,new rc(a,u),null,o,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Lc(e.version);return new sc(new ic(c,l),null,null,!0,r,i)}return js()}function Mc(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Fc(t){var e=new Us(t[0],t[1]);return qs.fromTimestamp(e)}function Lc(t){var e=t.toTimestamp();return new Xu(e.seconds,e.nanoseconds)}function Vc(t){var e=new Us(t.seconds,t.nanoseconds);return qs.fromTimestamp(e)}function Uc(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Nu(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Nu(t.Lt,e)}),s=Us.fromMillis(e.localWriteTimeMs);return new kc(e.batchId,s,n,i)}function qc(t){var e,n,r=Vc(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Vc(t.lastLimboFreeSnapshotVersion):qs.min();return void 0!==t.query.documents?(Ns(1===(n=t.query).documents.length),e=ta($o(Iu(n.documents[0])))):e=function(t){return ta(Mu(t))}(t.query),new jc(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ys.fromBase64String(t.resumeToken))}function Bc(t,e){var n,r=Lc(e.snapshotVersion),i=Lc(e.lastLimboFreeSnapshotVersion);n=Ao(e.target)?Ru(t.Lt,e.target):Pu(t.Lt,e.target);var s=e.resumeToken.toBase64();return new ac(e.targetId,Io(e.target),r,s,e.sequenceNumber,i,n)}function Hc(t){var e=Mu({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ea(e,e.limit,"L"):e}var zc=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Kc(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Vc(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Kc(t).put({bundleId:(n=e).id,createTime:Lc(wu(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Gc(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Hc(e.bundledQuery),readTime:Vc(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Gc(t).put(function(t){return{name:t.name,readTime:Lc(wu(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Kc(t){return Ac(t,dc.store)}function Gc(t){return Ac(t,fc.store)}var $c=function(){function t(){this.Bt=new Wc}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),bc.resolve()},t.prototype.getCollectionParents=function(t,e){return bc.resolve(this.Bt.getEntries(e))},t}(),Wc=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Wa(Gs.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Wa(Gs.comparator)).toArray()},t}(),Qc=function(){function t(){this.qt=new Wc}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:Wu(i)};return Yc(t).put(s)}return bc.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Vs(e),""],!1,!0);return Yc(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Zu(s.parent))}return n})},t}();function Yc(t){return Ac(t,lc.store)}var Zc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xc=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Jc(t,e,n){var r=t.store(ec.store),i=t.store(nc.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){Ns(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=nc.key(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return bc.waitFor(s).next(function(){return c})}function tl(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw js();e=t.noDocument}return JSON.stringify(e).length}Xc.DEFAULT_COLLECTION_PERCENTILE=10,Xc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xc.DEFAULT=new Xc(41943040,Xc.DEFAULT_COLLECTION_PERCENTILE,Xc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xc.DISABLED=new Xc(-1,0,0);var el=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Ns(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rl(t).Ot({index:ec.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=il(t),o=rl(t);return o.add({}).next(function(a){Ns("number"==typeof a);for(var u=new kc(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return ju(t.Lt,e)}),i=n.mutations.map(function(e){return ju(t.Lt,e)});return new ec(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Wa(function(t,e){return Fs(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=nc.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(m,nc.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),bc.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return rl(t).get(e).next(function(t){return t?(Ns(t.userId===n.userId),Uc(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?bc.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return rl(t).Ot({index:ec.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Ns(e.batchId>=r),s=Uc(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return rl(t).Ot({index:ec.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rl(t).Nt(ec.userMutationsIndex,n).next(function(t){return t.map(function(t){return Uc(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=nc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return il(t).Ot({range:i},function(r,i,o){var a=r[0],u=r[2],c=Zu(r[1]);if(a===n.userId&&e.path.isEqual(c))return rl(t).get(u).next(function(t){if(!t)throw js();Ns(t.userId===n.userId),s.push(Uc(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Wa(Fs),i=[];return e.forEach(function(e){var s=nc.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=il(t).Ot({range:o},function(t,i,s){var o=t[0],a=t[2],u=Zu(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),bc.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=nc.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Wa(Fs);return il(t).Ot({range:o},function(t,e,s){var o=t[0],u=t[2],c=Zu(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(rl(t).get(e).next(function(t){if(null===t)throw js();Ns(t.userId===n.userId),r.push(Uc(n.R,t))}))}),bc.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Jc(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),bc.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return bc.resolve();var r=IDBKeyRange.lowerBound(nc.prefixForUser(e.userId)),i=[];return il(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var s=Zu(t[1]);i.push(s)}else r.done()}).next(function(){Ns(0===i.length)})})},t.prototype.containsKey=function(t,e){return nl(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return sl(t).get(this.userId).next(function(t){return t||new tc(e.userId,-1,"")})},t}();function nl(t,e,n){var r=nc.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return il(t).Ot({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function rl(t){return Ac(t,ec.store)}function il(t){return Ac(t,nc.store)}function sl(t){return Ac(t,tc.store)}var ol=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),al=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new ol(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return qs.fromTimestamp(new Us(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return ul(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Ns(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return ul(t).Ot(function(o,a){var u=qc(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return bc.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return ul(t).Ot(function(t,n){var r=qc(n);e(r)})},t.prototype.Xt=function(t){return cl(t).get(cc.key).next(function(t){return Ns(null!==t),t})},t.prototype.Zt=function(t,e){return cl(t).put(cc.key,e)},t.prototype.te=function(t,e){return ul(t).put(Bc(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Io(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ul(t).Ot({range:r,index:ac.queryTargetsIndexName},function(t,n,r){var s=qc(n);xo(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=ll(t);return e.forEach(function(e){var o=Wu(e.path);i.push(s.put(new uc(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),bc.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=ll(t);return bc.forEach(e,function(e){var s=Wu(e.path);return bc.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ll(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ll(t),i=ru();return r.Ot({range:n,kt:!0},function(t,e,n){var r=Zu(t[1]),s=new ao(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Wu(e.path),r=IDBKeyRange.bound([n],[Vs(n)],!1,!0),i=0;return ll(t).Ot({index:uc.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return ul(t).get(e).next(function(t){return t?qc(t):null})},t}();function ul(t){return Ac(t,ac.store)}function cl(t){return Ac(t,cc.store)}function ll(t){return Ac(t,uc.store)}function hl(t){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(e){if(t.code!==Ts.FAILED_PRECONDITION||t.message!==mc)throw t;return xs("LocalStore","Unexpectedly lost primary lease"),[2]})})}function dl(t,e){var n=t[1],r=e[1],i=Fs(t[0],e[0]);return 0===i?Fs(n,r):i}var fl=function(){function t(t){this.ne=t,this.buffer=new Wa(dl),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();dl(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),pl=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;xs("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Es.b)(e,void 0,void 0,function(){var e;return Object(Es.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Sc(e=n.sent())?(xs("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,hl(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),ml=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return bc.resolve(Ss.o);var r=new fl(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(xs("LruGarbageCollector","Garbage collection skipped; disabled"),bc.resolve(Zc)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(xs("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Zc):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(xs("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Is()<=ve.a.DEBUG&&xs("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),bc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),gl=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new ml(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return yl(t,n)},t.prototype.removeReference=function(t,e,n){return yl(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return yl(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return sl(t).$t(function(r){return nl(t,r,e).next(function(t){return t&&(n=!0),bc.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var u=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),ll(t).delete([0,Wu(o.path)])})});i.push(u)}}).next(function(){return bc.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return yl(t,e)},t.prototype.we=function(t,e){var n,r=ll(t),i=Ss.o;return r.Ot({index:uc.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Ss.o&&e(new ao(Zu(n)),i),i=o,n=s):i=Ss.o}).next(function(){i!==Ss.o&&e(new ao(Zu(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function yl(t,e){return ll(t).put(function(t,e){return new uc(0,Wu(t.path),e)}(e,t.currentSequenceNumber))}var bl=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Hs(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return zs(this.inner)},t}(),vl=function(){function t(){this.changes=new bl(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:qs.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:To.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?bc.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),_l=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Sl(t).put(Tl(e),n)},t.prototype.removeEntry=function(t,e){var n=Sl(t),r=Tl(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Sl(t).get(Tl(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Sl(t).get(Tl(e)).next(function(t){return{document:n.ye(e,t),size:tl(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Za();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Za(),i=new Ka(ao.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,tl(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return bc.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Sl(t).Ot({range:r},function(t,e,r){for(var o=ao.fromSegments(t);s&&ao.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Za(),s=e.path.length+1,o={};if(n.isEqual(qs.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Mc(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=sc.collectionReadTimeIndex}return Sl(t).Ot(o,function(t,n,o){if(t.length===s){var a=Rc(r.R,n);e.path.isPrefixOf(a.key.path)?sa(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new wl(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return El(t).get(oc.key).next(function(t){return Ns(!!t),t})},t.prototype.me=function(t,e){return El(t).put(oc.key,e)},t.prototype.ye=function(t,e){if(e){var n=Rc(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(qs.min()))return n}return To.newInvalidDocument(t)},t}(),wl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new bl(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Es.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Wa(function(t,e){return Fs(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=Pc(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var c=tl(u);r+=c-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=Pc(e.Ie.R,To.newNoDocument(s,qs.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),bc.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(vl);function El(t){return Ac(t,oc.store)}function Sl(t){return Ac(t,sc.store)}function Tl(t){return t.path.toArray()}var Ol=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Ns(n<r&&n>=0&&r<=11);var s=new vc("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ju.store)}(t),function(t){t.createObjectStore(tc.store,{keyPath:tc.keyPath}),t.createObjectStore(ec.store,{keyPath:ec.keyPath,autoIncrement:!0}).createIndex(ec.userMutationsIndex,ec.userMutationsKeyPath,{unique:!0}),t.createObjectStore(nc.store)}(t),Cl(t),function(t){t.createObjectStore(sc.store)}(t));var o=bc.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(uc.store),t.deleteObjectStore(ac.store),t.deleteObjectStore(cc.store)}(t),Cl(t)),o=o.next(function(){return function(t){var e=t.store(cc.store),n=new cc(0,0,qs.min().toTimestamp(),0);return e.put(cc.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(ec.store).Nt().next(function(n){t.deleteObjectStore(ec.store),t.createObjectStore(ec.store,{keyPath:ec.keyPath,autoIncrement:!0}).createIndex(ec.userMutationsIndex,ec.userMutationsKeyPath,{unique:!0});var r=e.store(ec.store),i=n.map(function(t){return r.put(t)});return bc.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(hc.store,{keyPath:hc.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(oc.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(sc.store);e.createIndex(sc.readTimeIndex,sc.readTimeIndexPath,{unique:!1}),e.createIndex(sc.collectionReadTimeIndex,sc.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(dc.store,{keyPath:dc.keyPath})}(t),function(t){t.createObjectStore(fc.store,{keyPath:fc.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(sc.store).Ot(function(t,n){e+=tl(n)}).next(function(){var n=new oc(e);return t.store(oc.store).put(oc.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(tc.store),r=t.store(ec.store);return n.Nt().next(function(n){return bc.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ec.userMutationsIndex,i).next(function(r){return bc.forEach(r,function(r){Ns(r.userId===n.userId);var i=Uc(e.R,r);return Jc(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(uc.store),n=t.store(sc.store);return t.store(cc.store).get(cc.key).next(function(t){var r=[];return n.Ot(function(n,i){var s=new Gs(n),o=function(t){return[0,Wu(t)]}(s);r.push(e.get(o).next(function(n){return n?bc.resolve():function(n){return e.put(new uc(0,Wu(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return bc.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(lc.store,{keyPath:lc.keyPath});var n=e.store(lc.store),r=new Wc,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Wu(i)})}};return e.store(sc.store).Ot({kt:!0},function(t,e){var n=new Gs(t);return i(n.popLast())}).next(function(){return e.store(nc.store).Ot({kt:!0},function(t,e){var n=Zu(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(ac.store);return n.Ot(function(t,r){var i=qc(r),s=Bc(e.R,i);return n.put(s)})},t}();function Cl(t){t.createObjectStore(uc.store,{keyPath:uc.keyPath}).createIndex(uc.documentTargetsIndex,uc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ac.store,{keyPath:ac.keyPath}).createIndex(ac.queryTargetsIndexName,ac.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(cc.store)}var Il="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",xl=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Os(Ts.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gl(this,i),this.Le=n+"main",this.R=new Nc(u),this.Be=new _c(this.Le,11,new Ol(this.R)),this.qe=new al(this.referenceDelegate,this.R),this.Ut=new Qc,this.Ue=function(t,e){return new _l(t,e)}(this.R,this.Ut),this.Qe=new zc,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&As("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Os(Ts.FAILED_PRECONDITION,Il);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Ss(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Es.b)(e,void 0,void 0,function(){return Object(Es.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Es.b)(e,void 0,void 0,function(){return Object(Es.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Es.b)(e,void 0,void 0,function(){return Object(Es.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return kl(e).put(new hc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Sc(e))return xs("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return xs("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Al(t).get(Ju.key).next(function(t){return bc.resolve(e.tn(t))})},t.prototype.en=function(t){return kl(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Es.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Es.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Ac(t,hc.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return bc.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?bc.resolve(!0):Al(t).get(Ju.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Os(Ts.FAILED_PRECONDITION,Il);return!1}}return!(!e.networkEnabled||!e.inForeground)||kl(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&xs("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Es.b)(this,void 0,void 0,function(){var t=this;return Object(Es.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ju.store,hc.store],function(e){var n=new xc(e,Ss.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return kl(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return el.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return xs("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",pc,function(s){return r=new xc(s,i.Ne?i.Ne.next():Ss.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw As("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Os(Ts.FAILED_PRECONDITION,mc);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Al(t).get(Ju.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Os(Ts.FAILED_PRECONDITION,Il)})},t.prototype.Ze=function(t){var e=new Ju(this.clientId,this.allowTabSynchronization,Date.now());return Al(t).put(Ju.key,e)},t.yt=function(){return _c.yt()},t.prototype.Xe=function(t){var e=this,n=Al(t);return n.get(Ju.key).next(function(t){return e.tn(t)?(xs("IndexedDbPersistence","Releasing primary lease."),n.delete(Ju.key)):bc.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(As("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return xs("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return As("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){As("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Al(t){return Ac(t,Ju.store)}function kl(t){return Ac(t,hc.store)}function Dl(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var jl=function(t,e){this.progress=t,this.wn=e},Nl=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ao.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Xo(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ao(e)).next(function(t){var e=Ja();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=Ja();return this.Ut.getCollectionParents(t,i).next(function(o){return bc.forEach(o,function(o){var a=function(t,e){return new Ko(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c);null==l&&(l=To.newInvalidDocument(c),r=r.insert(c,l)),Aa(u,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){sa(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=ru(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Ra&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Rl=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=ru(),i=ru(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Pl=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(qs.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(Wo(e)||Qo(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(Is()<=ve.a.DEBUG&&xs("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ia(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Wa(oa(t));return e.forEach(function(e,r){sa(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Is()<=ve.a.DEBUG&&xs("QueryEngine","Using full collection scan to execute query:",ia(e)),this.Sn.getDocumentsMatchingQuery(t,e,qs.min())},t}(),Ml=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Ka(Fs),this.kn=new bl(function(t){return Io(t)},xo),this.On=qs.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Nl(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Fl(t,e,n,r){return new Ml(t,e,n,r)}function Ll(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Es.d)(this,function(o){switch(o.label){case 0:return n=Rs(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new Nl(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=ru(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function Vl(t,e){var n=Rs(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=bc.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);Ns(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Ul(t){var e=Rs(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function ql(t,e){var n=Rs(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return Ns(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.qe.updateTargetData(t,c))}}});var a=Za();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(Bl(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(qs.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return bc.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Bl(t,e,n,r,i){var s=ru();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Za();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(qs.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):xs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Hl(t,e){var n=Rs(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function zl(t,e){var n=Rs(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?bc.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new jc(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Kl(t,e,n){return Object(Es.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Es.d)(this,function(a){switch(a.label){case 0:r=Rs(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Sc(o=a.sent()))throw o;return xs("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Gl(t,e,n){var r=Rs(t),i=qs.min(),s=ru();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Rs(t),i=r.kn.get(n);return void 0!==i?bc.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,ta(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:qs.min(),n?s:ru())}).next(function(t){return{documents:t,Bn:s}})})}function $l(t,e){var n=Rs(t),r=Rs(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Wl(t){var e=Rs(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Rs(t),i=Za(),s=Mc(n),o=Sl(e),a=IDBKeyRange.lowerBound(s,!0);return o.Ot({index:sc.readTimeIndex,range:a},function(t,e){var n=Rc(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:Fc(s)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function Ql(t){return Object(Es.b)(this,void 0,void 0,function(){var e;return Object(Es.d)(this,function(n){return[2,(e=Rs(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Sl(t),n=qs.min();return e.Ot({index:sc.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Fc(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function Yl(t,e,n,r){return Object(Es.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,d,f;return Object(Es.d)(this,function(p){switch(p.label){case 0:for(i=Rs(t),s=ru(),o=Za(),a=eu(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,zl(i,function(t){return ta($o(Gs.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Bl(t,d,o,qs.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Zl(t,e,n){return void 0===n&&(n=ru()),Object(Es.b)(this,void 0,void 0,function(){var r,i;return Object(Es.d)(this,function(s){switch(s.label){case 0:return[4,zl(t,ta(Hc(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=Rs(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=wu(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(Ys.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var Xl=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return bc.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:wu(n.createTime)}),bc.resolve()},t.prototype.getNamedQuery=function(t,e){return bc.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Hc(t.bundledQuery),readTime:wu(t.readTime)}}(e)),bc.resolve()},t}(),Jl=function(){function t(){this.Wn=new Wa(th.Gn),this.zn=new Wa(th.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new th(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new th(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new ao(new Gs([])),r=new th(n,t),i=new th(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ao(new Gs([])),n=new th(e,t),r=new th(e,t+1),i=ru();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new th(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),th=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ao.comparator(t.key,e.key)||Fs(t.ns,e.ns)},t.Hn=function(t,e){return Fs(t.ns,e.ns)||ao.comparator(t.key,e.key)},t}(),eh=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Wa(th.Gn)}return t.prototype.checkEmpty=function(t){return bc.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new kc(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new th(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return bc.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return bc.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return bc.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return bc.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return bc.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new th(e,0),i=new th(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),bc.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Wa(Fs);return e.forEach(function(t){var e=new th(t,0),i=new th(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),bc.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ao.isDocumentKey(i)||(i=i.child(""));var s=new th(new ao(i),0),o=new Wa(Fs);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),bc.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Ns(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return bc.forEach(e.mutations,function(i){var s=new th(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new th(e,0),r=this.rs.firstAfterOrEqual(n);return bc.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return bc.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),nh=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Ka(ao.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return bc.resolve(n?n.document.clone():To.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Za();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():To.newInvalidDocument(t))}),bc.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Za(),i=new ao(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||sa(e,u)&&(r=r.insert(u.key,u.clone()))}return bc.resolve(r)},t.prototype.fs=function(t,e){return bc.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new rh(this)},t.prototype.getSize=function(t){return bc.resolve(this.size)},t}(),rh=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Es.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),bc.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(vl),ih=function(){function t(t){this.persistence=t,this.ds=new bl(function(t){return Io(t)},xo),this.lastRemoteSnapshotVersion=qs.min(),this.highestTargetId=0,this.ws=0,this._s=new Jl,this.targetCount=0,this.ys=ol.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),bc.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return bc.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return bc.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),bc.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),bc.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new ol(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,bc.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),bc.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,bc.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),bc.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return bc.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return bc.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),bc.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),bc.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),bc.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return bc.resolve(n)},t.prototype.containsKey=function(t,e){return bc.resolve(this._s.containsKey(e))},t}(),sh=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Ss(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new ih(this),this.Ut=new $c,this.Ue=function(t,e){return new nh(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Nc(e),this.Qe=new Xl(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new eh(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;xs("MemoryPersistence","Starting transaction:",t);var i=new oh(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return bc.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),oh=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Es.c)(e,t),e}(gc),ah=function(){function t(t){this.persistence=t,this.As=new Jl,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw js()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),bc.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),bc.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),bc.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bc.forEach(this.vs,function(r){var i=ao.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return bc.or([function(){return bc.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),uh=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function ch(t,e){return"firestore_clients_"+t+"_"+e}function lh(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function hh(t,e){return"firestore_targets_"+t+"_"+e}uh.UNAUTHENTICATED=new uh(null),uh.GOOGLE_CREDENTIALS=new uh("google-credentials-uid"),uh.FIRST_PARTY=new uh("first-party-uid");var dh=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Os(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(As("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),fh=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Os(i.error.code,i.error.message)),s?new t(e,i.state,r):(As("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ph=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=su(),o=0;i&&o<r.activeTargetIds.length;++o)i=oo(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(As("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),mh=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(As("SharedClientState","Failed to parse online state: "+e),null)},t}(),gh=function(){function t(){this.activeTargetIds=su()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),yh=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Ka(Fs),this.started=!1,this.Os=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=ch(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new gh),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Es.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(Es.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(ch(this.persistenceKey,r)))&&(s=ph.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(hh(this.persistenceKey,t));if(n){var r=fh.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(hh(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return xs("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){xs("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){xs("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(xs("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void As("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Es.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Es.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=Ss.o;if(null!=t)try{var n=JSON.parse(t);Ns("number"==typeof n),e=n}catch(t){As("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ss.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new dh(this.currentUser,t,e,n),i=lh(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=lh(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=hh(this.persistenceKey,t),i=new fh(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return ph.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return dh.Vs(new uh(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return fh.Vs(r,e)},t.prototype.js=function(t){return mh.Vs(t)},t.prototype.ii=function(t){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(xs("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=su();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),bh=function(){function t(){this.li=new gh,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new gh,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),vh=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),_h=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){xs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){xs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),wh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Eh=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Sh=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Es.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new ws;o.listenOnce(bs.COMPLETE,function(){try{switch(o.getLastErrorCode()){case ys.NO_ERROR:var e=o.getResponseJson();xs("Connection","XHR received:",JSON.stringify(e)),i(e);break;case ys.TIMEOUT:xs("Connection",'RPC "'+t+'" timed out'),s(new Os(Ts.DEADLINE_EXCEEDED,"Request time out"));break;case ys.HTTP_ERROR:var n=o.getStatus();if(xs("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ts).indexOf(e)>=0?e:Ts.UNKNOWN}(r.status);s(new Os(a,r.message))}else s(new Os(Ts.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Os(Ts.UNAVAILABLE,"Connection failed."));break;default:js()}}finally{xs("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ds,i=mr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Object(be.m)()||Object(be.o)()||Object(be.k)()||Object(be.l)()||Object(be.p)()||Object(be.j)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");xs("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Eh({Ei:function(t){c?xs("Connection","Not sending because WebChannel is closed:",t):(u||(xs("Connection","Opening WebChannel transport."),a.open(),u=!0),xs("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,_s.EventType.OPEN,function(){c||xs("Connection","WebChannel transport opened.")}),h(a,_s.EventType.CLOSE,function(){c||(c=!0,xs("Connection","WebChannel transport closed"),l.Vi())}),h(a,_s.EventType.ERROR,function(t){c||(c=!0,ks("Connection","WebChannel transport errored:",t),l.Vi(new Os(Ts.UNAVAILABLE,"The operation could not be completed")))}),h(a,_s.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Ns(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){xs("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=La[t];if(void 0!==e)return za(e)}(i),o=r.message;void 0===s&&(s=Ts.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Os(s,o)),a.close()}else xs("Connection","WebChannel received:",n),l.Si(n)}}),h(i,vs.STAT_EVENT,function(t){10===t.stat?xs("Connection","Detected buffering proxy"):11===t.stat&&xs("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);xs("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return xs("RestConnection","Received: ",t),t},function(e){throw ks("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+wh[t]},t}());function Th(){return"undefined"!=typeof window?window:null}function Oh(){return"undefined"!=typeof document?document:null}function Ch(t){return new yu(t,!0)}var Ih=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&xs("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),xh=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ih(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ts.RESOURCE_EXHAUSTED?(As(e.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Ts.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Os(Ts.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Es.b)(t,void 0,void 0,function(){return Object(Es.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return xs("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(xs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Ah=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(Es.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:js()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(Ns(void 0===e||"string"==typeof e),Ys.fromBase64String(e||"")):(Ns(void 0===e||e instanceof Uint8Array),Ys.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ts.UNKNOWN:za(t.code);return new Os(e,t.message||"")}(a);n=new lu(r,i,s,o||null)}else if("documentChange"in e){i=Ou(t,(r=e.documentChange).document.name),s=wu(r.document.updateTime);var a=new Eo({mapValue:{fields:r.document.fields}}),u=(o=To.newFoundDocument(i,s,a),r.targetIds||[]);n=new uu(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Ou(t,(r=e.documentDelete).document),s=r.readTime?wu(r.readTime):qs.min(),a=To.newNoDocument(i,s),n=new uu([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Ou(t,(r=e.documentRemove).document),n=new uu([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return js();var c=e.filter;i=new Ba(r=c.count||0),n=new cu(s=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return qs.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?qs.min():e.readTime?wu(e.readTime):qs.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=xu(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Ao(r)?{documents:Ru(t,r)}:{query:Pu(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=vu(t,e.resumeToken):e.snapshotVersion.compareTo(qs.min())>0&&(n.readTime=bu(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return js()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=xu(this.R),e.removeTarget=t,this.cr(e)},e}(xh),kh=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(Es.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Ns(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Ns(void 0!==e),t.map(function(t){return function(t,e){var n=wu(t.updateTime?t.updateTime:e);return n.isEqual(qs.min())&&(n=wu(e)),new Ta(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=wu(t.commitTime);return this.listener.Tr(n,e)}return Ns(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=xu(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ju(e.R,t)})};this.cr(n)},e}(xh),Dh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Es.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Os(Ts.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Ts.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Os(Ts.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Ts.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Os(Ts.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),jh=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(As(e),this.Vr=!1):xs("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Nh=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Es.b)(s,void 0,void 0,function(){return Object(Es.d)(this,function(t){switch(t.label){case 0:return Bh(this)?(xs("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Es.b)(this,void 0,void 0,function(){var e;return Object(Es.d)(this,function(n){switch(n.label){case 0:return(e=Rs(t)).$r.add(4),[4,Ph(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Rh(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new jh(n,r)};function Rh(t){return Object(Es.b)(this,void 0,void 0,function(){var e,n;return Object(Es.d)(this,function(r){switch(r.label){case 0:if(!Bh(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ph(t){return Object(Es.b)(this,void 0,void 0,function(){var e,n;return Object(Es.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Mh(t,e){var n=Rs(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),qh(n)?Uh(n):rd(n).er()&&Lh(n,e))}function Fh(t,e){var n=Rs(t),r=rd(n);n.Or.delete(e),r.er()&&Vh(n,e),0===n.Or.size&&(r.er()?r.ir():Bh(n)&&n.Br.set("Unknown"))}function Lh(t,e){t.qr.U(e.targetId),rd(t).mr(e)}function Vh(t,e){t.qr.U(e),rd(t).yr(e)}function Uh(t){t.qr=new du({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),rd(t).start(),t.Br.Sr()}function qh(t){return Bh(t)&&!rd(t).tr()&&t.Or.size>0}function Bh(t){return 0===Rs(t).$r.size}function Hh(t){t.qr=void 0}function zh(t){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(e){return t.Or.forEach(function(e,n){Lh(t,e)}),[2]})})}function Kh(t,e){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(n){return Hh(t),qh(t)?(t.Br.Nr(e),Uh(t)):t.Br.set("Unknown"),[2]})})}function Gh(t,e,n){return Object(Es.b)(this,void 0,void 0,function(){var r,i,s;return Object(Es.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof lu&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Es.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Or.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Or.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),xs("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,$h(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof uu?t.qr.X(e):e instanceof cu?t.qr.rt(e):t.qr.et(e),n.isEqual(qs.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Ul(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Ys.EMPTY_BYTE_STRING,n.snapshotVersion)),Vh(t,e);var r=new jc(n.target,e,1,n.sequenceNumber);Lh(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return xs("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,$h(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function $h(t,e,n){return Object(Es.b)(this,void 0,void 0,function(){var r=this;return Object(Es.d)(this,function(i){switch(i.label){case 0:if(!Sc(e))throw e;return t.$r.add(1),[4,Ph(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Ul(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Es.b)(r,void 0,void 0,function(){return Object(Es.d)(this,function(e){switch(e.label){case 0:return xs("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Rh(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Wh(t,e){return e().catch(function(n){return $h(t,n,e)})}function Qh(t){return Object(Es.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Es.d)(this,function(o){switch(o.label){case 0:e=Rs(t),n=id(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Bh(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Hl(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=id(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,$h(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Yh(e)&&Zh(e),[2]}})})}function Yh(t){return Bh(t)&&!id(t).tr()&&t.kr.length>0}function Zh(t){id(t).start()}function Xh(t){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(e){return id(t).Ar(),[2]})})}function Jh(t){return Object(Es.b)(this,void 0,void 0,function(){var e,n,r;return Object(Es.d)(this,function(i){for(e=id(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function td(t,e,n){return Object(Es.b)(this,void 0,void 0,function(){var r,i;return Object(Es.d)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=Dc.from(r,e,n),[4,Wh(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Qh(t)];case 2:return s.sent(),[2]}})})}function ed(t,e){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(n){switch(n.label){case 0:return e&&id(t).pr?[4,function(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r;return Object(Es.d)(this,function(i){switch(i.label){case 0:return Ha(r=e.code)&&r!==Ts.ABORTED?(n=t.kr.shift(),id(t).sr(),[4,Wh(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Qh(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Yh(t)&&Zh(t),[2]}})})}function nd(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n;return Object(Es.d)(this,function(r){switch(r.label){case 0:return n=Rs(t),e?(n.$r.delete(2),[4,Rh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Ph(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function rd(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Rs(t);return r.br(),new Ah(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:zh.bind(null,t),Ri:Kh.bind(null,t),_r:Gh.bind(null,t)}),t.Mr.push(function(n){return Object(Es.b)(e,void 0,void 0,function(){return Object(Es.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),qh(t)?Uh(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Hh(t),e.label=3;case 3:return[2]}})})})),t.Ur}function id(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Rs(t);return r.br(),new kh(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Xh.bind(null,t),Ri:ed.bind(null,t),Ir:Jh.bind(null,t),Tr:td.bind(null,t)}),t.Mr.push(function(n){return Object(Es.b)(e,void 0,void 0,function(){return Object(Es.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Qh(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(xs("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var sd=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new yc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Os(Ts.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function od(t,e){if(As("AsyncQueue",e+": "+t),Sc(t))return new Os(Ts.UNAVAILABLE,e+": "+t);throw t}var ad=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ao.comparator(e.key,n.key)}:function(t,e){return ao.comparator(t.key,e.key)},this.keyedMap=Ja(),this.sortedSet=new Ka(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),ud=function(){function t(){this.Kr=new Ka(ao.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):js():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),cd=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,ad.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&na(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ld=function(){this.Wr=void 0,this.listeners=[]},hd=function(){this.queries=new bl(function(t){return ra(t)},na),this.onlineState="Unknown",this.Gr=new Set};function dd(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Es.d)(this,function(c){switch(c.label){case 0:if(n=Rs(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new ld),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=od(a,"Initialization of query '"+ia(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&gd(n),[2]}})})}function fd(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Es.d)(this,function(a){return n=Rs(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function pd(t,e){for(var n=Rs(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&gd(n)}function md(t,e,n){var r=Rs(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function gd(t){t.Gr.forEach(function(t){t.next()})}var yd=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new cd(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=cd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),bd=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),vd=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Ou(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Du(this.R,t.document,!1):To.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return wu(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new vd(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||ru()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Es.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Es.d)(this,function(s){switch(s.label){case 0:return[4,Yl(this.localStore,new vd(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Zl(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new jl(Object.assign({},this.progress),t))]}})})}}();var _d=function(t){this.key=t},wd=function(t){this.key=t},Ed=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=ru(),this.mutatedKeys=ru(),this.lo=oa(t),this.fo=new ad(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new ud,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=Wo(this.query)&&i.size===this.query.limit?i.last():null,c=Qo(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=sa(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Wo(this.query)||Qo(this.query))for(;o.size>this.query.limit;){var l=Wo(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return js()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==s.length||u?{snapshot:new cd(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ud,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=ru(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new wd(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new _d(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ru();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return cd.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Sd=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Td=function(t){this.key=t,this.bo=!1},Od=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new bl(function(t){return ra(t)},na),this.Vo=new Map,this.So=new Set,this.Do=new Ka(ao.comparator),this.Co=new Map,this.No=new Jl,this.xo={},this.Fo=new Map,this.ko=ol.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Cd(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Es.d)(this,function(a){switch(a.label){case 0:return n=ef(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,zl(n.localStore,ta(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,Id(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&Mh(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function Id(t,e,n,r){return Object(Es.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(Es.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(Es.b)(this,void 0,void 0,function(){var i,s,o;return Object(Es.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Gl(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(Ud(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,Gl(t.localStore,e,!0)];case 1:return i=l.sent(),s=new Ed(e,i.Bn),o=s._o(i.documents),a=au.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),Ud(t,n,u.To),c=new Sd(e,n,s),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function xd(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r,i;return Object(Es.d)(this,function(s){switch(s.label){case 0:return n=Rs(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!na(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Kl(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Fh(n.remoteStore,r.targetId),Ld(n,r.targetId)}).catch(hl)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Ld(n,r.targetId),[4,Kl(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Ad(t,e,n){return Object(Es.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Es.d)(this,function(a){switch(a.label){case 0:r=nf(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Rs(t),i=Us.now(),s=e.reduce(function(t,e){return t.add(e.key)},ru());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=ka(c,n.get(c.key));null!=l&&o.push(new Ra(c.key,l,So(l.toProto().mapValue),Oa.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Ka(Fs)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Hd(r,i.changes)];case 3:return a.sent(),[4,Qh(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=od(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function kd(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r;return Object(Es.d)(this,function(i){switch(i.label){case 0:n=Rs(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ql(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Ns(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Ns(r.bo):t.removedDocuments.size>0&&(Ns(r.bo),r.bo=!1))}),[4,Hd(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,hl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Dd(t,e,n){var r=Rs(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Rs(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&gd(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function jd(t,e,n){return Object(Es.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(Es.d)(this,function(c){switch(c.label){case 0:return(r=Rs(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new Ka(ao.comparator)).insert(s,To.newNoDocument(s,qs.min())),a=ru().add(s),u=new ou(qs.min(),new Map,new Wa(Fs),o,a),[4,kd(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),Bd(r),[3,4];case 2:return[4,Kl(r.localStore,e,!1).then(function(){return Ld(r,e,n)}).catch(hl)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Nd(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r,i;return Object(Es.d)(this,function(s){switch(s.label){case 0:n=Rs(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Vl(n.localStore,e)];case 2:return i=s.sent(),Fd(n,r,null),Md(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Hd(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,hl(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Rd(t,e,n){return Object(Es.b)(this,void 0,void 0,function(){var r,i;return Object(Es.d)(this,function(s){switch(s.label){case 0:r=Rs(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Rs(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Ns(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),Fd(r,e,n),Md(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Hd(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,hl(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Pd(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Es.d)(this,function(a){switch(a.label){case 0:Bh((n=Rs(t)).remoteStore)||xs("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Rs(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=od(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Md(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Fd(t,e,n){var r=Rs(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Ld(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Vd(t,e)})}function Vd(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Fh(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Bd(t))}function Ud(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof _d?(t.No.addReference(s.key,e),qd(t,s)):s instanceof wd?(xs("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||Vd(t,s.key)):js()}}function qd(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(xs("SyncEngine","New document in limbo: "+n),t.So.add(r),Bd(t))}function Bd(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ao(Gs.fromString(e)),r=t.ko.next();t.Co.set(r,new Td(n)),t.Do=t.Do.insert(n,r),Mh(t.remoteStore,new jc(ta($o(n.path)),r,2,Ss.o))}}function Hd(t,e,n){return Object(Es.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Es.d)(this,function(a){switch(a.label){case 0:return r=Rs(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Rl.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(Es.d)(this,function(l){switch(l.label){case 0:n=Rs(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return bc.forEach(e,function(e){return bc.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return bc.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Sc(r=l.sent()))throw r;return xs("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function zd(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r;return Object(Es.d)(this,function(i){switch(i.label){case 0:return(n=Rs(t)).currentUser.isEqual(e)?[3,3]:(xs("SyncEngine","User change. New user:",e.toKey()),[4,Ll(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Os(Ts.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Hd(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Kd(t,e){var n=Rs(t),r=n.Co.get(e);if(r&&r.bo)return ru().add(r.key);var i=ru(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function Gd(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r,i;return Object(Es.d)(this,function(s){switch(s.label){case 0:return[4,Gl((n=Rs(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Ud(n,e.targetId,i.To),i)]}})})}function $d(t){return Object(Es.b)(this,void 0,void 0,function(){var e;return Object(Es.d)(this,function(n){return[2,Wl((e=Rs(t)).localStore).then(function(t){return Hd(e,t)})]})})}function Wd(t,e,n,r){return Object(Es.b)(this,void 0,void 0,function(){var i,s;return Object(Es.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Rs(t),r=Rs(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):bc.resolve(null)})})}((i=Rs(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Qh(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Fd(i,e,r||null),Md(i,e),function(t,e){Rs(Rs(t)._n).Gt(e)}(i.localStore,e)):js(),o.label=4;case 4:return[4,Hd(i,s)];case 5:return o.sent(),[3,7];case 6:xs("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Qd(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Es.d)(this,function(c){switch(c.label){case 0:return ef(n=Rs(t)),nf(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Yd(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,nd(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)Mh(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Ld(n,e),Kl(n.localStore,e,!0)}),Fh(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Yd(n,a)];case 5:return c.sent(),function(t){var e=Rs(t);e.Co.forEach(function(t,n){Fh(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Ka(ao.comparator)}(n),n.Oo=!1,[4,nd(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Yd(t,e,n){return Object(Es.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,d,f,p;return Object(Es.d)(this,function(m){switch(m.label){case 0:n=Rs(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(c=n.Vo.get(a=o[s]))&&0!==c.length?[4,zl(n.localStore,ta(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,Gd(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,$l(n.localStore,a)];case 8:return p=m.sent(),[4,zl(n.localStore,p)];case 9:return u=m.sent(),[4,Id(n,Zd(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Zd(t){return Go(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Xd(t){var e=Rs(t);return Rs(Rs(e.localStore).persistence).fn()}function Jd(t,e,n,r){return Object(Es.b)(this,void 0,void 0,function(){var i,s,o;return Object(Es.d)(this,function(a){switch(a.label){case 0:return(i=Rs(t)).Oo?(xs("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Wl(i.localStore)];case 3:return s=a.sent(),o=ou.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Hd(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Kl(i.localStore,e,!0)];case 6:return a.sent(),Ld(i,e,r),[3,8];case 7:js(),a.label=8;case 8:return[2]}})})}function tf(t,e,n){return Object(Es.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(Es.d)(this,function(d){switch(d.label){case 0:if(!(r=ef(t)).Oo)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(xs("SyncEngine","Adding an already active target "+o),[3,5]):[4,$l(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,zl(r.localStore,a)];case 3:return u=d.sent(),[4,Id(r,Zd(a),u.targetId,!1)];case 4:d.sent(),Mh(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Es.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Kl(r.localStore,t,!1).then(function(){Fh(r.remoteStore,t),Ld(r,t)}).catch(hl)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function ef(t){var e=Rs(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jd.bind(null,e),e.vo._r=pd.bind(null,e.eventManager),e.vo.Mo=md.bind(null,e.eventManager),e}function nf(t){var e=Rs(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nd.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rd.bind(null,e),e}var rf=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(e){switch(e.label){case 0:return this.R=Ch(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Fl(this.persistence,new Pl,t.initialUser,this.R)},t.prototype.qo=function(t){return new sh(ah.bs,this.R)},t.prototype.Bo=function(t){return new bh},t.prototype.terminate=function(){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),sf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Es.c)(e,t),e.prototype.initialize=function(e){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ql(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,nf(this.Ko.syncEngine)];case 4:return n.sent(),[4,Qh(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return Fl(this.persistence,new Pl,t.initialUser,this.R)},e.prototype.Uo=function(t){return new pl(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Dl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Xc.withCacheSize(this.cacheSizeBytes):Xc.DEFAULT;return new xl(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Th(),Oh(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new bh},e}(rf),of=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Es.c)(e,t),e.prototype.initialize=function(e){return Object(Es.b)(this,void 0,void 0,function(){var n,r=this;return Object(Es.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof yh?(this.sharedClientState.syncEngine={ui:Wd.bind(null,n),ai:Jd.bind(null,n),hi:tf.bind(null,n),fn:Xd.bind(null,n),ci:$d.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Es.b)(r,void 0,void 0,function(){return Object(Es.d)(this,function(e){switch(e.label){case 0:return[4,Qd(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Th();if(!yh.yt(e))throw new Os(Ts.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Dl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new yh(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(sf),af=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n=this;return Object(Es.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Dd(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=zd.bind(null,this.syncEngine),[4,nd(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new hd},t.prototype.createDatastore=function(t){var e=Ch(t.databaseInfo.databaseId),n=new Sh(t.databaseInfo);return function(t,e,n){return new Dh(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Dd(o.syncEngine,t,0)},s=_h.yt()?new _h:new vh,new Nh(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new Od(t,e,n,r,i,s);return o&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Es.b)(this,void 0,void 0,function(){var e;return Object(Es.d)(this,function(n){switch(n.label){case 0:return e=Rs(t),xs("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Ph(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),uf=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),cf=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new yc,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Es.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Es.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new bd(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Es.b)(this,void 0,void 0,function(){var t,e;return Object(Es.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Es.b)(this,void 0,void 0,function(){var e;return Object(Es.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Es.b)(this,void 0,void 0,function(){var t,e;return Object(Es.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Es.b)(this,void 0,void 0,function(){var e,n=this;return Object(Es.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Os(Ts.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Es.d)(this,function(u){switch(u.label){case 0:return n=Rs(t),r=xu(n.R)+"/documents",i={documents:e.map(function(t){return Tu(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Ns(!!e.found);var n=Ou(t,e.found.name),r=wu(e.found.updateTime),i=new Eo({mapValue:{fields:e.found.fields}});return To.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Ns(!!e.missing),Ns(!!e.readTime);var n=Ou(t,e.missing),r=wu(e.readTime);return To.newNoDocument(n,r)}(t,e):js()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Ns(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ua(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Es.b)(this,void 0,void 0,function(){var t,e=this;return Object(Es.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ao.fromPath(n);e.mutations.push(new qa(r,e.precondition(r)))}),[4,function(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r,i;return Object(Es.d)(this,function(s){switch(s.label){case 0:return n=Rs(t),r=xu(n.R)+"/documents",i={writes:e.map(function(t){return ju(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw js();e=qs.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Os(Ts.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Oa.updateTime(e):Oa.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(qs.min()))throw new Os(Ts.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Oa.updateTime(e)}return Oa.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),lf=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Ih(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Es.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Es.d)(this,function(r){return t=new cf(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!io(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ha(e)}return!1},t}(),hf=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=uh.UNAUTHENTICATED,this.clientId=Ms.u(),this.credentialListener=function(){},this.receivedInitialUser=new yc,this.credentials.setChangeListener(function(t){xs("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Os(Ts.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new yc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Es.b)(t,void 0,void 0,function(){var t,n;return Object(Es.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=od(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function df(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Es.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),xs("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(Es.b)(i,void 0,void 0,function(){return Object(Es.d)(this,function(t){switch(t.label){case 0:return[4,Ll(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function ff(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r;return Object(Es.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,pf(t)];case 1:return n=i.sent(),xs("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(Es.b)(this,void 0,void 0,function(){var n,r;return Object(Es.d)(this,function(i){switch(i.label){case 0:return(n=Rs(t)).asyncQueue.verifyOperationInProgress(),xs("RemoteStore","RemoteStore received new credentials"),r=Bh(n),n.$r.add(3),[4,Ph(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Rh(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function pf(t){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(xs("FirestoreClient","Using default OfflineComponentProvider"),[4,df(t,new rf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function mf(t){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(xs("FirestoreClient","Using default OnlineComponentProvider"),[4,ff(t,new af)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function gf(t){return pf(t).then(function(t){return t.persistence})}function yf(t){return pf(t).then(function(t){return t.localStore})}function bf(t){return mf(t).then(function(t){return t.remoteStore})}function vf(t){return mf(t).then(function(t){return t.syncEngine})}function _f(t){return Object(Es.b)(this,void 0,void 0,function(){var e,n;return Object(Es.d)(this,function(r){switch(r.label){case 0:return[4,mf(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Cd.bind(null,e.syncEngine),n.onUnlisten=xd.bind(null,e.syncEngine),n)]}})})}function wf(t,e,n){var r=this;void 0===n&&(n={});var i=new yc;return t.asyncQueue.enqueueAndForget(function(){return Object(Es.b)(r,void 0,void 0,function(){var r;return Object(Es.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new uf({next:function(s){e.enqueueAndForget(function(){return fd(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Os(Ts.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Os(Ts.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new yd($o(n.path),s,{includeMetadataChanges:!0,so:!0});return dd(t,o)},[4,_f(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Ef(t,e,n){var r=this;void 0===n&&(n={});var i=new yc;return t.asyncQueue.enqueueAndForget(function(){return Object(Es.b)(r,void 0,void 0,function(){var r;return Object(Es.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new uf({next:function(n){e.enqueueAndForget(function(){return fd(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Os(Ts.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new yd(n,s,{includeMetadataChanges:!0,so:!0});return dd(t,o)},[4,_f(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Sf=function(t,e,n,r,i,s,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o},Tf=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Of=new Map,Cf=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},If=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(uh.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),xf=function(){function t(t){var e=this;this.oc=null,this.currentUser=uh.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(xs("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ns("string"==typeof n.accessToken),new Cf(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Ns(null===t||"string"==typeof t),new uh(t)},t}(),Af=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=uh.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),kf=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Af(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(uh.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Df(t,e,n){if(!n)throw new Os(Ts.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function jf(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Os(Ts.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Nf(t,e,n,r){if(!0===e&&!0===r)throw new Os(Ts.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Rf(t){if(!ao.isDocumentKey(t))throw new Os(Ts.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Pf(t){if(ao.isDocumentKey(t))throw new Os(Ts.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Mf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":js()}function Ff(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Os(Ts.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Mf(t);throw new Os(Ts.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Lf(t,e){if(e<=0)throw new Os(Ts.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Vf=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Os(Ts.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Os(Ts.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Nf("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Uf=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Vf({}),this._settingsFrozen=!1,t instanceof Tf?(this._databaseId=t,this._credentials=new If):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Os(Ts.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tf(t.options.projectId)}(t),this._credentials=new xf(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Os(Ts.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Os(Ts.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vf(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new If;switch(t.type){case"gapi":var e=t.client;return Ns(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new kf(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Os(Ts.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Of.get(this))&&(xs("ComponentProvider","Removing Datastore"),Of.delete(this),t.terminate()),Promise.resolve();var t},t}(),qf=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Hf(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Bf=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Hf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,$o(r))||this)._path=r,i.type="collection",i}return Object(Es.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new qf(this.firestore,null,new ao(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Bf);function zf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(be.g)(t),Df("collection","path",e),t instanceof Uf)return Pf(n=Gs.fromString.apply(Gs,Object(Es.f)([e],r))),new Hf(t,null,n);if(!(t instanceof qf||t instanceof Hf))throw new Os(Ts.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Pf(n=Gs.fromString.apply(Gs,Object(Es.f)([t.path],r)).child(Gs.fromString(e))),new Hf(t.firestore,null,n)}function Kf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(be.g)(t),1===arguments.length&&(e=Ms.u()),Df("doc","path",e),t instanceof Uf)return Rf(n=Gs.fromString.apply(Gs,Object(Es.f)([e],r))),new qf(t,null,new ao(n));if(!(t instanceof qf||t instanceof Hf))throw new Os(Ts.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Rf(n=t._path.child(Gs.fromString.apply(Gs,Object(Es.f)([e],r)))),new qf(t.firestore,t instanceof Hf?t._converter:null,new ao(n))}function Gf(t,e){return t=Object(be.g)(t),e=Object(be.g)(e),(t instanceof qf||t instanceof Hf)&&(e instanceof qf||e instanceof Hf)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function $f(t,e){return t=Object(be.g)(t),e=Object(be.g)(e),t instanceof Bf&&e instanceof Bf&&t.firestore===e.firestore&&na(t._query,e._query)&&t._converter===e._converter}var Wf=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Ih(this,"async_queue_retry"),this.Ec=function(){var e=Oh();e&&xs("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Oh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Oh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(Es.b)(this,void 0,void 0,function(){var t,e=this;return Object(Es.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Sc(t=n.sent()))throw t;return xs("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,As("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=sd.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&js()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(Es.b)(this,void 0,void 0,function(){var t;return Object(Es.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Qf(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new yc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Yf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Wf,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Es.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Xf(this),this._firestoreClient.terminate()},e}(Uf);function Zf(t){return t._firestoreClient||Xf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Xf(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Sf(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new hf(t._credentials,t._queue,r)}function Jf(t,e,n){var r=this,i=new yc;return t.asyncQueue.enqueue(function(){return Object(Es.b)(r,void 0,void 0,function(){var r;return Object(Es.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,df(t,n)];case 1:return s.sent(),[4,ff(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ts.FAILED_PRECONDITION||t.code===Ts.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function tp(t){if(t._initialized||t._terminated)throw new Os(Ts.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ep=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Os(Ts.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ws(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),np=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Ys.fromBase64String(e))}catch(e){throw new Os(Ts.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ys.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),rp=function(t){this._methodName=t},ip=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Os(Ts.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Os(Ts.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Fs(this._lat,t._lat)||Fs(this._long,t._long)},t}(),sp=/^__.*__$/,op=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Ra(t,this.data,this.fieldMask,e,this.fieldTransforms):new Na(t,this.data,e,this.fieldTransforms)},t}(),ap=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Ra(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function up(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw js()}}var cp=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return Ap(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(up(this.Dc)&&sp.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),lp=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Ch(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new cp({Dc:t,methodName:e,Lc:n,path:Ws.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function hp(t){var e=t._freezeSettings(),n=Ch(t._databaseId);return new lp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dp(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Bc(s.merge||s.mergeFields?2:0,e,n,i);Op("Data must be an object, but it was:",o,r);var a,u,c=Sp(r,o);if(s.merge)a=new Qs(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=Cp(e,d[h],n);if(!o.contains(f))throw new Os(Ts.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");kp(l,f)||l.push(f)}a=new Qs(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new op(new Eo(c),a,u)}var fp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Es.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(rp);function pp(t,e,n){return new cp({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var mp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Es.c)(e,t),e.prototype._toFieldTransform=function(t){return new Sa(t.path,new ma)},e.prototype.isEqual=function(t){return t instanceof e},e}(rp),gp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(Es.c)(e,t),e.prototype._toFieldTransform=function(t){var e=pp(this,t,!0),n=this.qc.map(function(t){return Ep(t,e)}),r=new ga(n);return new Sa(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rp),yp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(Es.c)(e,t),e.prototype._toFieldTransform=function(t){var e=pp(this,t,!0),n=this.qc.map(function(t){return Ep(t,e)}),r=new ba(n);return new Sa(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rp),bp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Es.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new _a(t.R,la(t.R,this.Uc));return new Sa(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(rp);function vp(t,e,n,r){var i=t.Bc(1,e,n);Op("Data must be an object, but it was:",i,r);var s=[],o=Eo.empty();Hs(r,function(t,r){var a=xp(e,t,n);r=Object(be.g)(r);var u=i.kc(a);if(r instanceof fp)s.push(a);else{var c=Ep(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new Qs(s);return new ap(o,a,i.fieldTransforms)}function _p(t,e,n,r,i,s){var o=t.Bc(1,e,n),a=[Cp(e,r,n)],u=[i];if(s.length%2!=0)throw new Os(Ts.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Cp(e,s[c])),u.push(s[c+1]);for(var l=[],h=Eo.empty(),d=a.length-1;d>=0;--d)if(!kp(l,a[d])){var f=a[d],p=u[d];p=Object(be.g)(p);var m=o.kc(f);if(p instanceof fp)l.push(f);else{var g=Ep(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new Qs(l);return new ap(h,y,o.fieldTransforms)}function wp(t,e,n,r){return void 0===r&&(r=!1),Ep(n,t.Bc(r?4:3,e))}function Ep(t,e){if(Tp(t=Object(be.g)(t)))return Op("Unsupported field value:",e,t),Sp(t,e);if(t instanceof rp)return function(t,e){if(!up(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Ep(s[i],e.Oc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(be.g)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return la(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Us.fromDate(t);return{timestampValue:bu(e.R,n)}}if(t instanceof Us)return n=new Us(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:bu(e.R,n)};if(t instanceof ip)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof np)return{bytesValue:vu(e.R,t._byteString)};if(t instanceof qf){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Eu(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Mf(t))}(t,e)}function Sp(t,e){var n={};return zs(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,function(t,r){var i=Ep(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Tp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Us||t instanceof ip||t instanceof np||t instanceof qf||t instanceof rp)}function Op(t,e,n){if(!Tp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Mf(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function Cp(t,e,n){if((e=Object(be.g)(e))instanceof ep)return e._internalPath;if("string"==typeof e)return xp(t,e);throw Ap("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Ip=new RegExp("[~\\*/\\[\\]]");function xp(t,e,n){if(e.search(Ip)>=0)throw Ap("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ep.bind.apply(ep,Object(Es.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Ap("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Ap(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Os(Ts.INVALID_ARGUMENT,(a+=". ")+t+u)}function kp(t,e){return t.some(function(t){return t.isEqual(e)})}var Dp=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new qf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new jp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Np("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),jp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Es.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Dp);function Np(t,e){return"string"==typeof e?xp(t,e):e instanceof ep?e._internalPath:e._delegate._internalPath}var Rp=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Pp=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(Es.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Np("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Dp),Mp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Es.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Pp),Fp=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Rp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Mp(n._firestore,n._userDataWriter,r.key,r,new Rp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Os(Ts.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Mp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Rp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Mp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Rp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Lp(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Lp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return js()}}function Vp(t,e){return t instanceof Pp&&e instanceof Pp?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Fp&&e instanceof Fp&&t._firestore===e._firestore&&$f(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Up(t){if(Qo(t)&&0===t.explicitOrderBy.length)throw new Os(Ts.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qp=function(){};function Bp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var Hp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(Es.c)(e,t),e.prototype._apply=function(t){var e=hp(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Os(Ts.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Yp(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(Qp(r,t,l[c]));a={arrayValue:{values:u}}}else a=Qp(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Yp(o,s),a=wp(n,"where",o,"in"===s||"not-in"===s);var h=ko.create(i,s,a);return function(t,e){if(e.g()){var n=Zo(t);if(null!==n&&!n.isEqual(e.field))throw new Os(Ts.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Yo(t);null!==r&&Zp(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Os(Ts.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Bf(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Ko(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(qp),zp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(Es.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Os(Ts.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Os(Ts.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qo(e,n);return function(t,e){if(null===Yo(t)){var n=Zo(t);null!==n&&Zp(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Bf(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Ko(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(qp),Kp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(Es.c)(e,t),e.prototype._apply=function(t){return new Bf(t.firestore,t._converter,ea(t._query,this.Gc,this.zc))},e}(qp),Gp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Es.c)(e,t),e.prototype._apply=function(t){var e=Wp(t,this.type,this.Hc,this.Jc);return new Bf(t.firestore,t._converter,function(t,e){return new Ko(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(qp),$p=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Es.c)(e,t),e.prototype._apply=function(t){var e=Wp(t,this.type,this.Hc,this.Jc);return new Bf(t.firestore,t._converter,function(t,e){return new Ko(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(qp);function Wp(t,e,n,r){if(n[0]=Object(be.g)(n[0]),n[0]instanceof Dp)return function(t,e,n,r,i){if(!r)throw new Os(Ts.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Jo(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(go(e,r.key));else{var c=r.data.field(u.field);if(eo(c))throw new Os(Ts.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Os(Ts.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Vo(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=hp(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Os(Ts.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Os(Ts.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Xo(t)&&-1!==c.indexOf("/"))throw new Os(Ts.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Gs.fromString(c));if(!ao.isDocumentKey(l))throw new Os(Ts.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ao(l);a.push(go(e,h))}else{var d=wp(n,r,c);a.push(d)}}return new Vo(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function Qp(t,e,n){if("string"==typeof(n=Object(be.g)(n))){if(""===n)throw new Os(Ts.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xo(e)&&-1!==n.indexOf("/"))throw new Os(Ts.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Gs.fromString(n));if(!ao.isDocumentKey(r))throw new Os(Ts.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return go(t,new ao(r))}if(n instanceof qf)return go(t,n._key);throw new Os(Ts.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Mf(n)+".")}function Yp(t,e){if(!Array.isArray(t)||0===t.length)throw new Os(Ts.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Os(Ts.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Zp(t,e,n){if(!n.isEqual(e))throw new Os(Ts.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Xp=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),uo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Js(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(to(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw js()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Hs(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new ip(Js(t.latitude),Js(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=no(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ro(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Xs(t);return new Us(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Gs.fromString(t);Ns($u(n));var r=new Tf(n.get(1),n.get(3)),i=new ao(n.popFirst(5));return r.isEqual(e)||As("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Jp(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var tm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Es.c)(e,t),e.prototype.convertBytes=function(t){return new np(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new qf(this.firestore,null,e)},e}(Xp),em=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=hp(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=nm(t,this._firestore),i=Jp(r._converter,e,n),s=dp(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(s.toMutation(r._key,Oa.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=nm(t,this._firestore);return s="string"==typeof(e=Object(be.g)(e))||e instanceof ep?_p(this._dataReader,"WriteBatch.update",o._key,e,n,r):vp(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Oa.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=nm(t,this._firestore);return this._mutations=this._mutations.concat(new Ua(e._key,Oa.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Os(Ts.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function nm(t,e){if((t=Object(be.g)(t)).firestore!==e)throw new Os(Ts.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var rm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Es.c)(e,t),e.prototype.convertBytes=function(t){return new np(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new qf(this.firestore,null,e)},e}(Xp);function im(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ff(t,qf);var s=Ff(t.firestore,Yf),o=hp(s);return om(s,[("string"==typeof(e=Object(be.g)(e))||e instanceof ep?_p(o,"updateDoc",t._key,e,n,r):vp(o,"updateDoc",t._key,e)).toMutation(t._key,Oa.exists(!0))])}function sm(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(be.g)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Qf(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(Qf(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof qf)c=Ff(t.firestore,Yf),l=$o(t._key.path),u={next:function(e){i[a]&&i[a](am(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Ff(t,Bf);c=Ff(f.firestore,Yf),l=f._query;var p=new rm(c);u={next:function(t){i[a]&&i[a](new Fp(c,p,f,t))},error:i[a+1],complete:i[a+2]},Up(t._query)}return function(t,e,n,r){var i=this,s=new uf(r),o=new yd(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Es.b)(i,void 0,void 0,function(){var e;return Object(Es.d)(this,function(n){switch(n.label){case 0:return e=dd,[4,_f(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Es.b)(i,void 0,void 0,function(){var e;return Object(Es.d)(this,function(n){switch(n.label){case 0:return e=fd,[4,_f(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Zf(c),l,h,u)}function om(t,e){return function(t,e){var n=this,r=new yc;return t.asyncQueue.enqueueAndForget(function(){return Object(Es.b)(n,void 0,void 0,function(){var n;return Object(Es.d)(this,function(i){switch(i.label){case 0:return n=Ad,[4,vf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Zf(t),e)}function am(t,e,n){var r=n.docs.get(e._key),i=new rm(t);return new Pp(t,i,e._key,r,new Rp(n.hasPendingWrites,n.fromCache),e._converter)}var um=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Es.c)(e,t),e.prototype.get=function(e){var n=this,r=nm(e,this._firestore),i=new rm(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Pp(n._firestore,i,r._key,t._document,new Rp(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=hp(t)}return t.prototype.get=function(t){var e=this,n=nm(t,this._firestore),r=new tm(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return js();var i=t[0];if(i.isFoundDocument())return new Dp(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new Dp(e._firestore,r,n._key,null,n._converter);throw js()})},t.prototype.set=function(t,e,n){var r=nm(t,this._firestore),i=Jp(r._converter,e,n),s=dp(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=nm(t,this._firestore);return s="string"==typeof(e=Object(be.g)(e))||e instanceof ep?_p(this._dataReader,"Transaction.update",o._key,e,n,r):vp(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=nm(t,this._firestore);return this._transaction.delete(e._key),this},t}());function cm(){if("undefined"==typeof Uint8Array)throw new Os(Ts.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function lm(){if("undefined"==typeof atob)throw new Os(Ts.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var hm=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return lm(),new t(np.fromBase64String(e))},t.fromUint8Array=function(e){return cm(),new t(np.fromUint8Array(e))},t.prototype.toBase64=function(){return lm(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return cm(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),dm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){tp(t=Ff(t,Yf));var n=Zf(t),r=t._freezeSettings(),i=new af;return Jf(n,i,new sf(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){tp(t=Ff(t,Yf));var e=Zf(t),n=t._freezeSettings(),r=new af;return Jf(e,r,new of(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Os(Ts.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new yc;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Es.b)(e,void 0,void 0,function(){var e;return Object(Es.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Es.b)(this,void 0,void 0,function(){return Object(Es.d)(this,function(e){switch(e.label){case 0:return _c.yt()?[4,_c.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Dl(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),fm=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Tf||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Ff(t,Uf))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&ks("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Es.b)(e,void 0,void 0,function(){var e,n;return Object(Es.d)(this,function(r){switch(r.label){case 0:return[4,gf(t)];case 1:return e=r.sent(),[4,bf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Rs(t);return e.$r.delete(0),Rh(e)}(n))]}})})})}(Zf(Ff(this._delegate,Yf)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Es.b)(e,void 0,void 0,function(){var e,n;return Object(Es.d)(this,function(r){switch(r.label){case 0:return[4,gf(t)];case 1:return e=r.sent(),[4,bf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Es.b)(this,void 0,void 0,function(){var e;return Object(Es.d)(this,function(n){switch(n.label){case 0:return(e=Rs(t)).$r.add(0),[4,Ph(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Zf(Ff(this._delegate,Yf)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Nf("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new yc;return t.asyncQueue.enqueueAndForget(function(){return Object(Es.b)(e,void 0,void 0,function(){var e;return Object(Es.d)(this,function(r){switch(r.label){case 0:return e=Pd,[4,vf(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Zf(Ff(this._delegate,Yf)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new uf(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Es.b)(n,void 0,void 0,function(){var e;return Object(Es.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Rs(t).Gr.add(e),e.next()},[4,_f(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Es.b)(n,void 0,void 0,function(){var e;return Object(Es.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Rs(t).Gr.delete(e)},[4,_f(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Zf(t=Ff(t,Yf)),Qf(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Os(Ts.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Im(this,zf(this._delegate,t))}catch(t){throw vm(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new bm(this,Kf(this._delegate,t))}catch(t){throw vm(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Tm(this,function(t,e){if(t=Ff(t,Uf),Df("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Os(Ts.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Bf(t,null,function(t){return new Ko(Gs.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw vm(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new yc;return t.asyncQueue.enqueueAndForget(function(){return Object(Es.b)(n,void 0,void 0,function(){var n;return Object(Es.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return mf(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new lf(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Zf(t),function(n){return e(new um(t,n))})}(this._delegate,function(n){return t(new mm(e,n))})},t.prototype.batch=function(){var t=this;return Zf(this._delegate),new gm(new em(this._delegate,function(e){return om(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Os(Ts.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Os(Ts.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),pm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Es.c)(e,t),e.prototype.convertBytes=function(t){return new hm(new np(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return bm.Zc(e,this.firestore,null)},e}(Xp),mm=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new pm(t)}return t.prototype.get=function(t){var e=this,n=xm(t);return this._delegate.get(n).then(function(t){return new Em(e._firestore,new Pp(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=xm(t);return n?(jf("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=xm(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Es.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=xm(t);return this._delegate.delete(e),this},t}(),gm=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=xm(t);return n?(jf("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=xm(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Es.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=xm(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),ym=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Mp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Sm(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new pm(e),n),i.set(n,s)),s},t}();ym.eu=new WeakMap;var bm=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new pm(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Os(Ts.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new qf(n._delegate,r,new ao(e)))},t.Zc=function(e,n,r){return new t(n,new qf(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Im(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Im(this.firestore,zf(this._delegate,t))}catch(t){throw vm(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(be.g)(t))instanceof qf&&Gf(this._delegate,t)},t.prototype.set=function(t,e){e=jf("DocumentReference.set",e);try{return function(t,e,n){t=Ff(t,qf);var r=Ff(t.firestore,Yf),i=Jp(t._converter,e,n);return om(r,[dp(hp(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Oa.none())])}(this._delegate,t,e)}catch(t){throw vm(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?im(this._delegate,t):im.apply(void 0,Object(Es.f)([this._delegate,t,e],n))}catch(t){throw vm(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return om(Ff((t=this._delegate).firestore,Yf),[new Ua(t._key,Oa.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_m(e),i=wm(e,function(e){return new Em(t.firestore,new Pp(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return sm(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ff(t,qf);var e=Ff(t.firestore,Yf),n=Zf(e),r=new rm(e);return function(t,e){var n=this,r=new yc;return t.asyncQueue.enqueueAndForget(function(){return Object(Es.b)(n,void 0,void 0,function(){var n;return Object(Es.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Es.b)(this,void 0,void 0,function(){var r,i;return Object(Es.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Rs(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Os(Ts.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=od(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,yf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Pp(e,r,t._key,n,new Rp(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ff(t,qf);var e=Ff(t.firestore,Yf);return wf(Zf(e),t._key,{source:"server"}).then(function(n){return am(e,t,n)})}(this._delegate):function(t){t=Ff(t,qf);var e=Ff(t.firestore,Yf);return wf(Zf(e),t._key).then(function(n){return am(e,t,n)})}(this._delegate)).then(function(t){return new Em(e.firestore,new Pp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?ym.tu(this.firestore,e):null))},t}();function vm(t,e,n){return t.message=t.message.replace(e,n),t}function _m(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Qf(r))return r}return{}}function wm(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Qf(t[0])?t[0]:Qf(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Em=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new bm(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Vp(this._delegate,t._delegate)},t}(),Sm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Es.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Em),Tm=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new pm(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Bp(this._delegate,function(t,e,n){var r=e,i=Np("where",t);return new Hp(i,r,n)}(e,n,r)))}catch(e){throw vm(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Bp(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Np("orderBy",t);return new zp(r,n)}(e,n)))}catch(e){throw vm(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Bp(this._delegate,function(t){return Lf("limit",t),new Kp("limit",t,"F")}(e)))}catch(e){throw vm(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Bp(this._delegate,function(t){return Lf("limitToLast",t),new Kp("limitToLast",t,"L")}(e)))}catch(e){throw vm(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Bp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gp("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw vm(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Bp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gp("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw vm(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Bp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $p("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw vm(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Bp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $p("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw vm(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return $f(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ff(t,Bf);var e=Ff(t.firestore,Yf),n=Zf(e),r=new rm(e);return function(t,e){var n=this,r=new yc;return t.asyncQueue.enqueueAndForget(function(){return Object(Es.b)(n,void 0,void 0,function(){var n;return Object(Es.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Es.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Es.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Gl(t,e,!0)];case 1:return a=u.sent(),r=new Ed(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=od(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,yf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Fp(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ff(t,Bf);var e=Ff(t.firestore,Yf),n=Zf(e),r=new rm(e);return Ef(n,t._query,{source:"server"}).then(function(n){return new Fp(e,r,t,n)})}(this._delegate):function(t){t=Ff(t,Bf);var e=Ff(t.firestore,Yf),n=Zf(e),r=new rm(e);return Up(t._query),Ef(n,t._query).then(function(n){return new Fp(e,r,t,n)})}(this._delegate)).then(function(t){return new Cm(e.firestore,new Fp(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_m(e),i=wm(e,function(e){return new Cm(t.firestore,new Fp(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return sm(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?ym.tu(this.firestore,e):null))},t}(),Om=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Sm(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Cm=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Tm(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Sm(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Om(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Sm(n._firestore,r))})},t.prototype.isEqual=function(t){return Vp(this._delegate,t._delegate)},t}(),Im=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Es.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new bm(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new bm(this.firestore,void 0===t?Kf(this._delegate):Kf(this._delegate,t))}catch(t){throw vm(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ff(t.firestore,Yf),r=Kf(t),i=Jp(t._converter,e);return om(n,[dp(hp(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Oa.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new bm(e.firestore,t)})},e.prototype.isEqual=function(t){return Gf(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?ym.tu(this.firestore,t):null))},e}(Tm);function xm(t){return Ff(t,qf)}var Am,km=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(ep.bind.apply(ep,Object(Es.f)([void 0],t)))}return t.documentId=function(){return new t(Ws.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(be.g)(t))instanceof ep&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Dm=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new mp("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new fp("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gp("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yp("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new bp("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),jm=n("/6Yf"),Nm={Firestore:fm,GeoPoint:ip,Timestamp:Us,Blob:hm,Transaction:mm,WriteBatch:gm,DocumentReference:bm,DocumentSnapshot:Em,Query:Tm,QueryDocumentSnapshot:Sm,QuerySnapshot:Cm,CollectionReference:Im,FieldPath:km,FieldValue:Dm,setLogLevel:function(t){Cs.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new jm.a("firestore",function(t){return function(t,e){return new fm(t,new Yf(t,e),new dm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Nm)))})(Am=ye.a),Am.registerVersion("@firebase/firestore","2.2.5");var Rm=n("XNiG"),Pm=n("VRyK"),Mm=n("zx2A");function Fm(t,e){return"function"==typeof e?n=>n.pipe(Fm((n,r)=>Object(Yt.a)(t(n,r)).pipe(Object(oe.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Lm(t))}class Lm{constructor(t){this.project=t}call(t,e){return e.subscribe(new Vm(t,this.project))}}class Vm extends Mm.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Mm.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Mm.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var Um=n("qgXg"),qm=n("quSY"),Bm=n("9ppp"),Hm=n("Ylt2");class zm extends Rm.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Km(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Bm.a;if(this.isStopped||this.hasError?s=qm.a.EMPTY:(this.observers.push(t),s=new Hm.a(this,t)),r&&t.add(t=new me.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Um.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Km{constructor(t,e){this.time=t,this.value=e}}function Gm(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new zm(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}const $m=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Wm=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var Qm=n("EY2u");function Ym(t){return e=>0===t?Object(Qm.b)():e.lift(new Zm(t))}class Zm{constructor(t){if(this.total=t,this.total<0)throw new Wm}call(t,e){return e.subscribe(new Xm(t,this.total))}}class Xm extends ne.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Jm(t=null){return e=>e.lift(new tg(t))}class tg{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new eg(t,this.defaultValue))}}class eg extends ne.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function ng(t=sg){return e=>e.lift(new rg(t))}class rg{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ig(t,this.errorFactory))}}class ig extends ne.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Am){t=Am}this.destination.error(t)}}}function sg(){return new $m}var og=n("SpAZ");function ag(t,e){const n=arguments.length>=2;return r=>r.pipe(t?de((e,n)=>t(e,n,r)):og.a,Ym(1),n?Jm(e):ng(()=>new $m))}function ug(t,e){return e?Fm(()=>t,e):Fm(()=>t)}var cg=n("tf+s");const lg=new r.r("angularfire2.auth.use-emulator"),hg=new r.r("angularfire2.auth.settings"),dg=new r.r("angularfire2.auth.tenant-id"),fg=new r.r("angularfire2.auth.langugage-code"),pg=new r.r("angularfire2.auth.use-device-language"),mg=new r.r("angularfire.auth.persistence");let gg=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new $t.d(i),d=Object($t.h)(h),f=new Rm.a,p=Object(Zt.a)(void 0).pipe(Object(me.b)(h.outsideAngular),Fm(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(oe.a)(()=>Object($t.g)(t,i,e)),Object(oe.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object($t.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Gm({bufferSize:1,refCount:!1}));if(pt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Zt.a)(null);else{p.pipe(ag()).subscribe();const t=p.pipe(Fm(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Gm({bufferSize:1,refCount:!1})),e=t=>new Qt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Fm(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Fm(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(ug(n),Object(cg.a)(h.outsideAngular),Object(me.b)(h.insideAngular)),this.user=t.pipe(ug(r),Object(cg.a)(h.outsideAngular),Object(me.b)(h.insideAngular)),this.idToken=this.user.pipe(Fm(t=>t?Object(Yt.a)(t.getIdToken()):Object(Zt.a)(null))),this.idTokenResult=this.user.pipe(Fm(t=>t?Object(Yt.a)(t.getIdTokenResult()):Object(Zt.a)(null))),this.credential=Object(Pm.a)(t,f,this.authState.pipe(de(t=>!t))).pipe(Object(oe.a)(t=>(null==t?void 0:t.user)?t:null),Object(cg.a)(h.outsideAngular),Object(me.b)(h.insideAngular))}return Object($t.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb($t.c),r.Tb($t.b,8),r.Tb(r.C),r.Tb(r.A),r.Tb(lg,8),r.Tb(hg,8),r.Tb(dg,8),r.Tb(fg,8),r.Tb(pg,8),r.Tb(mg,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Tb)($t.c),Object(r.Tb)($t.b,8),Object(r.Tb)(r.C),Object(r.Tb)(r.A),Object(r.Tb)(lg,8),Object(r.Tb)(hg,8),Object(r.Tb)(dg,8),Object(r.Tb)(fg,8),Object(r.Tb)(pg,8),Object(r.Tb)(mg,8))},token:t,providedIn:"any"}),t})();function yg(t,e){return function(t,e=Wt.b){return new Qt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function bg(t,e){return yg(t,e).pipe(Object(oe.a)(t=>({payload:t,type:"query"})))}function vg(t,e){return bg(t,e).pipe(ee(void 0),re(),Object(oe.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function _g(t,e,n){return vg(t,n).pipe(ae((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return wg(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return wg(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return wg(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new le(void 0,void 0)),Object(oe.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function wg(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Eg(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object($t.e)(gg,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Sg{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=vg(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(oe.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(ee(void 0),re(),de(([t,e])=>e.length>0||!t),Object(oe.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ae((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Eg(t);return _g(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return bg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(oe.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Yt.a)(this.query.get(t)).pipe(Object(me.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Tg(this.ref.doc(t),this.afs)}}class Tg{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=kg(n,e);return new Sg(r,i,this.afs)}snapshotChanges(){return yg(this.ref,this.afs.schedulers.outsideAngular).pipe(ee(void 0),re(),Object(oe.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(oe.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Yt.a)(this.ref.get(t)).pipe(Object(me.b)(this.afs.schedulers.insideAngular))}}class Og{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?vg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(oe.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),de(t=>t.length>0),this.afs.keepUnstableUntilFirst):vg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ae((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Eg(t);return _g(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return bg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(oe.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Yt.a)(this.query.get(t)).pipe(Object(me.b)(this.afs.schedulers.insideAngular))}}const Cg=new r.r("angularfire2.enableFirestorePersistence"),Ig=new r.r("angularfire2.firestore.persistenceSettings"),xg=new r.r("angularfire2.firestore.settings"),Ag=new r.r("angularfire2.firestore.use-emulator");function kg(t,e=(t=>t)){return{query:e(t),ref:t}}let Dg=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new $t.d(s),this.keepUnstableUntilFirst=Object($t.h)(this.schedulers);const c=Object($t.g)(t,s,e);!ge.a.auth&&u&&Object($t.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object($t.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!pt(i)){const e=()=>{try{return Object(Yt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(Am){return"undefined"!=typeof console&&console.warn(Am),Object(Zt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Zt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=kg(n,e),s=this.schedulers.ngZone.run(()=>r);return new Sg(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Og(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Tg(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Tb($t.c),r.Tb($t.b,8),r.Tb(Cg,8),r.Tb(xg,8),r.Tb(r.C),r.Tb(r.A),r.Tb(Ig,8),r.Tb(Ag,8),r.Tb(lg,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Tb)($t.c),Object(r.Tb)($t.b,8),Object(r.Tb)(Cg,8),Object(r.Tb)(xg,8),Object(r.Tb)(r.C),Object(r.Tb)(r.A),Object(r.Tb)(Ig,8),Object(r.Tb)(Ag,8),Object(r.Tb)(lg,8))},token:t,providedIn:"any"}),t})();var jg=n("DH7j"),Ng=n("XoHu");function Rg(t,e){return new Qt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(Yt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class Pg{}const Mg=new r.r("NgValueAccessor"),Fg={provide:Mg,useExisting:Object(r.V)(()=>Vg),multi:!0},Lg=new r.r("CompositionEventMode");let Vg=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l),r.Mb(Lg,8))},t.\u0275dir=r.Hb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Wb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Bb([Fg])]}),t})();function Ug(t){return null==t||0===t.length}function qg(t){return null!=t&&"number"==typeof t.length}const Bg=new r.r("NgValidators"),Hg=new r.r("NgAsyncValidators"),zg=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Kg{static min(t){return function(t){return e=>{if(Ug(e.value)||Ug(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(Ug(e.value)||Ug(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return Ug(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return Ug(t.value)||zg.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>Ug(e.value)||!qg(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>qg(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return Gg;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ug(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Xg(t)}static composeAsync(t){return ty(t)}}function Gg(t){return null}function $g(t){return null!=t}function Wg(t){const e=Object(r.tb)(t)?Object(Yt.a)(t):t;return Object(r.sb)(e),e}function Qg(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Yg(t,e){return e.map(e=>e(t))}function Zg(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Xg(t){if(!t)return null;const e=t.filter($g);return 0==e.length?null:function(t){return Qg(Yg(t,e))}}function Jg(t){return null!=t?Xg(Zg(t)):null}function ty(t){if(!t)return null;const e=t.filter($g);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(jg.a)(e))return Rg(e,null);if(Object(Ng.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Rg(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Rg(t=1===t.length&&Object(jg.a)(t[0])?t[0]:t,null).pipe(Object(oe.a)(t=>e(...t)))}return Rg(t,null)}(Yg(t,e).map(Wg)).pipe(Object(oe.a)(Qg))}}function ey(t){return null!=t?ty(Zg(t)):null}function ny(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ry(t){return t._rawValidators}function iy(t){return t._rawAsyncValidators}let sy=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Jg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ey(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})(),oy=(()=>{class t extends sy{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return ay(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.zb]}),t})();const ay=r.Rb(oy);class uy extends sy{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cy{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let ly=(()=>{class t extends cy{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(uy,2))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})(),hy=(()=>{class t extends cy{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(oy,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})();function dy(t,e){my(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&yy(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&yy(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function fy(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),gy(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function py(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function my(t,e,n){const r=ry(t);null!==e.validator?t.setValidators(ny(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=iy(t);if(null!==e.asyncValidator?t.setAsyncValidators(ny(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();py(e._rawValidators,n),py(e._rawAsyncValidators,n)}}function gy(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=ry(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=iy(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};py(e._rawValidators,t),py(e._rawAsyncValidators,t)}return r}function yy(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function by(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vy="VALID",_y="INVALID",wy="PENDING",Ey="DISABLED";function Sy(t){return(Iy(t)?t.validators:t)||null}function Ty(t){return Array.isArray(t)?Jg(t):t||null}function Oy(t,e){return(Iy(e)?e.asyncValidators:t)||null}function Cy(t){return Array.isArray(t)?ey(t):t||null}function Iy(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class xy{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ty(this._rawValidators),this._composedAsyncValidatorFn=Cy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===vy}get invalid(){return this.status===_y}get pending(){return this.status==wy}get disabled(){return this.status===Ey}get enabled(){return this.status!==Ey}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ty(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Cy(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=wy,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ey,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=vy,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==vy&&this.status!==wy||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ey:vy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=wy,this._hasOwnPendingAsyncValidator=!0;const e=Wg(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof ky?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Dy&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Ey:this.errors?_y:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wy)?wy:this._anyControlsHaveStatus(_y)?_y:vy}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Iy(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ay extends xy{constructor(t=null,e,n){super(Sy(e),Oy(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){by(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){by(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ky extends xy{constructor(t,e,n){super(Sy(e),Oy(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ay?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Dy extends xy{constructor(t,e,n){super(Sy(e),Oy(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ay?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let jy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Ny=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();const Ry=new r.r("NgModelWithFormControlWarning"),Py={provide:oy,useExisting:Object(r.V)(()=>My)};let My=(()=>{class t extends oy{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gy(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return dy(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){fy(t.control||null,t,!1),by(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(fy(e||null,t),n instanceof Ay&&(dy(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){my(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return gy(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){my(this.form,this,!1),this._oldForm&&gy(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Bg,10),r.Mb(Hg,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Wb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([Py]),r.zb,r.Ab]}),t})();const Fy={provide:uy,useExisting:Object(r.V)(()=>Ly)};let Ly=(()=>{class t extends uy{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===Vg?n=t:Object.getPrototypeOf(t.constructor)===Pg?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(oy,13),r.Mb(Bg,10),r.Mb(Hg,10),r.Mb(Mg,10),r.Mb(Ry,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Bb([Fy]),r.zb,r.Ab]}),t._ngModelWarningSentOnce=!1,t})();const Vy={provide:Mg,useExisting:Object(r.V)(()=>qy),multi:!0};function Uy(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let qy=(()=>{class t extends Pg{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Uy(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Wb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Bb([Vy]),r.zb]}),t})(),By=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Uy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.F),r.Mb(qy,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Hy={provide:Mg,useExisting:Object(r.V)(()=>Ky),multi:!0};function zy(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Ky=(()=>{class t extends Pg{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Bb([Hy]),r.zb]}),t})(),Gy=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(zy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(zy(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.F),r.Mb(Ky,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),$y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[Ny]]}),t})(),Wy=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ry,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[$y]}),t})();const Qy={apiKey:"AIzaSyBpgnjcLAnT5XzfbsXb2CRB6bEUW-PGhVo",authDomain:"todolist-fda44.firebaseapp.com",projectId:"todolist-fda44",storageBucket:"todolist-fda44.appspot.com",messagingSenderId:"344551804654",appId:"1:344551804654:web:00b838fd073e076521edff"};class Yy extends Rm.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Bm.a;return this._value}next(t){super.next(this._value=t)}}class Zy extends ne.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Xy extends ne.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Jy=n("SeVD");function tb(t,e,n,r,i=new Xy(t,n,r)){if(!i.closed)return e instanceof Qt.a?e.subscribe(i):Object(Jy.a)(e)(i)}var eb=n("yCtX");const nb={};class rb{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ib(t,this.resultSelector))}}class ib extends Zy{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(nb),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(tb(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===nb?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function sb(t){return new Qt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Yt.a)(n):Object(Qm.b)()).subscribe(e)})}var ob=n("EQ5u");function ab(t){return function(e){const n=new ub(t),r=e.lift(n);return n.caught=r}}class ub{constructor(t){this.selector=t}call(t,e){return e.subscribe(new cb(t,this.selector,this.caught))}}class cb extends Mm.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Mm.a(this);this.add(r);const i=Object(Mm.c)(n,r);i!==r&&this.add(i)}}}var lb=n("5+tZ");function hb(t,e){return Object(lb.a)(t,e,1)}function db(t){return function(e){return 0===t?Object(Qm.b)():e.lift(new fb(t))}}class fb{constructor(t){if(this.total=t,this.total<0)throw new Wm}call(t,e){return e.subscribe(new pb(t,this.total))}}class pb extends ne.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var mb=n("vkgz"),gb=n("x+ZX");class yb{constructor(t){this.callback=t}call(t,e){return e.subscribe(new bb(t,this.callback))}}class bb extends ne.a{constructor(t,e){super(t),this.add(new qm.a(e))}}class vb{constructor(t,e){this.id=t,this.url=e}}class _b extends vb{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wb extends vb{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Eb extends vb{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Sb extends vb{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Tb extends vb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ob extends vb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cb extends vb{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ib extends vb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xb extends vb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ab{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kb{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Db{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jb{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nb{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rb{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pb{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Mb="primary";class Fb{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Lb(t){return new Fb(t)}function Vb(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ub(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function qb(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Bb(t[i],e[i]))return!1;return!0}function Bb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Hb(t){return Array.prototype.concat.apply([],t)}function zb(t){return t.length>0?t[t.length-1]:null}function Kb(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Gb(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(Yt.a)(Promise.resolve(t)):Object(Zt.a)(t)}function $b(t,e,n){return n?function(t,e){return qb(t,e)}(t.queryParams,e.queryParams)&&Wb(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Bb(t[n],e[n]))}(t.queryParams,e.queryParams)&&Qb(t.root,e.root)}function Wb(t,e){if(!tv(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Wb(t.children[n],e.children[n]))return!1}return!0}function Qb(t,e){return Yb(t,e,e.segments)}function Yb(t,e,n){if(t.segments.length>n.length)return!!tv(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!tv(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Qb(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!tv(t.segments,r)&&!!t.children.primary&&Yb(t.children.primary,e,i)}}class Zb{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lb(this.queryParams)),this._queryParamMap}toString(){return rv.serialize(this)}}class Xb{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Kb(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return iv(this)}}class Jb{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Lb(this.parameters)),this._parameterMap}toString(){return hv(this)}}function tv(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class ev{}class nv{parse(t){const e=new gv(t);return new Zb(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${sv(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${av(e)}=${av(t)}`).join("&"):`${av(e)}=${av(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const rv=new nv;function iv(t){return t.segments.map(t=>hv(t)).join("/")}function sv(t,e){if(!t.hasChildren())return iv(t);if(e){const e=t.children.primary?sv(t.children.primary,!1):"",n=[];return Kb(t.children,(t,e)=>{e!==Mb&&n.push(`${e}:${sv(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Kb(t.children,(t,r)=>{r===Mb&&(n=n.concat(e(t,r)))}),Kb(t.children,(t,r)=>{r!==Mb&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Mb?[sv(t.children.primary,!1)]:[`${n}:${sv(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${iv(t)}/${e[0]}`:`${iv(t)}/(${e.join("//")})`}}function ov(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function av(t){return ov(t).replace(/%3B/gi,";")}function uv(t){return ov(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cv(t){return decodeURIComponent(t)}function lv(t){return cv(t.replace(/\+/g,"%20"))}function hv(t){return`${uv(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${uv(t)}=${uv(e[t])}`).join("")}`;var e}const dv=/^[^\/()?;=#]+/;function fv(t){const e=t.match(dv);return e?e[0]:""}const pv=/^[^=?&#]+/,mv=/^[^?&#]+/;class gv{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xb([],{}):new Xb([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Xb(t,e)),n}parseSegment(){const t=fv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Jb(cv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=fv(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=fv(this.remaining);t&&(n=t,this.capture(n))}t[cv(e)]=cv(n)}parseQueryParam(t){const e=function(t){const e=t.match(pv);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(mv);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=lv(e),i=lv(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=fv(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Mb);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Xb([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class yv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=bv(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=bv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=vv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return vv(t,this._root).map(t=>t.value)}}function bv(t,e){if(t===e.value)return e;for(const n of e.children){const e=bv(t,n);if(e)return e}return null}function vv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=vv(t,n);if(r.length)return r.unshift(e),r}return[]}class _v{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function wv(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Ev extends yv{constructor(t,e){super(t),this.snapshot=e,xv(this,t)}toString(){return this.snapshot.toString()}}function Sv(t,e){const n=function(t,e){const n=new Cv([],{},{},"",{},Mb,e,null,t.root,-1,{});return new Iv("",new _v(n,[]))}(t,e),r=new Yy([new Jb("",{})]),i=new Yy({}),s=new Yy({}),o=new Yy({}),a=new Yy(""),u=new Tv(r,i,o,a,s,Mb,e,n.root);return u.snapshot=n.root,new Ev(new _v(u,[]),n)}class Tv{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(oe.a)(t=>Lb(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(oe.a)(t=>Lb(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ov(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Cv{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lb(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lb(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Iv extends yv{constructor(t,e){super(e),this.url=t,xv(this,e)}toString(){return Av(this._root)}}function xv(t,e){e.value._routerState=t,e.children.forEach(e=>xv(t,e))}function Av(t){const e=t.children.length>0?` { ${t.children.map(Av).join(", ")} } `:"";return`${t.value}${e}`}function kv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,qb(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),qb(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!qb(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),qb(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Dv(t,e){return qb(t.params,e.params)&&function(t,e){return tv(t,e)&&t.every((t,n)=>qb(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Dv(t.parent,e.parent))}function jv(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return jv(t,e,r);return jv(t,e)})}(t,e,n);return new _v(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Nv(e,t),t}}const n=new Tv(new Yy((r=e.value).url),new Yy(r.params),new Yy(r.queryParams),new Yy(r.fragment),new Yy(r.data),r.outlet,r.component,r),i=e.children.map(e=>jv(t,e));return new _v(n,i)}var r}function Nv(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Nv(t.children[n],e.children[n])}function Rv(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Pv(t){return"object"==typeof t&&null!=t&&t.outlets}function Mv(t,e,n,r,i){let s={};return r&&Kb(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Zb(n.root===t?e:Fv(n.root,t,e),s,i)}function Fv(t,e,n){const r={};return Kb(t.children,(t,i)=>{r[i]=t===e?n:Fv(t,e,n)}),new Xb(t.segments,r)}class Lv{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Rv(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Pv);if(r&&r!==zb(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vv{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Uv(t,e,n){if(t||(t=new Xb([],{})),0===t.segments.length&&t.hasChildren())return qv(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Pv(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Kv(a,u,e))return s;r+=2}else{if(!Kv(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Xb(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Xb(t.segments.slice(r.pathIndex),t.children),qv(e,0,i)}return r.match&&0===i.length?new Xb(t.segments,{}):r.match&&!t.hasChildren()?Bv(t,e,n):r.match?qv(t,0,i):Bv(t,e,n)}function qv(t,e,n){if(0===n.length)return new Xb(t.segments,{});{const r=function(t){return Pv(t[0])?t[0].outlets:{[Mb]:t}}(n),i={};return Kb(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Uv(t.children[r],e,n))}),Kb(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Xb(t.segments,i)}}function Bv(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Pv(s)){const t=Hv(s.outlets);return new Xb(r,t)}if(0===i&&Rv(n[0])){r.push(new Jb(t.segments[e].path,zv(n[0]))),i++;continue}const o=Pv(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Rv(a)?(r.push(new Jb(o,zv(a))),i+=2):(r.push(new Jb(o,{})),i++)}return new Xb(r,{})}function Hv(t){const e={};return Kb(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Bv(new Xb([],{}),0,t))}),e}function zv(t){const e={};return Kb(t,(t,n)=>e[n]=`${t}`),e}function Kv(t,e,n){return t==n.path&&qb(e,n.parameters)}class Gv{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),kv(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=wv(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Kb(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=wv(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=wv(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Rb(t.value.snapshot))}),t.children.length&&this.forwardEvent(new jb(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(kv(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),$v(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function $v(t){kv(t.value),t.children.forEach($v)}class Wv{constructor(t,e){this.routes=t,this.module=e}}function Qv(t){return"function"==typeof t}function Yv(t){return t instanceof Zb}const Zv=Symbol("INITIAL_VALUE");function Xv(){return Fm(t=>function(...t){let e,n;return Object(te.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(jg.a)(t[0])&&(t=t[0]),Object(eb.a)(t,n).lift(new rb(e))}(t.map(t=>t.pipe(Ym(1),ee(Zv)))).pipe(ae((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Zv)return t;if(r===Zv&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Yv(r))return r}return t},t)},Zv),de(t=>t!==Zv),Object(oe.a)(t=>Yv(t)?t:!0===t),Ym(1)))}let Jv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[$_]},encapsulation:2}),t})();function t_(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];e_(r,n_(e,r))}}function e_(t,e){t.children&&t_(t.children,e)}function n_(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function r_(t){const e=t.children&&t.children.map(r_),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Mb&&(n.component=Jv),n}function i_(t){return t.outlet||Mb}function s_(t,e){const n=t.filter(t=>i_(t)===e);return n.push(...t.filter(t=>i_(t)!==e)),n}const o_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function a_(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},o_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ub)(n,t,e);if(!i)return Object.assign({},o_);const s={};Kb(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function u_(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>c_(t,e,n)&&i_(n)!==Mb)}(t,n,r)){const i=new Xb(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&i_(s)!==Mb){const n=new Xb([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[i_(s)]=n}return i}(t,e,r,new Xb(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>c_(t,e,n))}(t,n,r)){const s=new Xb(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(c_(t,n,a)&&!i[i_(a)]){const n=new Xb([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[i_(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Xb(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function c_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function l_(t,e,n,r){return!!(i_(t)===r||r!==Mb&&c_(e,n,t))&&("**"===t.path||a_(e,t,n).matched)}function h_(t,e,n){return 0===e.length&&!t.children[n]}class d_{constructor(t){this.segmentGroup=t||null}}class f_{constructor(t){this.urlTree=t}}function p_(t){return new Qt.a(e=>e.error(new d_(t)))}function m_(t){return new Qt.a(e=>e.error(new f_(t)))}function g_(t){return new Qt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class y_{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=u_(this.urlTree.root,[],[],this.config).segmentGroup,e=new Xb(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Mb).pipe(Object(oe.a)(t=>this.createUrlTree(b_(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ab(t=>{if(t instanceof f_)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof d_)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Mb).pipe(Object(oe.a)(e=>this.createUrlTree(b_(e),t.queryParams,t.fragment))).pipe(ab(t=>{if(t instanceof d_)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Xb([],{[Mb]:t}):t;return new Zb(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(oe.a)(t=>new Xb([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Yt.a)(r).pipe(hb(r=>{const i=n.children[r],s=s_(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(oe.a)(t=>({segment:t,outlet:r})))}),ae((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?de((e,n)=>t(e,n,r)):og.a,db(1),n?Jm(e):ng(()=>new $m))}())}expandSegment(t,e,n,r,i,s){return Object(Yt.a)(n).pipe(hb(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(ab(t=>{if(t instanceof d_)return Object(Zt.a)(null);throw t}))),ag(t=>!!t),ab((t,n)=>{if(t instanceof $m||"EmptyError"===t.name){if(h_(e,r,i))return Object(Zt.a)(new Xb([],{}));throw new d_(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return l_(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):p_(e):p_(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?m_(i):this.lineralizeSegments(n,i).pipe(Object(lb.a)(n=>{const i=new Xb(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=a_(e,r,i);if(!o)return p_(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?m_(l):this.lineralizeSegments(r,l).pipe(Object(lb.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Zt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(oe.a)(t=>(n._loadedConfig=t,new Xb(r,{})))):Object(Zt.a)(new Xb(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=a_(e,n,r);if(!s)return p_(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(lb.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=u_(e,o,u,s),l=new Xb(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(oe.a)(t=>new Xb(o,t)));if(0===s.length&&0===c.length)return Object(Zt.a)(new Xb(o,{}));const h=i_(n)===i;return this.expandSegment(r,l,s,c,h?Mb:i,!0).pipe(Object(oe.a)(t=>new Xb(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Zt.a)(new Wv(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Zt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(lb.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(oe.a)(t=>(e._loadedConfig=t,t))):function(t){return new Qt.a(e=>e.error(Vb(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Zt.a)(new Wv([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Zt.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&Qv(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Qv(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Gb(s)});return Object(Zt.a)(i).pipe(Xv(),Object(mb.a)(t=>{if(!Yv(t))return;const e=Vb(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(oe.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Zt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return g_(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Zb(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Kb(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Kb(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Xb(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function b_(t){const e={};for(const n of Object.keys(t.children)){const r=b_(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Xb(t.segments.concat(e.segments),e.children)}return t}(new Xb(t.segments,e))}class v_{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class __{constructor(t,e){this.component=t,this.route=e}}function w_(t,e,n){const r=t._root;return S_(r,e?e._root:null,n,[r.value])}function E_(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function S_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=wv(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!tv(t.url,e.url);case"pathParamsOrQueryParamsChange":return!tv(t.url,e.url)||!qb(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dv(t,e)||!qb(t.queryParams,e.queryParams);case"paramsChange":default:return!Dv(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new v_(r)):(s.data=o.data,s._resolvedData=o._resolvedData),S_(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new __(a.outlet.component,o))}else o&&T_(e,a,i),i.canActivateChecks.push(new v_(r)),S_(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),Kb(s,(t,e)=>T_(t,n.getContext(e),i)),i}function T_(t,e,n){const r=wv(t),i=t.value;Kb(r,(t,r)=>{T_(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new __(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class O_{}function C_(t){return new Qt.a(e=>e.error(t))}class I_{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=u_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Mb);if(null===e)return null;const n=new Cv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Mb,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new _v(n,e),i=new Iv(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Ov(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=s_(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=A_(n);return r.sort((t,e)=>t.value.outlet===Mb?-1:e.value.outlet===Mb?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return h_(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!l_(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?zb(n).parameters:{};i=new Cv(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,j_(t),i_(t),t.component,t,k_(e),D_(e)+n.length,N_(t))}else{const r=a_(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Cv(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,j_(t),i_(t),t.component,t,k_(e),D_(e)+s.length,N_(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=u_(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new _v(i,t)]}if(0===a.length&&0===c.length)return[new _v(i,[])];const l=i_(t)===r,h=this.processSegment(a,u,c,l?Mb:r);return null===h?null:[new _v(i,h)]}}function x_(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function A_(t){const e=[],n=new Set;for(const r of t){if(!x_(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=A_(r.children);e.push(new _v(r.value,t))}return e.filter(t=>!n.has(t))}function k_(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function D_(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function j_(t){return t.data||{}}function N_(t){return t.resolve||{}}function R_(t){return Fm(e=>{const n=t(e);return n?Object(Yt.a)(n).pipe(Object(oe.a)(()=>e)):Object(Zt.a)(e)})}class P_ extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const M_=new r.r("ROUTES");class F_{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(oe.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Wv(Hb(i.injector.get(M_,void 0,r.q.Self|r.q.Optional)).map(r_),i)}),ab(t=>{throw e._loader$=void 0,t}));return e._loader$=new ob.a(n,()=>new Rm.a).pipe(Object(gb.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(Yt.a)(this.loader.load(t)):Gb(t()).pipe(Object(lb.a)(t=>t instanceof r.w?Object(Zt.a)(t):Object(Yt.a)(this.compiler.compileModuleAsync(t))))}}class L_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new V_,this.attachRef=null}}class V_{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new L_,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class U_{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function q_(t){throw t}function B_(t,e,n){return e.parse("/")}function H_(t,e){return Object(Zt.a)(null)}let z_=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Rm.a,this.errorHandler=q_,this.malformedUriErrorHandler=B_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:H_,afterPreactivation:H_},this.urlHandlingStrategy=new U_,this.routeReuseStrategy=new P_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.y),this.console=s.get(r.ab);const c=s.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Zb(new Xb([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new F_(o,a,t=>this.triggerEvent(new Ab(t)),t=>this.triggerEvent(new kb(t))),this.routerState=Sv(this.currentUrlTree,this.rootComponentType),this.transitions=new Yy({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(de(t=>0!==t.id),Object(oe.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Fm(t=>{let n=!1,r=!1;return Object(Zt.a)(t).pipe(Object(mb.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Fm(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Zt.a)(t).pipe(Fm(t=>{const n=this.transitions.getValue();return e.next(new _b(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Qm.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Fm(t=>function(t,e,n,r,i){return new y_(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(oe.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(mb.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(lb.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new I_(t,e,n,r,i,s).recognize();return null===o?C_(new O_):Object(Zt.a)(o)}catch(Am){return C_(Am)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(oe.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(mb.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Tb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new _b(n,this.serializeUrl(r),i,s);e.next(a);const u=Sv(r,this.rootComponentType).snapshot;return Object(Zt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Qm.a}),R_(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(mb.a)(t=>{const e=new Ob(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(oe.a)(t=>Object.assign(Object.assign({},t),{guards:w_(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(lb.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Zt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Yt.a)(t).pipe(Object(lb.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Zt.a)(!0);const o=s.map(s=>{const o=E_(s,e,i);let a;if(function(t){return t&&Qv(t.canDeactivate)}(o))a=Gb(o.canDeactivate(t,e,n,r));else{if(!Qv(o))throw new Error("Invalid CanDeactivate guard");a=Gb(o(t,e,n,r))}return a.pipe(ag())});return Object(Zt.a)(o).pipe(Xv())}(t.component,t.route,n,e,r)),ag(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(lb.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Yt.a)(e).pipe(hb(e=>Jt(function(t,e){return null!==t&&e&&e(new Db(t)),Object(Zt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Nb(t)),Object(Zt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>sb(()=>{const i=e.guards.map(i=>{const s=E_(i,e.node,n);let o;if(function(t){return t&&Qv(t.canActivateChild)}(s))o=Gb(s.canActivateChild(r,t));else{if(!Qv(s))throw new Error("Invalid CanActivateChild guard");o=Gb(s(r,t))}return o.pipe(ag())});return Object(Zt.a)(i).pipe(Xv())}));return Object(Zt.a)(i).pipe(Xv())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Zt.a)(!0);const i=r.map(r=>sb(()=>{const i=E_(r,e,n);let s;if(function(t){return t&&Qv(t.canActivate)}(i))s=Gb(i.canActivate(e,t));else{if(!Qv(i))throw new Error("Invalid CanActivate guard");s=Gb(i(e,t))}return s.pipe(ag())}));return Object(Zt.a)(i).pipe(Xv())}(t,e.route,n))),ag(t=>!0!==t,!0))}(r,s,t,e):Object(Zt.a)(n)),Object(oe.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(mb.a)(t=>{if(Yv(t.guardsResult)){const e=Vb(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Cb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),de(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Eb(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),R_(t=>{if(t.guards.canActivateChecks.length)return Object(Zt.a)(t).pipe(Object(mb.a)(t=>{const e=new Ib(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Fm(t=>{let n=!1;return Object(Zt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(lb.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Zt.a)(t);let s=0;return Object(Yt.a)(n).pipe(hb(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Zt.a)({});const s={};return Object(Yt.a)(i).pipe(Object(lb.a)(i=>function(t,e,n,r){const i=E_(t,e,r);return Gb(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(mb.a)(t=>{s[i]=t}))),db(1),Object(lb.a)(()=>Object.keys(s).length===i.length?Object(Zt.a)(s):Qm.a))}(t._resolve,t,e,r).pipe(Object(oe.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ov(t,n).resolve),null)))}(t.route,e,r,i)),Object(mb.a)(()=>s++),db(1),Object(lb.a)(e=>s===n.length?Object(Zt.a)(t):Qm.a))})),Object(mb.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Eb(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(mb.a)(t=>{const e=new xb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),R_(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(oe.a)(t=>{const e=function(t,e,n){const r=jv(t,e._root,n?n._root:void 0);return new Ev(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(mb.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(oe.a)(t=>(new Gv(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(mb.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Eb(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new yb(i))),ab(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Yv(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Eb(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Sb(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(ra){t.reject(ra)}}var i;return Qm.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){t_(t),this.config=t.map(r_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Mv(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Lv(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Kb(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Lv(n,e,r)}(n);if(s.toRoot())return Mv(e.root,new Xb([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Vv(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Vv(t,t===e.root,0)}const r=Rv(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Vv(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?qv(o.segmentGroup,o.index,s.commands):Uv(o.segmentGroup,o.index,s.commands);return Mv(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Yv(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Am){e=this.malformedUriErrorHandler(Am,this.urlSerializer,t)}return e}isActive(t,e){if(Yv(t))return $b(this.currentUrlTree,t,e);const n=this.parseUrl(t);return $b(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new wb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.O),r.Tb(ev),r.Tb(V_),r.Tb(w),r.Tb(r.s),r.Tb(r.x),r.Tb(r.i),r.Tb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),K_=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Rm.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:G_(this.skipLocationChange),replaceUrl:G_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:G_(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(z_),r.Mb(Tv),r.Ub("tabindex"),r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Wb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Ab]}),t})();function G_(t){return""===t||!!t}let $_=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Mb,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new W_(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(V_),r.Mb(r.R),r.Mb(r.j),r.Ub("name"),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class W_{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Tv?this.route:t===V_?this.childContexts:this.parent.get(t,e)}}class Q_{}class Y_{preload(t,e){return Object(Zt.a)(null)}}let Z_=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new F_(e,n,e=>t.triggerEvent(new Ab(e)),e=>t.triggerEvent(new kb(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(de(t=>t instanceof wb),hb(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Yt.a)(n).pipe(Object(Xt.a)(),Object(oe.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(Zt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(lb.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(z_),r.Tb(r.x),r.Tb(r.i),r.Tb(r.s),r.Tb(Q_))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),X_=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _b?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wb&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pb&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Pb(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(z_),r.Tb(mt),r.Tb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const J_=new r.r("ROUTER_CONFIGURATION"),tw=new r.r("ROUTER_FORROOT_GUARD"),ew=[w,{provide:ev,useClass:nv},{provide:z_,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new z_(null,t,e,n,r,i,o,Hb(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[ev,V_,w,r.s,r.x,r.i,M_,J_,[class{},new r.B],[class{},new r.B]]},V_,{provide:Tv,useFactory:function(t){return t.routerState.root},deps:[z_]},{provide:r.x,useClass:r.L},Z_,Y_,class{preload(t,e){return e().pipe(ab(()=>Object(Zt.a)(null)))}},{provide:J_,useValue:{enableTracing:!1}}];function nw(){return new r.z("Router",z_)}let rw=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ew,aw(e),{provide:tw,useFactory:ow,deps:[[z_,new r.B,new r.K]]},{provide:J_,useValue:n||{}},{provide:g,useFactory:sw,deps:[a,[new r.p(b),new r.B],J_]},{provide:X_,useFactory:iw,deps:[z_,mt,J_]},{provide:Q_,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Y_},{provide:r.z,multi:!0,useFactory:nw},[uw,{provide:r.d,multi:!0,useFactory:cw,deps:[uw]},{provide:hw,useFactory:lw,deps:[uw]},{provide:r.b,multi:!0,useExisting:hw}]]}}static forChild(e){return{ngModule:t,providers:[aw(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(tw,8),r.Tb(z_,8))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();function iw(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new X_(t,e,n)}function sw(t,e,n={}){return n.useHash?new _(t,e):new v(t,e)}function ow(t){return"guarded"}function aw(t){return[{provide:r.a,multi:!0,useValue:t},{provide:M_,multi:!0,useValue:t}]}let uw=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Rm.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(z_),r=this.injector.get(J_);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Zt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(J_),n=this.injector.get(Z_),i=this.injector.get(X_),s=this.injector.get(z_),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function cw(t){return t.appInitializer.bind(t)}function lw(t){return t.bootstrapListener.bind(t)}const hw=new r.r("Router Initializer");let dw,fw=(()=>{class t{constructor(t){this.afs=t}getAll(){return this.afs.collection("todolist").snapshotChanges()}addTarea(t){return this.afs.collection("todolist").add(t)}deleteTarea(t){return this.afs.doc("todolist/"+t).delete()}inProcess(t,e){return e?this.afs.doc("todolist/"+t).update({estado:1}):this.afs.doc("todolist/"+t).update({estado:0})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Dg))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function pw(t){return null!=t&&"false"!=`${t}`}function mw(t){return t instanceof r.l?t.nativeElement:t}try{dw="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(dO){dw=!1}let gw,yw,bw=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!dw)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.C))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Tb)(r.C))},token:t,providedIn:"root"}),t})(),vw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();function _w(t){return function(){if(null==gw&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>gw=!0}))}finally{gw=gw||!1}return gw}()?t:!!t.capture}function ww(t){return 0===t.buttons}function Ew(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const Sw=new r.r("cdk-focus-monitor-default-options"),Tw=_w({passive:!0,capture:!0});let Ow=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=ww(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{Ew(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Cw(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Cw(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=mw(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Zt.a)(null);const r=function(t){if(function(){if(null==yw){const t="undefined"!=typeof document?document.head:null;yw=!(!t||!t.createShadowRoot&&!t.attachShadow)}return yw}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new Rm.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=mw(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=mw(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Cw(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===Cw(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Tw),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Tw)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Tw),t.addEventListener("mousedown",this._documentMousedownListener,Tw),t.addEventListener("touchstart",this._documentTouchstartListener,Tw),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Tw),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Tw),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Tw),t.removeEventListener("mousedown",this._documentMousedownListener,Tw),t.removeEventListener("touchstart",this._documentTouchstartListener,Tw),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.A),r.Tb(bw),r.Tb(o,8),r.Tb(Sw,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Tb)(r.A),Object(r.Tb)(bw),Object(r.Tb)(o,8),Object(r.Tb)(Sw,8))},token:t,providedIn:"root"}),t})();function Cw(t){return t.composedPath?t.composedPath()[0]:t.target}const Iw="cdk-high-contrast-black-on-white",xw="cdk-high-contrast-white-on-black",Aw="cdk-high-contrast-active";let kw=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Aw),t.remove(Iw),t.remove(xw);const e=this.getHighContrastMode();1===e?(t.add(Aw),t.add(Iw)):2===e&&(t.add(Aw),t.add(xw))}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(bw),r.Tb(o))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Tb)(bw),Object(r.Tb)(o))},token:t,providedIn:"root"}),t})(),Dw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();const jw=new r.Q("11.2.10");class Nw{}const Rw="*";function Pw(t,e=null){return{type:2,steps:t,options:e}}function Mw(t){return{type:6,styles:t,offset:null}}function Fw(t){Promise.resolve(null).then(t)}class Lw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Fw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Vw{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Fw(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Uw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function qw(t){switch(t.length){case 0:return new Lw;case 1:return t[0];default:return new Vw(t)}}function Bw(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Rw:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Hw(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&zw(n,"start",t)));break;case"done":t.onDone(()=>r(n&&zw(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&zw(n,"destroy",t)))}}function zw(t,e,n){const r=n.totalTime,i=Kw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Kw(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Gw(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function $w(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Ww=(t,e)=>!1,Qw=(t,e)=>!1,Yw=(t,e,n)=>[];const Zw=Uw();(Zw||"undefined"!=typeof Element)&&(Ww=(t,e)=>t.contains(e),Qw=(()=>{if(Zw||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Qw}})(),Yw=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Xw=null,Jw=!1;function tE(t){Xw||(Xw=("undefined"!=typeof document?document.body:null)||{},Jw=!!Xw.style&&"WebkitAppearance"in Xw.style);let e=!0;return Xw.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Xw.style,!e&&Jw)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Xw.style),e}const eE=Qw,nE=Ww,rE=Yw;function iE(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let sE=(()=>{class t{validateStyleProperty(t){return tE(t)}matchesElement(t,e){return eE(t,e)}containsElement(t,e){return nE(t,e)}query(t,e,n){return rE(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Lw(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),oE=(()=>{class t{}return t.NOOP=new sE,t})();const aE="ng-enter",uE="ng-leave",cE="ng-trigger",lE=".ng-trigger",hE="ng-animating",dE=".ng-animating";function fE(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:pE(parseFloat(e[1]),e[2])}function pE(t,e){switch(e){case"s":return 1e3*t;default:return t}}function mE(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=pE(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=pE(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function gE(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function yE(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else gE(t,n);return n}function bE(t,e,n){return n?e+":"+n+";":""}function vE(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=bE(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=bE(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function _E(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=xE(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Uw()&&vE(t))}function wE(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=xE(e);t.style[n]=""}),Uw()&&vE(t))}function EE(t){return Array.isArray(t)?1==t.length?t[0]:Pw(t):t}const SE=new RegExp("{{\\s*(.+?)\\s*}}","g");function TE(t){let e=[];if("string"==typeof t){let n;for(;n=SE.exec(t);)e.push(n[1]);SE.lastIndex=0}return e}function OE(t,e,n){const r=t.toString(),i=r.replace(SE,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function CE(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const IE=/-+([a-z0-9])/g;function xE(t){return t.replace(IE,(...t)=>t[1].toUpperCase())}function AE(t,e){return 0===t||0===e}function kE(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=jE(t,e)})}}return e}function DE(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function jE(t,e){return window.getComputedStyle(t)[e]}const NE="*";function RE(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(FE(i,o)),"<"!=s[0]||i==NE&&o==NE||e.push(FE(o,i))}(t,n,e)):n.push(t),n}const PE=new Set(["true","1"]),ME=new Set(["false","0"]);function FE(t,e){const n=PE.has(t)||ME.has(t),r=PE.has(e)||ME.has(e);return(i,s)=>{let o=t==NE||t==i,a=e==NE||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?PE.has(t):ME.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?PE.has(e):ME.has(e)),o&&a}}const LE=new RegExp("s*:selfs*,?","g");function VE(t,e,n){return new UE(t).build(e,n)}class UE{constructor(t){this._driver=t}build(t,e){const n=new qE(e);return this._resetContextStyleTimingState(n),DE(this,EE(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(BE(t)){const e=t;Object.keys(e).forEach(t=>{TE(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=CE(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=DE(this,EE(t.animation),e);return{type:1,matchers:RE(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:HE(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>DE(this,t,e)),options:HE(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=DE(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:HE(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return zE(mE(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=zE(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||mE(r,e),zE(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Mw({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Mw(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Rw?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(BE(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=TE(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(BE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(BE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:DE(this,EE(t.animation),e),options:HE(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:HE(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:HE(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(LE,"")),[t=t.replace(/@\*/g,lE).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,dE),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Gw(e.collectedStyles,e.currentQuerySelector,{});const o=DE(this,EE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:HE(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:mE(t.timings,e.errors,!0);return{type:12,animation:DE(this,EE(t.animation),e),timings:n,options:null}}}class qE{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function BE(t){return!Array.isArray(t)&&"object"==typeof t}function HE(t){var e;return t?(t=gE(t)).params&&(t.params=(e=t.params)?gE(e):null):t={},t}function zE(t,e,n){return{duration:t,delay:e,easing:n}}function KE(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class GE{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const $E=new RegExp(":enter","g"),WE=new RegExp(":leave","g");function QE(t,e,n,r,i,s={},o={},a,u,c=[]){return(new YE).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class YE{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new GE;const l=new XE(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),DE(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[KE(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?fE(n.duration):null,s=null!=n.delay?fE(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),DE(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ZE);const t=fE(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>DE(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?fE(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),DE(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return mE(e.params?OE(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?fE(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ZE);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),DE(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;DE(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const ZE={};class XE{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ZE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new JE(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=fE(n.duration)),null!=n.delay&&(r.delay=fE(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=OE(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new XE(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=ZE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new tS(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace($E,"."+this._enterClassName)).replace(WE,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class JE{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new JE(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Rw,this._currentKeyframe[t]=Rw}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Rw})):yE(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=OE(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Rw),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=yE(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Rw&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?CE(t.values()):[],s=e.size?CE(e.values()):[];if(n){const t=r[0],e=gE(t);t.offset=0,e.offset=1,r=[t,e]}return KE(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class tS extends JE{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=yE(t[0],!1);a.offset=0,i.push(a);const u=yE(t[0],!1);u.offset=eS(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=yE(t[r],!1);o.offset=eS((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return KE(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function eS(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class nS{}class rS extends nS{normalizePropertyName(t,e){return xE(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(iS[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const iS=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function sS(t,e,n,r,i,s,o,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const oS={};class aS{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||oS,d=this.buildStyles(n,o&&o.params||oS,l),f=a&&a.params||oS,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=c?[]:QE(t,e,this.ast.animation,i,s,d,p,v,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return sS(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=Gw(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Gw(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=CE(m.values());return sS(e,this._triggerName,n,r,b,d,p,_,E,g,y,w)}}class uS{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=gE(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=OE(s,r,e)),n[t]=s})}}),n}}class cS{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new uS(t.style,t.options&&t.options.params||{})}),lS(this.states,"true","1"),lS(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new aS(t,e,this.states))}),this.fallbackTransition=new aS(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function lS(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const hS=new GE;class dS{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=VE(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Bw(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=QE(this._driver,e,i,aE,uE,{},{},n,hS,r),s.forEach(t=>{const e=Gw(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Rw)})});const a=qw(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Kw(e,"","","");return Hw(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const fS="ng-animate-queued",pS="ng-animate-disabled",mS=".ng-animate-disabled",gS=[],yS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class vS{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=gE(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const _S="void",wS=new vS(_S);class ES{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,AS(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Gw(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Gw(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(AS(t,cE),AS(t,"ng-trigger-"+e),a[e]=wS),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new TS(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(AS(t,cE),AS(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new vS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=wS),u.value!==_S&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{wE(t,n),_E(t,r)})}return}const c=Gw(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(AS(t,fS),s.onStart(()=>{kS(t,fS)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,lE,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,_S,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&qw(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||wS,a=new vS(_S),u=new TS(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==yS||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){AS(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Kw(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Hw(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class SS{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new ES(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(OS(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!OS(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),AS(t,pS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),kS(t,pS))}removeNode(t,e,n,r){if(OS(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return OS(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,lE,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,dE,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return qw(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=yS,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,mS)&&this.markElementAsDisabled(t,!1),this.driver.query(t,mS,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)AS(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?qw(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new GE,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=xS(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=aE+p++;f.set(e,n),t.forEach(t=>AS(t,n))});const m=[],g=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,v=xS(h,Array.from(g));v.forEach((t,e)=>{const n=uE+p++;b.set(e,n),t.forEach(t=>AS(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>kS(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>kS(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>wE(i,p.fromStyles)),e.onDestroy(()=>_E(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>wE(i,p.fromStyles)),e.onDestroy(()=>_E(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Gw(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Gw(E,e,[]).push(t),t.destroy()})});const T=m.filter(t=>NS(t,a,u)),O=new Map;IS(O,this.driver,y,u,Rw).forEach(t=>{NS(t,a,u)&&T.push(t)});const C=new Map;d.forEach((t,e)=>{IS(C,this.driver,new Set(t),a,"!")}),T.forEach(t=>{const e=O.get(t),n=C.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>_E(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,C,O);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=qw(e)),r.push(s)}}else wE(e,o.fromStyles),s.onDestroy(()=>_E(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=qw(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<m.length;k++){const t=m[k],e=t.__ng_removed;if(kS(t,uE),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,dE,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?DS(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==_S;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Gw(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}wE(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Lw(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return jS(t,e),e}((n.get(h)||gS).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=Bw(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new TS(t,o,h);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{Gw(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>AS(t,hE));const d=qw(h);return d.onDestroy(()=>{c.forEach(t=>kS(t,hE)),_E(a,e.toStyles)}),l.forEach(t=>{Gw(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Lw(t.duration,t.delay)}}class TS{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Lw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Hw(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Gw(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function OS(t){return t&&1===t.nodeType}function CS(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function IS(t,e,n,r,i){const s=[];n.forEach(t=>s.push(CS(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=bS,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>CS(t,s[a++])),o}function xS(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function AS(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function kS(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function DS(t,e,n){qw(n).onDone(()=>t.processLeaveNode(e))}function jS(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Vw?jS(r.players,e):e.push(r)}}function NS(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class RS{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new SS(t,e,n),this._timelineEngine=new dS(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=VE(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new cS(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=$w(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=$w(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function PS(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=FS(e[0]),e.length>1&&(r=FS(e[e.length-1]))):e&&(n=FS(e)),n||r?new MS(t,n,r):null}let MS=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&_E(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_E(this._element,this._initialStyles),this._endStyles&&(_E(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(wE(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wE(this._element,this._endStyles),this._endStyles=null),_E(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function FS(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];LS(i)&&(e=e||{},e[i]=t[i])}return e}function LS(t){return"display"===t||"position"===t}const VS="animation",US="animationend";class qS{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=$S(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),GS(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),KS(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){BS(this._element,this._name,"paused")}resume(){BS(this._element,this._name,"running")}setPosition(t){const e=HS(this._element,this._name);this._position=t*this._duration,GS(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),KS(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=$S(t,"").split(","),r=zS(n,e);r>=0&&(n.splice(r,1),GS(t,"",n.join(",")))}(this._element,this._name))}}function BS(t,e,n){GS(t,"PlayState",n,HS(t,e))}function HS(t,e){const n=$S(t,"");return n.indexOf(",")>0?zS(n.split(","),e):zS([n],e)}function zS(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function KS(t,e,n){n?t.removeEventListener(US,e):t.addEventListener(US,e)}function GS(t,e,n,r){const i=VS+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function $S(t,e){return t.style[VS+e]||""}class WS{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new qS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:jE(this.element,n))})}this.currentSnapshot=t}}class QS extends Lw{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=iE(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class YS{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return tE(t)}matchesElement(t,e){return eE(t,e)}containsElement(t,e){return nE(t,e)}query(t,e,n){return rE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>iE(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof WS),u={};AE(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=kE(t,e,u));if(0==n)return new QS(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=PS(t,e),f=new WS(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class ZS{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:jE(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class XS{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(JS().toString()),this._cssKeyframesDriver=new YS}validateStyleProperty(t){return tE(t)}matchesElement(t,e){return eE(t,e)}containsElement(t,e){return nE(t,e)}query(t,e,n){return rE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof ZS);AE(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=PS(t,e=kE(t,e=e.map(t=>yE(t,!1)),u));return new ZS(t,e,a,l)}}function JS(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let tT=(()=>{class t extends Nw{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.S.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Pw(t):t;return rT(this._renderer,null,e,"register",[n]),new eT(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.G),r.Tb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class eT extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new nT(this._id,t,e||{},this._renderer)}}class nT{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return rT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function rT(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const iT="@",sT="@.disabled";let oT=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new aT("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new uT(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.G),r.Tb(RS),r.Tb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class aT{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==iT&&e==sT?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class uT extends aT{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==iT?"."==e.charAt(1)&&e==sT?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==iT){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=iT&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let cT=(()=>{class t extends RS{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o),r.Tb(oE),r.Tb(nS))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const lT=new r.r("AnimationModuleType"),hT=[{provide:oE,useFactory:function(){return"function"==typeof JS()?new XS:new YS}},{provide:lT,useValue:"BrowserAnimations"},{provide:Nw,useClass:tT},{provide:nS,useFactory:function(){return new rS}},{provide:RS,useClass:cT},{provide:r.G,useFactory:function(t,e,n){return new oT(t,e,n)},deps:[Nt,RS,r.A]}];let dT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:hT,imports:[Gt]}),t})();const fT=new r.Q("11.2.10"),pT=new r.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let mT,gT=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.X)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&fT.full!==jw.full&&console.warn("The Angular Material version ("+fT.full+") does not match the Angular CDK version ("+jw.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(kw),r.Tb(pT,8),r.Tb(o))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[Dw],Dw]}),t})();function yT(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=pw(t)}}}function bT(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function vT(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=pw(t)}}}try{mT="undefined"!=typeof Intl}catch(dO){mT=!1}class _T{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const wT={enterDuration:450,exitDuration:400},ET=_w({passive:!0}),ST=["mousedown","touchstart"],TT=["mouseup","mouseleave","touchend","touchcancel"];class OT{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=mw(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},wT),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,u=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const l=new _T(this,c,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},u),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},wT),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=mw(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(ST))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(TT),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=ww(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Ew(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,ET)})})}_removeTriggerEvents(){this._triggerElement&&(ST.forEach(t=>{this._triggerElement.removeEventListener(t,this,ET)}),this._pointerUpEventsRegistered&&TT.forEach(t=>{this._triggerElement.removeEventListener(t,this,ET)}))}}const CT=new r.r("mat-ripple-global-options");let IT=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new OT(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.A),r.Mb(bw),r.Mb(CT,8),r.Mb(lT,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),xT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[gT,vw],gT]}),t})(),AT=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=pw(t)}get inset(){return this._inset}set inset(t){this._inset=pw(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Db("aria-orientation",e.vertical?"vertical":"horizontal"),r.Eb("mat-divider-vertical",e.vertical)("mat-divider-horizontal",!e.vertical)("mat-divider-inset",e.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,e){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),t})(),kT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[gT],gT]}),t})();function DT(t,e){1&t&&(r.Pb(0,"div",12),r.mc(1," Este campo es requerido "),r.Ob())}function jT(t,e){1&t&&(r.Pb(0,"div",12),r.mc(1," No puede tener m\xe1s de 15 caracteres "),r.Ob())}function NT(t,e){if(1&t&&(r.Pb(0,"option",13),r.mc(1),r.Ob()),2&t){const t=e.$implicit;r.ec("value",t),r.Cb(1),r.nc(t)}}const RT=function(){return[1,2,3,4,5,6,7,8,9,10]};let PT=(()=>{class t{constructor(t){this.tareasService=t,this.formulario=new ky({titulo:new Ay("",[Kg.required,Kg.maxLength(15)]),descripcion:new Ay,prioridad:new Ay,estado:new Ay,fecha:new Ay})}ngOnInit(){}onSubmit(){this.formulario.valid&&(this.formulario.value.estado=0,this.formulario.value.fecha=Date.now(),this.tareasService.addTarea(this.formulario.value),this.formulario.reset())}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(fw))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-formulario"]],decls:21,vars:5,consts:[[1,"mt-3"],[1,"mb-3"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","titulo"],["type","text","id","titulo","formControlName","titulo","placeholder","Introduce un t\xedtulo corto",1,"form-control"],["class","error",4,"ngIf"],["for","desc"],["type","text","id","desc","formControlName","descripcion","placeholder","Introduce una descripci\xf3n",1,"form-control"],["formControlName","prioridad",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","submit","value","Agregar tarea",1,"btn","btn-success"],[1,"error"],[3,"value"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"h1"),r.mc(2,"Agrega una nueva tarea"),r.Ob(),r.Ob(),r.Nb(3,"mat-divider",1),r.Pb(4,"form",2),r.Wb("ngSubmit",function(){return e.onSubmit()}),r.Pb(5,"div",3),r.Pb(6,"label",4),r.mc(7,"T\xedtulo"),r.Ob(),r.Nb(8,"input",5),r.lc(9,DT,2,0,"div",6),r.lc(10,jT,2,0,"div",6),r.Ob(),r.Pb(11,"div",3),r.Pb(12,"label",7),r.mc(13,"Descripci\xf3n"),r.Ob(),r.Nb(14,"input",8),r.Ob(),r.Pb(15,"div",3),r.Pb(16,"label"),r.mc(17,"Prioridad"),r.Ob(),r.Pb(18,"select",9),r.lc(19,NT,2,2,"option",10),r.Ob(),r.Ob(),r.Nb(20,"input",11),r.Ob()),2&t&&(r.Cb(4),r.dc("formGroup",e.formulario),r.Cb(5),r.dc("ngIf",(null==e.formulario.controls.titulo.errors?null:e.formulario.controls.titulo.errors.required)&&e.formulario.controls.titulo.touched),r.Cb(1),r.dc("ngIf",(null==e.formulario.controls.titulo.errors?null:e.formulario.controls.titulo.errors.maxlength)&&e.formulario.controls.titulo.touched),r.Cb(9),r.dc("ngForOf",r.fc(4,RT)))},directives:[AT,jy,hy,My,Vg,ly,Ly,ct,qy,at,By,Gy],styles:[".error[_ngcontent-%COMP%]{font-size:12px;color:tomato}"]}),t})();function MT(t,e){1&t&&(r.Pb(0,"h3",8),r.mc(1,"No hay tareas pendientes, \xa1Felicidades!"),r.Ob())}function FT(t,e){1&t&&(r.Pb(0,"p"),r.mc(1,"Pending"),r.Ob())}function LT(t,e){1&t&&(r.Pb(0,"p"),r.mc(1,"In process"),r.Ob())}function VT(t,e){if(1&t){const t=r.Qb();r.Pb(0,"button",19),r.Wb("click",function(){r.ic(t);const e=r.Yb().$implicit;return r.Yb().proceso(e)}),r.mc(1,"Comenzar"),r.Ob()}}function UT(t,e){if(1&t){const t=r.Qb();r.Pb(0,"button",20),r.Wb("click",function(){r.ic(t);const e=r.Yb().$implicit;return r.Yb().proceso(e)}),r.mc(1,"Pausar"),r.Ob()}}const qT=function(t,e){return{incompleta:t,proceso:e}};function BT(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",9),r.Pb(1,"div",10),r.Pb(2,"div",11),r.Pb(3,"h1"),r.mc(4),r.Ob(),r.Pb(5,"h4"),r.mc(6),r.Ob(),r.Ob(),r.Pb(7,"div",12),r.Pb(8,"p"),r.mc(9),r.Ob(),r.lc(10,FT,2,0,"p",13),r.lc(11,LT,2,0,"p",13),r.Pb(12,"p"),r.mc(13),r.Zb(14,"date"),r.Ob(),r.Ob(),r.Ob(),r.Pb(15,"div",14),r.lc(16,VT,2,0,"button",15),r.lc(17,UT,2,0,"button",16),r.Pb(18,"button",17),r.Wb("click",function(){r.ic(t);const n=e.$implicit;return r.Yb().editar(n)}),r.mc(19,"Editar"),r.Ob(),r.Pb(20,"button",18),r.Wb("click",function(){r.ic(t);const n=e.$implicit;return r.Yb().eliminar(n.id)}),r.mc(21,"Completar"),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=e.$implicit;r.dc("ngClass",r.gc(12,qT,0===t.estado,1===t.estado)),r.Cb(4),r.nc(t.titulo),r.Cb(2),r.nc(t.descripcion),r.Cb(3),r.oc("Priority: ",t.prioridad,""),r.Cb(1),r.dc("ngIf",0===t.estado),r.Cb(1),r.dc("ngIf",1===t.estado),r.Cb(2),r.nc(r.ac(14,9,t.fecha,"short")),r.Cb(3),r.dc("ngIf",0===t.estado),r.Cb(1),r.dc("ngIf",1===t.estado)}}const HT=function(t,e){return{active:t,basic:e}},zT=[{path:"",pathMatch:"full",redirectTo:"/lista"},{path:"lista",component:(()=>{class t{constructor(t){this.tareasService=t,this.tareas=[],this.order=0}ngOnInit(){this.getAll()}getAll(){this.tareasService.getAll().subscribe(t=>{this.tareas=t.map(t=>Object.assign(Object.assign({},t.payload.doc.data()),{id:t.payload.doc.id}))})}ordenar(t){0===t?(this.order=0,this.tareas.sort((t,e)=>t.titulo.localeCompare(e.titulo))):1===t?(this.order=1,this.tareas.sort((t,e)=>t.fecha>e.fecha?1:-1)):(this.order=2,this.tareas.sort((t,e)=>-(t.prioridad-e.prioridad)))}edit(t){}eliminar(t){this.tareasService.deleteTarea(t)}proceso(t){this.tareasService.inProcess(t.id,0===t.estado)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(fw))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-lista"]],decls:17,vars:14,consts:[[1,"top","mt-3"],[1,"titulo"],[1,"controls"],[1,"btn","btn-sm",3,"ngClass","click"],[1,"mt-1","mb-3"],["class","noTareas",4,"ngIf"],[1,"lista","mat-typography"],["class","tarea",3,"ngClass",4,"ngFor","ngForOf"],[1,"noTareas"],[1,"tarea",3,"ngClass"],[1,"top-side"],[1,"task"],[1,"task-info"],[4,"ngIf"],[1,"bot-side"],["class"," btn btn-sm btn-success mr-1",3,"click",4,"ngIf"],["class"," btn btn-sm btn-warning mr-1",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-dark","mr-1",3,"click"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"btn","btn-sm","btn-success","mr-1",3,"click"],[1,"btn","btn-sm","btn-warning","mr-1",3,"click"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"h1"),r.mc(3,"Lista de Tareas pendientes"),r.Ob(),r.Ob(),r.Pb(4,"div",2),r.Pb(5,"p"),r.mc(6,"Ordenar por:"),r.Ob(),r.Pb(7,"button",3),r.Wb("click",function(){return e.ordenar(0)}),r.mc(8,"T\xedtulo"),r.Ob(),r.Pb(9,"button",3),r.Wb("click",function(){return e.ordenar(1)}),r.mc(10,"Fecha"),r.Ob(),r.Pb(11,"button",3),r.Wb("click",function(){return e.ordenar(2)}),r.mc(12,"Prioridad"),r.Ob(),r.Ob(),r.Ob(),r.Nb(13,"mat-divider",4),r.lc(14,MT,2,0,"h3",5),r.Pb(15,"div",6),r.lc(16,BT,22,15,"div",7),r.Ob()),2&t&&(r.Cb(7),r.dc("ngClass",r.gc(5,HT,0===e.order,0!=e.order)),r.Cb(2),r.dc("ngClass",r.gc(8,HT,1===e.order,1!=e.order)),r.Cb(2),r.dc("ngClass",r.gc(11,HT,2===e.order,2!=e.order)),r.Cb(3),r.dc("ngIf",0===e.tareas.length),r.Cb(2),r.dc("ngForOf",e.tareas))},directives:[st,AT,ct,at],pipes:[dt],styles:[".top[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center}.basic[_ngcontent-%COMP%]{background-color:#36c;color:#fff}.active[_ngcontent-%COMP%]{background-color:#ff4d88;color:#fff}.noTareas[_ngcontent-%COMP%]{color:grey}.lista[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.tarea[_ngcontent-%COMP%]{width:250px;border:1px solid #000;margin:5px 5px 5px 0;padding:5px;text-align:center}.task[_ngcontent-%COMP%]{margin-top:5px}.task[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500}.task-info[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:1px;margin-bottom:8px;background-color:#d3d3d3;font-size:small}.proceso[_ngcontent-%COMP%]{background-color:#98fb98;border:1px solid #90ee90}.incompleta[_ngcontent-%COMP%]{background-color:#fff8dc;border:1px solid #ff0}"]}),t})()},{path:"formulario",component:PT},{path:"**",redirectTo:"/lista"}];let KT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[rw.forRoot(zT)],rw]}),t})();const GT=["*",[["mat-toolbar-row"]]],$T=["*","mat-toolbar-row"];class WT{constructor(t){this._elementRef=t}}const QT=bT(WT);let YT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),ZT=(()=>{class t extends QT{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(bw),r.Mb(o))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&r.Fb(n,YT,1),2&t){let t;r.hc(t=r.Xb())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&r.Eb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.zb],ngContentSelectors:$T,decls:2,vars:0,template:function(t,e){1&t&&(r.cc(GT),r.bc(0),r.bc(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),XT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[gT],gT]}),t})();const JT=["mat-button",""],tO=["*"],eO=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class nO{constructor(t){this._elementRef=t}}const rO=bT(yT(vT(nO)));let iO=(()=>{class t extends rO{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of eO)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(Ow),r.Mb(lT,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.pc(IT,1),2&t){let t;r.hc(t=r.Xb())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Db("disabled",e.disabled||null),r.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.zb],attrs:JT,ngContentSelectors:tO,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.cc(),r.Pb(0,"span",0),r.bc(1),r.Ob(),r.Nb(2,"span",1),r.Nb(3,"span",2)),2&t&&(r.Cb(2),r.Eb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.dc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[IT],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),sO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[xT,gT],gT]}),t})();const oO=function(){return["/lista"]},aO=function(){return["/formulario"]},uO=function(){return["/historico"]};let cO=(()=>{class t{constructor(){this.title="todolistV2"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-root"]],decls:12,vars:6,consts:[[1,"header"],["color","primary"],["mat-flat-button","","color","accent",1,"ml-5",3,"routerLink"],[1,"container"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"mat-toolbar",1),r.Pb(2,"span"),r.mc(3,"ToDoList V2"),r.Ob(),r.Pb(4,"button",2),r.mc(5,"Lista de tareas"),r.Ob(),r.Pb(6,"button",2),r.mc(7,"Formulario"),r.Ob(),r.Pb(8,"button",2),r.mc(9,"Completadas"),r.Ob(),r.Ob(),r.Ob(),r.Pb(10,"div",3),r.Nb(11,"router-outlet"),r.Ob()),2&t&&(r.Cb(4),r.dc("routerLink",r.fc(3,oO)),r.Cb(2),r.dc("routerLink",r.fc(4,aO)),r.Cb(2),r.dc("routerLink",r.fc(5,uO)))},directives:[ZT,iO,K_,$_],styles:[""]}),t})();n("z6cu"),n("w1tV");let lO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[gT],gT]}),t})(),hO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t,bootstrap:[cO]}),t.\u0275inj=r.Jb({providers:[Dg],imports:[[Gt,KT,$t.a.initializeApp(Qy),Wy,dT,XT,lO,sO,kT]]}),t})();Object(r.U)(),zt().bootstrapModule(hO).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);